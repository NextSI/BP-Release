"use strict";define(["react","react-dom"],function(a,e){return class extends a.Component{constructor(a){var e,t,i,l,s,o,r,n,c,d,h,m,p,v,C,u,R,k,f,b,E,S,A,N,P,w,g;super(a),this.selecaoProjetoRef=null,this.state={SalvarEnviar:null!==(e=a.SalvarEnviar)&&void 0!==e?e:"hidden",NovoChamado:null!==(t=a.NovoChamado)&&void 0!==t?t:"",NovaSolicitacao:null!==(i=a.NovaSolicitacao)&&void 0!==i?i:"",Salvar:null!==(l=a.Salvar)&&void 0!==l?l:"hidden",SalvarSair:null!==(s=a.SalvarSair)&&void 0!==s?s:"hidden",Cancelar:null!==(o=a.Cancelar)&&void 0!==o?o:"",Reprogramar:null!==(r=a.Reprogramar)&&void 0!==r?r:"hidden",AlterarResponsavel:null!==(n=a.AlterarResponsavel)&&void 0!==n?n:"hidden",AssumirAtividade:null!==(c=a.AssumirAtividade)&&void 0!==c?c:"hidden",DesvincularResponsabilidade:null!==(d=a.DesvincularResponsabilidade)&&void 0!==d?d:"hidden",CancelarSolicitacao:null!==(h=a.CancelarSolicitacao)&&void 0!==h?h:"hidden",ReabrirSolicitacao:null!==(m=a.ReabrirSolicitacao)&&void 0!==m?m:"hidden",RetornarAtividadeAnterior:null!==(p=a.RetornarAtividadeAnterior)&&void 0!==p?p:"",VincularProjeto:null!==(v=a.VincularProjeto)&&void 0!==v?v:"hidden",PorcentagemConcluido:null!==(C=a.PorcentagemConcluido)&&void 0!==C?C:"",PorcentagemNecessario:null!==(u=a.PorcentagemNecessario)&&void 0!==u?u:"",ProjetoID:null!==(R=a.ProjetoID)&&void 0!==R?R:"",ProjetoTemplate:null!==(k=a.ProjetoTemplate)&&void 0!==k?k:"",TextoCancelar:null!==(f=a.TextoCancelar)&&void 0!==f?f:"Cancelar alterações",Visualizar:null!==(b=a.Visualizar)&&void 0!==b?b:"",DownloadTodosAnexos:null!==(E=a.DownloadTodosAnexos)&&void 0!==E?E:"hidden",DownloadPdf:null!==(S=a.DownloadPdf)&&void 0!==S?S:"",ImprimirPdf:null!==(A=a.ImprimirPdf)&&void 0!==A?A:"",DownloadTemplate:null!==(N=a.DownloadTemplate)&&void 0!==N?N:"",SupervisorProcesso:null!==(P=a.SupervisorProcesso)&&void 0!==P&&P,CamposHabilitados:null!==(w=a.CamposHabilitados)&&void 0!==w&&w,projetoVinculadoPendente:null!==(g=a.projetoVinculadoPendente)&&void 0!==g&&g},this.handleSalvarEnviarClick=this.handleSalvarEnviarClick.bind(this),this.handleVisualizarAtividadesProjeto=this.handleVisualizarAtividadesProjeto.bind(this),this.handleDownloadPDFClick=this.handleDownloadPDFClick.bind(this),this.handleImprimirPdfClick=this.handleImprimirPdfClick.bind(this),this.handleDownloadTemplateClick=this.handleDownloadTemplateClick.bind(this),this.handleNovoChamadoClick=this.handleNovoChamadoClick.bind(this),this.handleNovaSolicitacaoClick=this.handleNovaSolicitacaoClick.bind(this),this.handleSalvarClick=this.handleSalvarClick.bind(this),this.handleSalvarSairClick=this.handleSalvarSairClick.bind(this),this.handleCancelarClick=this.handleCancelarClick.bind(this),this.handleReprogramarClick=this.handleReprogramarClick.bind(this),this.handleAlterarResponsavelClick=this.handleAlterarResponsavelClick.bind(this),this.handleAssumirAtividadeClick=this.handleAssumirAtividadeClick.bind(this),this.handleDesvincularResponsabilidadeClick=this.handleDesvincularResponsabilidadeClick.bind(this),this.handleCancelarSolicitacaoClick=this.handleCancelarSolicitacaoClick.bind(this),this.handleReabrirSolicitacaoClick=this.handleReabrirSolicitacaoClick.bind(this),this.handleRetornarAtividadeAnteriorClick=this.handleRetornarAtividadeAnteriorClick.bind(this),this.handleDownloadTodosAnexos=this.handleDownloadTodosAnexos.bind(this),this.handleHabilitarEdicaoCampos=this.handleHabilitarEdicaoCampos.bind(this),this.handleAlterarProjetoVinculado=this.handleAlterarProjetoVinculado.bind(this)}handleSalvarEnviarClick(a){this.state.projetoVinculadoPendente?window.alertaPopUp("Validação","Não foi possível avançar com o Processo, pois o Projeto vinculado ainda não atingiu a porcentagem de conclusão necessária.<br><br><strong>- Necessário:</strong> "+this.state.PorcentagemNecessario+"<br><strong>- Concluído:</strong> "+this.state.PorcentagemConcluido,"Ok",()=>{}):this.props.handleSalvarEnviarClick()}handleVisualizarAtividadesProjeto(a){let e=this.state.ProjetoID,t=this.state.ProjetoTemplate;View.load("atividade_projeto/listar",function(a,i){i.show(e,t)},View.ABA.MULTIPLAS,null,null,{projetoId:e})}handleDownloadPDFClick(a){this.props.handleDownloadPDFClick()}handleImprimirPdfClick(a){this.props.handleImprimirPdfClick()}handleDownloadTemplateClick(a){this.props.handleDownloadTemplateClick()}handleNovoChamadoClick(a){this.props.handleNovoChamadoClick()}handleNovaSolicitacaoClick(a){this.props.handleNovaSolicitacaoClick()}handleSalvarClick(a){this.props.handleSalvarClick()}handleSalvarSairClick(a){this.props.handleSalvarSairClick()}handleCancelarClick(a){this.props.handleCancelarClick()}handleReprogramarClick(a){this.props.handleReprogramarClick()}handleAlterarResponsavelClick(a){this.props.handleAlterarResponsavelClick()}handleAssumirAtividadeClick(a){this.props.handleAssumirAtividadeClick()}handleDesvincularResponsabilidadeClick(a){this.props.handleDesvincularResponsabilidadeClick()}handleCancelarSolicitacaoClick(a){this.props.handleCancelarSolicitacaoClick()}handleReabrirSolicitacaoClick(a){this.props.handleReabrirSolicitacaoClick()}handleRetornarAtividadeAnteriorClick(a){this.props.handleRetornarAtividadeAnteriorClick()}handleDownloadTodosAnexos(a){this.props.handleDownloadTodosAnexos()}handleHabilitarEdicaoCampos(a){this.props.handleHabilitarEdicaoCampos()}handleAlterarProjetoVinculado(a,e,t,i){this.props.handleAlterarProjetoVinculado(a,e,t,i)}render(){const a=React.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle btnOpcoesFiltroProcesso BotaoResponsivo pull-right","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},React.createElement("span",{className:"fa fa-filter"})," ","Opções ",React.createElement("span",{className:"caret pull-right",style:{marginTop:"8px"}})),e=React.createElement(window.components.SelecaoProjeto.default,{width:350,dataGridWidth:700,selecionado:this.state.ProjetoID.toString(),style:{float:"right",marginTop:3,marginRight:10,marginLeft:10},aoAlterar:this.handleAlterarProjetoVinculado,getDropDownRef:a=>{this.selecaoProjetoRef=a},dataGridOnToolbarPreparing:a=>{const e=[{widget:"dxButton",options:{icon:"fa fa-plus",hint:"Adicionar Projeto",text:"Adicionar",onClick:()=>{this.selecaoProjetoRef&&this.selecaoProjetoRef.current&&this.selecaoProjetoRef.current._instance.close(),View.load("projeto/detalhes",(a,e)=>{e.show(null,FORMULARIO.NOVO)},View.ABA.MULTIPLAS)}},location:"after",name:"BtnNovoApontamento",locateInMenu:"auto"}];a.toolbarOptions.items=window.add_botao_dx_toolbar(e,a.toolbarOptions.items)},displayExpr:a=>a&&a.codigo+" "+a.nome}),t=React.createElement("button",{type:"button",className:"btn "+(this.state.projetoVinculadoPendente?"btn-warning":"btn-primary")+" btn_enviar BotaoResponsivo "+this.state.SalvarEnviar,onClick:this.handleSalvarEnviarClick},React.createElement("span",{className:this.state.projetoVinculadoPendente?"fas fa-exclamation-triangle":"fas fa-forward"})," Salvar e enviar"),i=React.createElement("button",{type:"button",className:"pull-right btn btn-default btn_assumir_atividade BotaoResponsivo "+this.state.AssumirAtividade,onClick:this.handleAssumirAtividadeClick},"Assumir Atividade"),l=React.createElement("button",{type:"button",className:"pull-right btn btn-default btn_desvincular_responsabilidade BotaoResponsivo "+this.state.DesvincularResponsabilidade,onClick:this.handleDesvincularResponsabilidadeClick},"Desvincular Responsabilidade");return React.createElement("div",{className:"row",style:{paddingTop:"10px"}},React.createElement("div",{className:"col-md-2 col-sm-2 col-xs-12"},!this.state.Visualizar&&""==this.state.SalvarEnviar&&t),React.createElement("div",{className:"col-md-10 col-sm-10 col-xs-12"},a,!this.state.Visualizar&&"hidden"!==this.state.VincularProjeto&&e,React.createElement("ul",{className:"dropdown-menu BotaoResponsivo pull-right",style:{marginRight:"15px"}},"hidden"!=this.state.DownloadPdf&&React.createElement("li",{className:this.state.DownloadPdf},"                                                                                    ",React.createElement("a",{href:"javascript:;",onClick:this.handleDownloadPDFClick},"              ",React.createElement("div",{className:"fa fa-file-pdf"},"               "),"   Download do formulário           ")),"hidden"!=this.state.ImprimirPdf&&React.createElement("li",{className:this.state.ImprimirPdf},"                                                                                    ",React.createElement("a",{href:"javascript:;",onClick:this.handleImprimirPdfClick},"              ",React.createElement("div",{className:"fa fa-print"},"               "),"   Imprimir formulário           ")),"hidden"!=this.state.DownloadTemplate&&React.createElement("li",{className:this.state.Template},React.createElement("a",{href:"javascript:;",onClick:this.handleDownloadTemplateClick},React.createElement("div",{className:"fas fa-file-export"}),"   Download Template")),""==this.state.DownloadTodosAnexos&&React.createElement("li",{className:this.state.DownloadTodosAnexos},"                                                                             ",React.createElement("a",{href:"javascript:;",onClick:this.handleDownloadTodosAnexos},"            ",React.createElement("div",{className:"fa fa-file-archive"},"           "),"   Download de todos anexos         ")),!(!this.state.SupervisorProcesso||this.state.CamposHabilitados)&&React.createElement("li",{className:this.state.SupervisorProcesso},"                                                                              ",React.createElement("a",{href:"javascript:;",onClick:this.handleHabilitarEdicaoCampos},"          ",React.createElement("div",{className:"fa fa-pencil-alt"}),"   Editar Campos                           ")),!(!(!this.state.Visualizar||this.state.SupervisorProcesso&&this.state.CamposHabilitados)||""!=this.state.Salvar)&&React.createElement("li",{className:this.state.Salvar},"                                                                                          ",React.createElement("a",{href:"javascript:;",onClick:this.handleSalvarClick},"                    ",React.createElement("div",{className:"far fa-save"}),"   Salvar                           ")),!(!(!this.state.Visualizar||this.state.SupervisorProcesso&&this.state.CamposHabilitados)||""!=this.state.SalvarSair)&&React.createElement("li",{className:this.state.SalvarSair},"                                                                                      ",React.createElement("a",{href:"javascript:;",onClick:this.handleSalvarSairClick},"                ",React.createElement("div",{className:"far fa-save"}),React.createElement("div",{className:"fa fa-sign-out-alt icon-on-top"}),"Salvar e sair                    ")),""==this.state.Cancelar&&React.createElement("li",{className:this.state.Cancelar},"                                                                                                                                   ",React.createElement("a",{href:"javascript:;",onClick:this.handleCancelarClick},"                  ",React.createElement("div",{className:"fa fa-times"},"      "),"   ",this.state.TextoCancelar,"      ")),!this.state.Visualizar&&""==this.state.CancelarSolicitacao&&React.createElement("li",{className:this.state.CancelarSolicitacao},"                                                                             ",React.createElement("a",{href:"javascript:;",onClick:this.handleCancelarSolicitacaoClick},"       ",React.createElement("div",{className:"fa fa-trash"},"       "),"   Cancelar solicitação            ")),!this.state.Visualizar&&""==this.state.ReabrirSolicitacao&&React.createElement("li",{className:this.state.ReabrirSolicitacao},"                                                                               ",React.createElement("a",{href:"javascript:;",onClick:this.handleReabrirSolicitacaoClick},"       ",React.createElement("div",{className:"fa fa-undo"},"       "),"   Reabrir solicitação            ")),!this.state.Visualizar&&!window.App.sessao.sessao_login_anonimo&&React.createElement("li",{role:"separator",className:"divider"}),!this.state.Visualizar&&""==this.state.NovoChamado&&React.createElement("li",{className:this.state.NovoChamado},"                                                                                     ",React.createElement("a",{href:"javascript:;",onClick:this.handleNovoChamadoClick},"               ",React.createElement("img",{src:"assets/img/icones_bp/comunication.svg",width:"15px"}),"   Novo chamado                    ")),!this.state.Visualizar&&""==this.state.NovaSolicitacao&&React.createElement("li",{className:this.state.NovaSolicitacao},"                                                                                 ",React.createElement("a",{href:"javascript:;",onClick:this.handleNovaSolicitacaoClick},"           ",React.createElement("img",{src:"assets/img/icones_bp/processos.svg",width:"15px"}),"   Nova solicitação                ")),!this.state.Visualizar&&""==this.state.Salvar&&!window.App.sessao.sessao_login_anonimo&&React.createElement("li",{role:"separator",className:"divider"}),!this.state.Visualizar&&""==this.state.AlterarResponsavel&&""==this.state.Salvar&&React.createElement("li",{className:this.state.AlterarResponsavel},"                                                                              ",React.createElement("a",{href:"javascript:;",onClick:this.handleAlterarResponsavelClick},"        ",React.createElement("div",{className:"fa fa-edit"},"        "),"   Alterar responsável             ")),!this.state.Visualizar&&""==this.state.Reprogramar&&""==this.state.Salvar&&React.createElement("li",{className:this.state.Reprogramar},"                                                                                     ",React.createElement("a",{href:"javascript:;",onClick:this.handleReprogramarClick},"               ",React.createElement("div",{className:"fa fa-calendar"},"        "),"   Reprogramar                     ")),!this.state.Visualizar&&""==this.state.RetornarAtividadeAnterior&&React.createElement("li",{className:this.state.RetornarAtividadeAnterior},"                                                                       ",React.createElement("a",{href:"javascript:;",onClick:this.handleRetornarAtividadeAnteriorClick}," ",React.createElement("div",{className:"fa fa-step-backward"},"  "),"   Retornar para atividade anterior")),!this.state.Visualizar&&+this.state.ProjetoID>0&&!window.App.sessao.sessao_login_anonimo&&React.createElement("li",{role:"separator",className:"divider"}),!this.state.Visualizar&&+this.state.ProjetoID>0&&React.createElement("li",{className:this.state.VincularProjeto},React.createElement("a",{href:"javascript:;",onClick:this.handleVisualizarAtividadesProjeto},React.createElement("div",{className:"fa fa-list"},React.createElement("div",{className:"fa fa-eye icon-on-top"})),"Visualizar projeto"))),!this.state.Visualizar&&""==this.state.AssumirAtividade&&""==this.state.Salvar&&i,!this.state.Visualizar&&""==this.state.DesvincularResponsabilidade&&""==this.state.Salvar&&l))}}});