define([],function(){return function(t){"use strict";var i=this,_=null;this.html_id=t,this.dialog=$("#"+this.html_id),this.title="D4Sign Assinaturas",this.cbo_api_url=this.dialog.find(".cbo_api_url"),this.edt_token=this.dialog.find(".edt_token"),this.edt_crypt_key=this.dialog.find(".edt_crypt_key"),this.edt_hmac_sha256_secret=this.dialog.find(".edt_hmac_sha256_secret"),this.cbo_cofre=this.dialog.find(".cbo_cofre"),this.lbl_webhook_url_nextbp=this.dialog.find(".lbl_webhook_url_nextbp"),this.chk_ativo=this.dialog.find(".chk_ativo"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.btn_listar_cofres=this.dialog.find(".btn_listar_cofres"),this.show=function(){(_=function(t){var _={};t&&(_={d4sign_api_url:i.cbo_api_url.val(),d4sign_token:i.edt_token.val(),d4sign_crypt_key:i.edt_crypt_key.val()}),WS.get({route:"d4sign/get_parametros/",data:_,func_response:function(_){if(null!==typeof _){var s=_.d4sign_api_url,e=_.d4sign_token,a=_.d4sign_crypt_key,n=_.d4sign_ativo,o=_.d4sign_cofre,c=_.d4sign_webhook_url_nextbp,r=_.d4sign_lista_cofres,d=_.d4sign_hmac_sha256_secret,l="S"===n;!function(t){if("object"==typeof t){i.cbo_cofre.children().remove();for(var _=0;_<t.length;_++){var s=t[_];add_option(i.cbo_cofre,s.uuid_safe,s["name-safe"])}}}(r),t||(i.cbo_api_url.val(s),i.edt_token.val(e),i.edt_crypt_key.val(a),i.edt_hmac_sha256_secret.val(d),i.cbo_cofre.val(o),i.lbl_webhook_url_nextbp.text(c),i.chk_ativo.prop("checked",l).change())}}})})(!1)},this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post({route:"d4sign/salvar_parametros/",data:{d4sign_api_url:i.cbo_api_url.val(),d4sign_token:i.edt_token.val(),d4sign_crypt_key:i.edt_crypt_key.val(),d4sign_hmac_sha256_secret:i.edt_hmac_sha256_secret.val(),d4sign_cofre:i.cbo_cofre.val(),d4sign_ativo:i.chk_ativo.prop("checked")},func_response:function(t){alert_saved("Configurações salvas com sucesso"),i.unload()}})}),this.btn_listar_cofres.unbind("click"),this.btn_listar_cofres.click(function(){_(!0)}),this.unload=function(){View.unload(this.html_id)},this.show()}});