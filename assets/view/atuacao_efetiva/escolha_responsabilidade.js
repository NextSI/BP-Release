define([],function(){return function(i){"use strict";var d=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.tipo=null,this.onclose=null,this.onsave=null,this.atuacao_efetiva_id=null,this.indicador_id=0,this.edt_nome=this.dialog.find(".edt_nome"),this.cbo_novo_indicador=this.dialog.find(".cbo_novo_indicador"),this.radio_indicador=this.dialog.find(".radio_indicador"),this.edt_indicador=this.dialog.find(".edt_indicador"),this.div_selecao_indicador=this.dialog.find(".div_selecao_indicador"),this.div_novo_indicador=this.dialog.find(".div_novo_indicador"),this.responsabilidades_a=[],d.edt_indicador.prop("disabled",!0),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_responsabilidade_1=this.dialog.find(".btn_responsabilidade_1"),this.btn_responsabilidade_2=this.dialog.find(".btn_responsabilidade_2"),this.selected_cbo_atuacao_efetiva_id=null,this.show=function(i,a){setTimeout(function(){WS.get("atuacao_efetiva_indicador_responsabilidade/listar/",{atuacao_efetiva_id:i,indicador_id:a,tipo:"a"},function(i){d.responsabilidades_a=i,d.btn_responsabilidade_1.text(d.responsabilidades_a[0].descricao),d.btn_responsabilidade_2.text(d.responsabilidades_a[1].descricao)}),show_modal(d.modal.attr("id"))},150)},d.btn_responsabilidade_1.click(function(i){d.onsave(d.responsabilidades_a[0],d.responsabilidades_a[1])}),d.btn_responsabilidade_2.click(function(i){d.onsave(d.responsabilidades_a[1],d.responsabilidades_a[0])}),this.close=function(){close_modal(d.modal.attr("id")),void 0!==d.onclose&&d.onclose&&d.onclose()},d.cbo_novo_indicador.change(function(i){d.selected_cbo_atuacao_efetiva_id=$(this).find("option:selected").attr("data-id-atuacao")}),this.radio_indicador.unbind("click"),this.radio_indicador.click(function(){1==parseInt($(this).val())?(d.cbo_novo_indicador.prop("disabled",!1),d.edt_indicador.prop("disabled",!0),d.cbo_novo_indicador.val(""),d.edt_indicador.val("")):2==parseInt($(this).val())&&(d.cbo_novo_indicador.prop("disabled",!0),d.edt_indicador.prop("disabled",!1),d.cbo_novo_indicador.val(""),d.edt_indicador.val(""))}),this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){d.unload()}),this.unload=function(){d.close(),View.unload(this.html_id)},this.permite_alterar=function(i){d.edt_indicador.prop("readonly",!i)},this.preencher=function(){WS.get("atuacao_efetiva/objeto/",{atuacao_efetiva_id:d.atuacao_efetiva_id},function(i){d.edt_indicador.val(i.indicador)})}}});