define([],function(){return function(t){"use strict";var i=this;this.html_id=t,this.dialog=$("#"+this.html_id),this.title="Certsign Assinaturas",this.cbo_api_url=this.dialog.find(".cbo_api_url"),this.edt_access_token=this.dialog.find(".edt_access_token"),this.lbl_webhook_url_nextbp=this.dialog.find(".lbl_webhook_url_nextbp"),this.edt_header=this.dialog.find(".edt_header"),this.edt_valor_token=this.dialog.find(".edt_valor_token"),this.chk_ativo=this.dialog.find(".chk_ativo"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.btnGerarToken=this.dialog.find(".btnGerarToken"),this.show=function(){WS.get({route:"certsign/get_parametros/",data:{},func_response:function(t){i.cbo_api_url.val(t.certsign_api_url),i.edt_access_token.val(t.certsign_access_token),i.lbl_webhook_url_nextbp.text(t.certsign_webhook_url_nextbp),i.edt_valor_token.val(t.certsign_token),i.chk_ativo.prop("checked","S"===t.certsign_ativo).change()}})},this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post({route:"certsign/salvar_parametros/",data:{certsign_api_url:i.cbo_api_url.val(),certsign_access_token:i.edt_access_token.val(),certsign_token:i.edt_valor_token.val(),certsign_ativo:i.chk_ativo.prop("checked")},func_response:function(t){alert_saved("Configurações salvas com sucesso"),i.unload()}})}),this.btnGerarToken.unbind("click"),this.btnGerarToken.click(function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length,a=0;a<32;a++)t+=e.charAt(Math.floor(Math.random()*n));i.edt_valor_token.val(t)}),this.unload=function(){View.unload(this.html_id)},this.show()}});