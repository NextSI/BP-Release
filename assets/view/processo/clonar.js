define([],function(){return function(o){"use strict";var i=this;this.html_id=o,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.tipo=null,this.onclose=null,this.onconfirm=null,this.processo_id=null,this.edt_nome_processo_clone=this.dialog.find(".edt_nome_processo_clone"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_confirmar=this.dialog.find(".btn_confirmar"),this.show=function(o,t){i.processo_id=t;var n=o;show_modal(i.modal.attr("id")),i.title.text("Clonar processo "+n)},this.close=function(){close_modal(i.modal.attr("id")),void 0!==i.onclose&&i.onclose&&i.onclose()},this.unload=function(){i.close(),View.unload(this.html_id)},this.btn_confirmar.unbind("click"),this.btn_confirmar.click(function(){WS.post("processo/clonar",{processo_id:i.processo_id,nome_processo_clone:i.edt_nome_processo_clone.val()},function(o){i.processo_id=o.processo_id,alert_saved("Processo clonado com sucesso"),i.unload()},[i.btn_confirmar,i.btn_cancelar])}),this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){i.unload()})}});