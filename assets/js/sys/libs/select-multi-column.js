function resize_dropdown(e){var n=e||$(".select-multi-column").next();if(n.find(".open").length>0){n=n.find(".open").parent();var t=$(window).width(),o=n.find(".edt_combobox"),d=0;if(t>=768&&t<=992){d=.7;var i=n.find(".multi-column-dropdown").outerWidth()>n.width()?n.find(".multi-column-dropdown").outerWidth():n.width(),a=n.find(".header_col").length;n.find(".multi-column-dropdown").css({"max-width":t-100,width:i,left:-(n.width()-29)}),n.find(".header_col").width("100%"),n.find(".detalhe_col").width("100%")}else if(t>992&&t<1366){d=1;i=n.find(".multi-column-dropdown").outerWidth()>n.width()?n.find(".multi-column-dropdown").outerWidth():n.width(),a=n.find(".header_col").length;n.find(".multi-column-dropdown").css({width:i,left:-(n.width()-29)}),1==a?(n.find(".header_col").width("100%"),n.find(".detalhe_col").width("100%")):(n.find(".header_col").width(i/(a+d)+"px"),n.find(".detalhe_col").width(i/(a+d)+"px"))}else if(t>=1366){d=.7;i=n.find(".multi-column-dropdown").outerWidth()>n.width()?n.find(".multi-column-dropdown").outerWidth():n.width(),a=n.find(".header_col").length;n.find(".multi-column-dropdown").css({width:i,left:-(n.width()-29)}),1==a?(n.find(".header_col").width("100%"),n.find(".detalhe_col").width("100%")):(n.find(".header_col").width(i/(a+d)+"px"),n.find(".detalhe_col").width(i/(a+d)+"px"))}else t<=769&&(n.find(".multi-column-dropdown").css({"max-width":$(o).width()+34,width:$(o).width()+34,left:-(n.width()-29)}),n.find(".detalhe_col").css({width:"100%"}))}}function create_combobox(e,n,t,o,d){var i='<div class="input-group combobox" style="width: 100%;"> <span class="input-group-addon edt_codigo_item hidden" style="width: 100px; text-align: left; padding-bottom: 2px; padding-top: 2px;"></span><input type="text" selected-value="" class="form-control edt_combobox"> <div class="input-group-btn ninput-group-btn-dropdown"> <button type="button" class="btn btn-success btn_novo hidden" data-toggle="dropdown"> <span></span>Novo </button><button type="button" class="btn btn-danger btn_desfazer hidden" style="border-radius:0;"  data-toggle="dropdown" data-on-info="Desfazer" data-on-icon="&#xf1f8"> <span></span> </button><button type="button" class="btn btn-default dropdown-toggle btn_informacao" style="display: none;"> <span class="glyphicon glyphicon-info-sign"></span> </button><button type="button" class="btn btn-default dropdown-toggle btn_combobox" id="btn_combobox" data-toggle="dropdown" tabindex="-1" aria-haspopup="true" > <span class="caret"></span> </button><div class="dropdown-menu pull-right multi-column-dropdown" role="menu" style="z-index: 101; overflow: auto; height: 400px;" aria-labelledby="btn_combobox"><div class="ncbo_header" style="margin-right: 16px;"><ul></ul><hr class="select-header-hr"></div><div class="ncbo_scroll"> <ul class="ncbo_list" style="list-style:none;margin:0;padding:0;zoom:1;"> <li class="ncbo_item ncbo_template" style="display:none;" > <ul class="ul_row"></ul></li></ul></div></div></div></div> ';e.css("display","none");var a,l=null;if(void 0!==o&&o)(void 0!==o||o)&&(e.before(i),l=a=e.prev(".combobox"));else{var r=getDateNow().getTime(),s="SMC_Next_"+md5(r);a=e.parent(),e.addClass(s);var c=a.append($(i).attr("id",s));l=$(c).find("#"+s)}$(l).get(0).dados=d;var u=a.find(".edt_combobox"),f=a.find("button");function v(t){var o=a.find(".ncbo_header"),i=a.find(".ncbo_template"),l=a.find(".ncbo_rows"),r=a.find(".ncbo_scroll"),s=a.find(".ninput-group-btn-dropdown");o.find("ul").find("li").remove(),i.find("ul").find("li").remove(),l.remove();var c=function(e){var n=a.find(".btn_novo");n.removeClass("hidden"),0==e?(n.removeClass("hidden"),s.removeClass("open")):(n.addClass("hidden"),0==t&&s.addClass("open")),setTimeout(function(){resize_dropdown()},400)},f=(r.find(".ncbo_rows"),u.val());1==t&&u.val(""),void 0===d?n(c,$(e)):n(c,$(e),d),u.val(f),$(e).find(".dropdown-backdrop").hide(),u.focus(),r.scrollTop(0)}if(void 0===$(e).attr("disabled")&&void 0===$(e).attr("readonly")||($(u).attr("disabled",!0),$(u).attr("readonly",!0),$(f).attr("disabled",!0)),void 0!==$(e).attr("placeholder")&&""!=$(e).attr("placeholder")&&$(u).attr("placeholder",$(e).attr("placeholder")),void 0===d||void 0!==d&&void 0===d.pesquisar_enter||!d.pesquisar_enter)u.keyup($.debounce(300,function(e){u.val().length<=0||40!=e.keyCode&&38!=e.keyCode&&13!=e.keyCode&&33!=e.keyCode&&34!=e.keyCode&&35!=e.keyCode&&36!=e.keyCode&&9!=e.keyCode&&n&&v(!1)})),u.keypress(function(n){var o=a.find(".ncbo_scroll").find(".row_selected"),d=$("#"+GetNameGeneric($(e),!0)),i=$(d).data("instance");if(n.keyCode==KEYPRESS_PADRAO.ENTER&&""!=u.val().trim()){var l=$(o).data("dados"),r=a.find(".btn_novo");if(0==r.hasClass("hidden"))return void r.click();var s,c=o.attr("id_registro");if($(this).attr("dados-adicionais",$(o).attr("dados-adicionais")),void 0!==c&&"undefined"!=c)void 0!==i&&void 0!==i.selected_item&&(i.selected_item=l),s=t&&null!=t?o.find("."+t):o.find(".col1"),""!=$(e).find('option[value="'+c+'"]').attr("data-addon-valor")&&(a.find(".input-group-addon").text($(e).find('option[value="'+c+'"]').attr("data-addon-valor")),void 0!==i&&void 0!==i.habilitar_addon&&i.habilitar_addon&&a.find(".input-group-addon").removeClass("hidden")),void 0!==i&&void 0!==i.habilitar_desfazer&&void 0!==i.habilitar_desfazer&&i.habilitar_desfazer&&$(e).SelectMultiColumn("undo_show"),$(d).attr("value",c),$(e).find('option[value="'+c+'"]').attr("selected","selected").trigger("change"),u.attr("selected-value",c),u.val(s.text()),a.find(".ninput-group-btn-dropdown").removeClass("open"),u.focus()}else n.keyCode==KEYPRESS_PADRAO.ENTER&&""==u.val().trim()&&void 0!==i&&void 0!==i.selected_item&&(i.selected_item=null)});else{var p=a.find(".btn_novo");u.keyup(function(e){e.which!=KEYPRESS_PADRAO.ENTER&&(p.hasClass("hidden")||p.addClass("hidden"))}),u.keypress(function(n){var o=a.find(".ncbo_scroll"),d=o.find(".row_selected"),i=$("#"+GetNameGeneric($(e),!0)),l=$(i).data("instance");if(n.keyCode==KEYPRESS_PADRAO.ENTER){if(""==u.val().trim())return u.attr("selected-value",""),u.val(""),$(this).attr("dados-adicionais",""),a.find(".input-group-addon").text(""),void d.removeClass("row_selected");$(d).data("dados");var r=a.find(".ninput-group-btn-dropdown"),s=r.hasClass("open"),c=o.find(".ncbo_rows:not(.ncbo_template)"),f=[],p=u.val(),_=a.find(".btn_novo");if(0==_.hasClass("hidden"))return u.attr("selected-value",""),$(this).attr("dados-adicionais",""),a.find(".input-group-addon").text(""),void _.click();if(s){for(var b=0;b<c.length;b++)for(var h=c[b],m=0;m<$(h).find(".detalhe_col").length;m++){var w=$(h).find(".detalhe_col").eq(m);f.push($(w).text())}if(f.filter(function(e){return e===p}).length>0){var g=$(c).find('.detalhe_col:contains("'+p+'")');0==g.length&&(u.attr("selected-value",""),u.val(""),$(this).attr("dados-adicionais",""),a.find(".input-group-addon").text(""));for(var x=null,O=0;O<g.length;O++){var y=g[O];if($(y).text()===p){x=y;break}}(h=$(x).parents("[id_registro]")).addClass("row_selected"),d=h}var C,z=d.attr("id_registro");if($(this).attr("dados-adicionais",$(d).attr("dados-adicionais")),void 0!==z&&null!=z)C=t&&null!=t?d.find("."+t):d.find(".col1"),""!=$(e).find('option[value="'+z+'"]').attr("data-addon-valor")&&(a.find(".input-group-addon").text($(e).find('option[value="'+z+'"]').attr("data-addon-valor")),void 0!==l&&void 0!==l.habilitar_addon&&l.habilitar_addon&&a.find(".input-group-addon").removeClass("hidden")),void 0!==l&&void 0!==l.habilitar_desfazer&&void 0!==l.habilitar_desfazer&&l.habilitar_desfazer&&$(e).SelectMultiColumn("undo_show"),$(i).attr("value",z),$(e).find('option[value="'+z+'"]').attr("selected","selected").trigger("change"),u.attr("selected-value",z),u.val(C.text());r.removeClass("open"),u.focus()}else v(!1)}})}u.keydown(function(e){if(38==e.keyCode||33==e.which||35==e.which){if(38==e.keyCode){var n=$(this).index(),t=a.find(".multi-column-dropdown").scrollTop();a.find(".multi-column-dropdown").scrollTop(t-31)}n=(l=a.find(".ncbo_scroll")).find(".row_selected").attr("data-original-index");var o=parseInt(n)-1;a.find(".ncbo_item").removeClass("bg-primary"),a.find(".ncbo_item").removeClass("row_selected");var d=a.find(".ncbo_list").find("ul").length-2,i=l.find('[data-original-index="'+o+'"]');o<0||35==e.which?(i=l.find('[data-original-index="'+d+'"]'),l.scrollTop(100*d)):l.scrollTop(l.scrollTop()-30),i.addClass("bg-primary"),i.addClass("row_selected")}if(40==e.keyCode||34==e.which||36==e.which){if(40==e.keyCode){n=$(this).index(),t=a.find(".multi-column-dropdown").scrollTop();a.find(".multi-column-dropdown").scrollTop(t+31)}var l;n=(l=a.find(".ncbo_scroll")).find(".row_selected").attr("data-original-index"),o=parseInt(n)+1;a.find(".ncbo_item").removeClass("bg-primary"),a.find(".ncbo_item").removeClass("row_selected");i=l.find('[data-original-index="'+o+'"]');1==isNaN(i.attr("data-original-index"))||36==e.which?(i=l.find('[data-original-index="0"]'),l.scrollTop(0)):l.scrollTop(l.scrollTop()+30),i.addClass("bg-primary"),i.addClass("row_selected")}}),a.find(".btn_combobox").click(function(){void 0!==d&&"boolean"==typeof d.pesquisar_tudo_seta&&!1===d.pesquisar_tudo_seta?v(!1):v(!0),$(this).find(".dropdown-backdrop").hide()}),a.find(".multi-column-dropdown")[0].addEventListener("wheel",function(e){return e.preventDefault(),e.stopPropagation(),a.find(".multi-column-dropdown")[0].scrollTop+=e.deltaY,!1})}function add_option_combobox(e,n,t,o,d,i,a,l,r){var s={},c=!1,u=null;if("object"==typeof e&&void 0!==e.isIntantiatedNative)s.select=e.select,s.index=e.index,s.id_registro=e.id_registro,s.icone=e.icone,s.arr_itens=e.arr_itens,s.coluna_referencia=e.coluna_referencia,s.isIntantiatedNative=e.isIntantiatedNative,s.attr=e.attr,s.OnClickOverRow=e.OnClickOverRow,s.OnUndo=e.OnUndo,s.OnLoadData=e.OnLoadData,s.desfazer_label=e.desfazer_label,s.desfazer_icone=e.desfazer_icone,s.habilitar_desfazer=e.habilitar_desfazer,u=e.dados,n=s.index,t=s.id_registro,s.isIntantiatedNative,a=s.coluna_referencia,o=s.arr_itens,d=s.icone,i=s.attr,e=s.select;else{var f=$(e).filter("input").length>0?$(e).parent().prev():0==$(e).filter("select").length?$(e).find("select"):$(e),v=$("#"+GetNameGeneric($(f),!0)),p=void 0!==$(v).get(0)?$(v).get(0).dados:{};c=void 0!==p&&null!=p&&p.pesquisar_enter||!1}var _=e.parent(),b=_.find(".ncbo_header"),h=(_.find(".ncbo_scroll"),_.find(".ncbo_list")),m=_.find(".ncbo_item"),w=_.find(".ncbo_template"),g=_.find(".edt_combobox"),x=(_.find(".btn_combobox"),$(g).parent().data("instance")),O=new Object;O.id=t;var y=1;for(var C in o)void 0!==C&&"undefined"!=C&&""!=C&&"function"!=typeof o[C]&&(O["col"+y]=o[C],0==n&&(y>1?(b.find("ul").append('<li class="header_col hidden-xs hidden-sm"><strong>'+C+"</strong></li>"),w.find("ul").append('<li class="detalhe_col hidden-xs hidden-sm "><span class="col'+y+'"></span></li>')):(b.find("ul").append('<li class="header_col"><strong>'+C+"</strong></li>"),w.find("ul").append('<li class="detalhe_col "><span class="col'+y+'"></span></li>'))),y++);var z=w.clone();for(var C in z.css("display",""),z.removeClass("ncbo_template"),z.addClass("ncbo_rows"),z.attr("id_registro",O.id),z.attr("data-original-index",n),z.data("dados",u),void 0!==i&&null!=i&&z.attr("dados-adicionais",i),O)if("id"!=C&&void 0!==C&&"undefined"!=C&&""!=C&&"function"!=typeof o[C]){var k=z.find("."+C),N=O[C],S=O[C];if("object"==typeof O[C]&&O[C]&&void 0!==O[C].cell_name&&(N=O[C].cell_name,S=O[C].cell_name,k.css("background",O[C].color_background).css("color",O[C].color_text).css("padding","0 5px 0 5px").css("font-weight","bolder").css("width","100%")),k.text(N),k.attr("title",S),"col1"===C&&d&&null!=d){var R=k.parent();$(R).prepend(d)}}z.hover(function(){$(this).hasClass("bg-primary")||$(this).addClass("bg-cinza")},function(){$(this).removeClass("bg-cinza")}),z.click(function(n){var t=$(e).filter("input").length>0?$(e).parent().prev():0==$(e).filter("select").length?$(e).find("select"):$(e),o=$("#"+GetNameGeneric($(t),!0));_.find(".ncbo_item").removeClass("bg-primary"),_.find(".ncbo_item").removeClass("row_selected"),$(this).addClass("bg-primary"),$(this).addClass("row_selected"),g.attr("selected-value",O.id),$(o).attr("value",O.id),$(e).find("option[value='"+O.id+"']").attr("selected","selected").trigger("change"),g.attr("dados-adicionais",$(this).attr("dados-adicionais")),!0!==r?a&&null!=a?g.val(O[a]):g.val(O.col1):(g.val(""),g.focus()),""!=$(e).find("option[value='"+O.id+"']").attr("data-addon-valor")&&(_.find(".input-group-addon").text($(e).find("option[value='"+O.id+"']").attr("data-addon-valor")),s.habilitar_desfazer&&_.find(".input-group-addon").removeClass("hidden")),"function"==typeof s.OnClickOverRow&&(x.selected_item=u,s.OnClickOverRow(n,$(e).val(),u),void 0!==s.habilitar_desfazer&&s.habilitar_desfazer&&$(e).SelectMultiColumn("undo_show"))}),void 0!==c&&c||0==n&&(m.removeClass("bg-primary"),m.removeClass("row_selected"),z.addClass("bg-primary"),z.addClass("row_selected")),z.appendTo(h),resize_dropdown(e)}function get_value_combobox(e){var n=e.parent().find(".edt_combobox");return void 0===n.attr("selected-value")||"undefined"==n.attr("selected-value")||""==n.val().trim()?"":n.attr("selected-value")}function set_value_combobox(e,n,t,o){var d=e.parent().find(".edt_combobox");d.attr("selected-value",n),d.attr("dados-adicionais",o),d.attr("value",t),d.val(t).trigger({type:"keypress",tecla_value:13,selected_value:n})}function limpar_combobox(e){var n=e.parent(),t=n.find(".ncbo_header"),o=n.find(".ncbo_template"),d=n.find(".ncbo_rows");n.find(".ncbo_scroll"),n.find(".ninput-group-btn-dropdown");t.find("ul").find("li").remove(),o.find("ul").find("li").remove(),d.remove(),$(e).find("option").remove()}function verificar_status_dropdown(e){return!!e.parent().find(".ninput-group-btn-dropdown").hasClass("open")}$(window).resize(function(){resize_dropdown()});var GetNameGeneric=function(e,n){var t="",o=void 0!==$(e).attr("id")?$(e).attr("id").length:0;if(void 0!==n&&n)return $(e).attr("class").split(" ").filter(function(e){return e.indexOf("cbo")>-1||e.indexOf("cmb")>-1||e.id||e.indexOf("SMC_Next_")>-1?t=e:null}),t;if($(e).attr("class").length>0&&0==o)$(e).attr("class").split(" ").filter(function(e){return e.indexOf("cbo")>-1||e.indexOf("cmb")>-1?t=e:null});else{if(!(o>0))return t=null,null;$(e).attr("id").split(" ").filter(function(e){return e.indexOf("cbo")>-1||e.indexOf("cmb")>-1?t=e:null}),t=$(e).attr("id")}return t};$.fn.SelectMultiColumn=function(e,n){var t=this,o={};if("object"==typeof e)o={elemento:t,route:e.route,params:e.params,attr:void 0!==e.attr?e.attr:null,arr_campos:void 0!==e.arr_campos?e.arr_campos:null,campo_value:void 0!==e.campo_value?e.campo_value:"id",addon_column:void 0!==e.addon_column?e.addon_column:null,addon_value:void 0!==e.addon_value?e.addon_value:null,addon_width:void 0!==e.addon_width?e.addon_width:0,arr_cols:void 0!==e.arr_cols?e.arr_cols:null,text_value:void 0!==e.text_value?e.text_value:null,func_response:e.func_response,type:void 0!==e.method?e.method:"get",OnInstantiated:void 0!==e.OnInstantiated&&null!=e.OnInstantiated?e.OnInstantiated:null,execOnInstantiated:o.OnInstantiated,coluna_referencia:void 0!==e.coluna_referencia&&e.coluna_referencia,habilitar_novo:void 0!==e.habilitar_novo&&e.habilitar_novo,adicionar_icone:void 0!==e.adicionar_icone&&e.adicionar_icone,habilitar_limite:void 0!==e.limite!="undefined"&&null!=e.limite&&e.limite,reversePos:void 0!==e.reversePos&&e.reversePos,desfazer_label:void 0!==e.desfazer_label&&e.desfazer_label,desfazer_icone:void 0!==e.desfazer_icone&&e.desfazer_icone,habilitar_desfazer:void 0!==e.habilitar_desfazer&&e.habilitar_desfazer,habilitar_addon:void 0!==e.habilitar_addon&&e.habilitar_addon,icone:void 0!==e.icone&&e.icone,OnHide:void 0!==e.OnHide&&null!=e.OnHide?e.OnHide:function(){},OnShow:void 0!==e.OnShow&&null!=e.OnShow?e.OnShow:function(){},OnKeyPress:void 0!==e.OnKeyPress&&null!=e.OnKeyPress?e.OnKeyPress:function(){},OnKeyDown:void 0!==e.OnKeyDown&&null!=e.OnKeyDown?e.OnKeyDown:function(){},OnKeyUp:void 0!==e.OnKeyUp&&null!=e.OnKeyUp?e.OnKeyUp:function(){},OnHoverRow:void 0!==e.OnHoverRow&&null!=e.OnHoverRow?e.OnHoverRow:function(){},OnClickOverRow:void 0!==e.OnClickOverRow&&null!=e.OnClickOverRow?e.OnClickOverRow:function(){},OnClickNewItem:void 0!==e.OnClickNewItem&&null!=e.OnClickNewItem?e.OnClickNewItem:function(){},OnUndo:void 0!==e.OnUndo&&null!=e.OnUndo?e.OnUndo:function(){},OnLoadData:void 0!==e.OnLoadData&&null!=e.OnLoadData?e.OnLoadData:function(){},func_by_response:void 0!==e.func_by_response&&null!=e.func_by_response?e.func_by_response:function(){},func_by_scope:void 0!==e.func_by_scope&&null!=e.func_by_scope?e.func_by_scope:function(){}},void 0!==e.limite!="undefined"&&null!=e.limite&&(o.params.limite=0),!0,e.selected_item=null;else if("string"==typeof e){var d=1==$(t).length?$("#"+$(t).attr("identidade")):$(t).length>0?$(t).eq(0):null;if("refresh"==e)s(function(e){},$(t),$(d).data("instance"));else if("val"==e&&void 0===n)var i=setTimeout(function(){return clearTimeout(i),$(t).val()},300);else if("val"==e&&void 0!==n)s(function(e){},$(t),$(d).data("instance"),n,function(e,o){setTimeout(function(){var i;$(t).find('[value="'+n+'"]').length>0?($(t).val(n),n=""!=$(t).find('[value="'+n+'"]').text()?$(t).find('[value="'+n+'"]').text():"",$(d).find("input[class*=edt_combobox]").val(n),void 0!==(i=$(d).data("instance"))&&void 0!==i.habilitar_desfazer&&i.habilitar_desfazer&&$(t).SelectMultiColumn("undo_show")):null!=e&&null!=o&&($(t).append('<option value="'+e+'" selected>'+o+"</option>"),$(d).find("input[class*=edt_combobox]").attr("selected-value",e).val(o),void 0!==(i=$(d).data("instance"))&&void 0!==i.habilitar_desfazer&&i.habilitar_desfazer&&$(t).SelectMultiColumn("undo_show"))})});else if("value"==e&&void 0!==n){if(n instanceof Object){for(var a in n)"id"!=a?$(d).find("input[class*=edt_combobox]").val(n[a]):$(d).find("input[class*=edt_combobox]").attr("selected-value",n[a]);$(d).data("instance").habilitar_desfazer&&$(t).SelectMultiColumn("undo_show")}}else if("UpdateParams"==e&&"undefined"!=n)n instanceof Object?(d.data("instance").params=n,console.warn("Paramêtros do combobox foram atualizados")):console.error("Os paramêtros do combobox não poderam ser atualizados, pois não receberam um object válido para a atualização.");else{if("Find"==e&&void 0!==n)return d.find('[id_registro="'+n+'"]');if("selectedItem"==e)return d.find(".row_selected");if("dados_selecionado"==e)return $(d).data("instance").selected_item;if("combobox"==e)return d;if("EdtVal"==e)return $(d).find("input[class*=edt_combobox]").val();if("AddonValue"==e)return $(t).find("[selected]").attr("data-addon-valor");if("clean"==e)$(d).find("input[class*=edt_combobox]").val(""),$(t).find("option").each(function(e,n){$(n).prop("selected",!1),$(n).removeAttr("selected")}),$(t).val(""),$(d).data("instance").params={},$(d).data("instance").selected_item=null;else if("hide"==e)d.hide(),"undefined"!=d.data("instance")&&"undefined"!=d.data("instance").OnHide&&null!=d.data("instance").OnHide&&d.data("instance").OnHide();else if("show"==e)d.show(),"undefined"!=d.data("instance")&&"undefined"!=d.data("instance").OnShow&&null!=d.data("instance").OnShow&&d.data("instance").OnShow();else if("disabled"==e)$(d.find("input, button, select")).prop("disabled",n),n?($(d).find("button").css("pointer-events","none"),$(d).find("button").addClass("disabled")):($(d).find("button").removeClass("disabled"),$(d).find("button").css("pointer-events","all"));else if("enable"==e)$(d.find("input, button, select")).removeAttr("disabled"),$(d).find("button").removeClass("disabled"),$(d).find("button").css("pointer-events","all");else if("undo_hide"==e)$(d).find(".btn_desfazer").addClass("hidden");else if("undo_show"==e)$(d).find(".btn_desfazer").removeClass("hidden");else if("original"==e){$(d).find("input[class*=edt_combobox]").val("");for(var l=0;l<$(t).find("option").length&$(t).find("option").length>0;l++)void 0!==$(t).find("option").eq(l).attr("selected")&&""!=$(t).find("option").eq(l).attr("selected")&&null!=$(t).find("option").eq(l).attr("selected")&&$(t).find("option").eq(l).removeAttr("selected");$(d).data("instance").params=null,$(d).find(".input-group-addon").removeClass("hidden").text(""),$(d).find(".btn_desfazer").addClass("hidden"),$(d).find(".input-group-addon").addClass("hidden")}}!1}var r=function(e){var n="",t=void 0!==$(e).attr("id")?$(e).attr("id").length:0;if($(e).attr("class").length>0&&0==t)$(e).attr("class").split(" ").filter(function(e){if(e.indexOf("cbo")>-1||e.indexOf("cmb")>-1)return n=e});else{if(!(t>0))return n=null,null;$(e).attr("id").split(" ").filter(function(e){return e.indexOf("cbo")>-1||e.indexOf("cmb")>-1?n=e:null}),n=$(e).attr("id")}return n};function s(n,o,i,a,l){var r=null,s=null;void 0===a&&(a=null),void 0===l&&(l=function(e){}),WS.get({route:i.route,data:i.params,type:"undefined"!=i.method?i.method:"get",func_response:function(c){var u="";limpar_combobox(o);var f="";$(c).each(function(e,n){var t=[];"undefined"!=i.func_by_response&&null!=i.func_by_response&&i.func_by_response(n,o);for(var d=0;d<i.arr_cols.length;d++)t[i.arr_cols[d]]=n[i.arr_campos[d]],i.arr_campos[d],i.campo_value;f=n[i.campo_value],Addon_Coluna=n[i.addon_column],null!=a&&f==a&&(r=f,s=n[i.text_value]),u+="<option data-addon-valor='"+Addon_Coluna+"' value='"+f+"' "+(null!=a&&f==a?" selected ":" ")+" >"+(void 0!==i.text_value?n[i.text_value]:"")+"</option>",add_option_combobox({select:$(o),index:e,id_registro:n[i.campo_value],arr_itens:t,isIntantiatedNative:!0,coluna_referencia:i.coluna_referencia,attr:i.attr,OnClickOverRow:i.OnClickOverRow,dados:n,icone:i.icone})}),$(t).append(u),l(r,s),void 0!==e.OnHoverRow&&null!=e.OnHoverRow&&$(d).find(".ul_row").hover(function(n){e.OnHoverRow(n,$(this))}),"undefined"!=i.func_by_scope&&null!=i.func_by_scope&&i.func_by_scope(c,$(t)),"undefined"!=i.habilitar_novo&&i.habilitar_novo?c.length>0?n(!0):n(!1):n(!0)}})}var c=function(e,n,o){$("#"+$(t).attr("identidade"));$(t),s(e,n,o)};if(void 0===e){if(0===$("#"+$(t).attr("identidade")).length)try{var u=getDateNow().getTime(),f="SMC_Next_"+md5(u);$(t).addClass("hidden").attr("identidade",f).addClass(f),create_combobox(t,"object"==typeof e?c:null,"object"==typeof e&&o.coluna_referencia&&0!=o.coluna_referencia?o.coluna_referencia:null,!0),(d=$(t).prev(".combobox").attr("select_name",r(t)).addClass(r(t).toString()).attr("id",f)).data("instance",e)}catch(e){console.log("Problema ao instanciar o select.")}}else if("object"==typeof e&&0===$(t).prev(".combobox."+r(t).toString()).length)try{u=getDateNow().getTime()*$("[identidade]").length,f="SMC_Next_"+md5(e.route+u);$(t).addClass("hidden").attr("identidade",f).addClass(f),create_combobox(t,"object"==typeof e?c:null,"object"==typeof e&&o.coluna_referencia&&0!=o.coluna_referencia?o.coluna_referencia:null,!0,e),(d=$(t).prev(".combobox").attr("select_name",r(t)).addClass(r(t).toString()).attr("id",f)).data("instance",e);var v=$(d).find(".input-group-addon");if(void 0!==e.habilitar_addon&&null!=e.habilitar_addon&&e.habilitar_addon||e.habilitar_addon?v.removeClass("hidden"):v.addClass("hidden"),void 0!==e.reversePos&&null!=e.reversePos&&e.reversePos){v=$(d).find(".input-group-addon.edt_codigo_item");$(d).children().last().after(v)}if(null!=e.OnInstantiated&&"undefined"!=typeof OnInstantiated&&o.OnInstantiated(),void 0!==e.OnKeyPress&&null!=e.OnKeyPress&&$(d).find("[class*=edt_combobox]").keypress(function(n){e.OnKeyPress(n)}),void 0!==e.OnKeyDown&&null!=e.OnKeyDown&&$(d).find("[class*=edt_combobox]").keydown(function(n){e.OnKeyDown(n)}),void 0!==e.OnKeyUp&&null!=e.OnKeyUp&&$(d).find("[class*=edt_combobox]").keyup(function(n){e.OnKeyUp(n)}),void 0!==e.OnClickNewItem&&null!=e.OnClickNewItem&&$(d).find(".btn_novo").unbind("click").click(function(n){var t=$(this);e.OnClickNewItem(n,t)}),!e.habilitar_desfazer)return;e.desfazer_label&&void 0===e.desfazer_label||$(d).find(".btn_desfazer").attr("data-on-info",e.desfazer_label),e.desfazer_icone&&void 0===e.desfazer_icone||$(d).find(".btn_desfazer").attr("data-on-icon",e.desfazer_icone),void 0!==e.OnUndo&&null!=e.OnUndo&&$(d).find(".btn_desfazer").click(function(n){$(d).find(".edt_combobox").val(null).attr("selected-value",""),$(d).find(".edt_combobox").val(null).attr("selected-value",""),$(t).val(null),e.OnUndo(n)})}catch(e){console.log("Problema ao instanciar o select.")}};