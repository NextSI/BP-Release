"use strict";function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function _createClass(a,e,t){return e&&_defineProperties(a.prototype,e),t&&_defineProperties(a,t),a}function _possibleConstructorReturn(a,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(a):e}function _getPrototypeOf(a){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _inherits(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),e&&_setPrototypeOf(a,e)}function _setPrototypeOf(a,e){return(_setPrototypeOf=Object.setPrototypeOf||function(a,e){return a.__proto__=e,a})(a,e)}define(["react","react-dom"],function(a,e){return function(e){function t(a){var e,i,l,o,s,n,r,c,d,h,p,u,m,v,f,C,R,k,b,S,P,E,A,N,_,w,y,g;return _classCallCheck(this,t),(g=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,a))).selecaoProjetoRef=null,g.state={SalvarEnviar:null!==(e=a.SalvarEnviar)&&void 0!==e?e:"hidden",NovoChamado:null!==(i=a.NovoChamado)&&void 0!==i?i:"",NovaSolicitacao:null!==(l=a.NovaSolicitacao)&&void 0!==l?l:"",Salvar:null!==(o=a.Salvar)&&void 0!==o?o:"hidden",SalvarSair:null!==(s=a.SalvarSair)&&void 0!==s?s:"hidden",Cancelar:null!==(n=a.Cancelar)&&void 0!==n?n:"",Reprogramar:null!==(r=a.Reprogramar)&&void 0!==r?r:"hidden",AlterarResponsavel:null!==(c=a.AlterarResponsavel)&&void 0!==c?c:"hidden",AssumirAtividade:null!==(d=a.AssumirAtividade)&&void 0!==d?d:"hidden",DesvincularResponsabilidade:null!==(h=a.DesvincularResponsabilidade)&&void 0!==h?h:"hidden",CancelarSolicitacao:null!==(p=a.CancelarSolicitacao)&&void 0!==p?p:"hidden",ReabrirSolicitacao:null!==(u=a.ReabrirSolicitacao)&&void 0!==u?u:"hidden",RetornarAtividadeAnterior:null!==(m=a.RetornarAtividadeAnterior)&&void 0!==m?m:"",VincularProjeto:null!==(v=a.VincularProjeto)&&void 0!==v?v:"hidden",PorcentagemConcluido:null!==(f=a.PorcentagemConcluido)&&void 0!==f?f:"",PorcentagemNecessario:null!==(C=a.PorcentagemNecessario)&&void 0!==C?C:"",ProjetoID:null!==(R=a.ProjetoID)&&void 0!==R?R:"",ProjetoTemplate:null!==(k=a.ProjetoTemplate)&&void 0!==k?k:"",TextoCancelar:null!==(b=a.TextoCancelar)&&void 0!==b?b:"Cancelar alterações",Visualizar:null!==(S=a.Visualizar)&&void 0!==S?S:"",DownloadTodosAnexos:null!==(P=a.DownloadTodosAnexos)&&void 0!==P?P:"hidden",DownloadPdf:null!==(E=a.DownloadPdf)&&void 0!==E?E:"",ImprimirPdf:null!==(A=a.ImprimirPdf)&&void 0!==A?A:"",DownloadTemplate:null!==(N=a.DownloadTemplate)&&void 0!==N?N:"",SupervisorProcesso:null!==(_=a.SupervisorProcesso)&&void 0!==_&&_,CamposHabilitados:null!==(w=a.CamposHabilitados)&&void 0!==w&&w,projetoVinculadoPendente:null!==(y=a.projetoVinculadoPendente)&&void 0!==y&&y},g.handleSalvarEnviarClick=g.handleSalvarEnviarClick.bind(_assertThisInitialized(g)),g.handleVisualizarAtividadesProjeto=g.handleVisualizarAtividadesProjeto.bind(_assertThisInitialized(g)),g.handleDownloadPDFClick=g.handleDownloadPDFClick.bind(_assertThisInitialized(g)),g.handleImprimirPdfClick=g.handleImprimirPdfClick.bind(_assertThisInitialized(g)),g.handleDownloadTemplateClick=g.handleDownloadTemplateClick.bind(_assertThisInitialized(g)),g.handleNovoChamadoClick=g.handleNovoChamadoClick.bind(_assertThisInitialized(g)),g.handleNovaSolicitacaoClick=g.handleNovaSolicitacaoClick.bind(_assertThisInitialized(g)),g.handleSalvarClick=g.handleSalvarClick.bind(_assertThisInitialized(g)),g.handleSalvarSairClick=g.handleSalvarSairClick.bind(_assertThisInitialized(g)),g.handleCancelarClick=g.handleCancelarClick.bind(_assertThisInitialized(g)),g.handleReprogramarClick=g.handleReprogramarClick.bind(_assertThisInitialized(g)),g.handleAlterarResponsavelClick=g.handleAlterarResponsavelClick.bind(_assertThisInitialized(g)),g.handleAssumirAtividadeClick=g.handleAssumirAtividadeClick.bind(_assertThisInitialized(g)),g.handleDesvincularResponsabilidadeClick=g.handleDesvincularResponsabilidadeClick.bind(_assertThisInitialized(g)),g.handleCancelarSolicitacaoClick=g.handleCancelarSolicitacaoClick.bind(_assertThisInitialized(g)),g.handleReabrirSolicitacaoClick=g.handleReabrirSolicitacaoClick.bind(_assertThisInitialized(g)),g.handleRetornarAtividadeAnteriorClick=g.handleRetornarAtividadeAnteriorClick.bind(_assertThisInitialized(g)),g.handleDownloadTodosAnexos=g.handleDownloadTodosAnexos.bind(_assertThisInitialized(g)),g.handleHabilitarEdicaoCampos=g.handleHabilitarEdicaoCampos.bind(_assertThisInitialized(g)),g.handleAlterarProjetoVinculado=g.handleAlterarProjetoVinculado.bind(_assertThisInitialized(g)),g}return _inherits(t,a.Component),_createClass(t,[{key:"handleSalvarEnviarClick",value:function(a){this.state.projetoVinculadoPendente?window.alertaPopUp("Validação","Não foi possível avançar com o Processo, pois o Projeto vinculado ainda não atingiu a porcentagem de conclusão necessária.<br><br><strong>- Necessário:</strong> "+this.state.PorcentagemNecessario+"<br><strong>- Concluído:</strong> "+this.state.PorcentagemConcluido,"Ok",function(){}):this.props.handleSalvarEnviarClick()}},{key:"handleVisualizarAtividadesProjeto",value:function(a){var e=this.state.ProjetoID,t=this.state.ProjetoTemplate;View.load("atividade_projeto/listar",function(a,i){i.show(e,t)},View.ABA.MULTIPLAS,null,null,{projetoId:e})}},{key:"handleDownloadPDFClick",value:function(a){this.props.handleDownloadPDFClick()}},{key:"handleImprimirPdfClick",value:function(a){this.props.handleImprimirPdfClick()}},{key:"handleDownloadTemplateClick",value:function(a){this.props.handleDownloadTemplateClick()}},{key:"handleNovoChamadoClick",value:function(a){this.props.handleNovoChamadoClick()}},{key:"handleNovaSolicitacaoClick",value:function(a){this.props.handleNovaSolicitacaoClick()}},{key:"handleSalvarClick",value:function(a){this.props.handleSalvarClick()}},{key:"handleSalvarSairClick",value:function(a){this.props.handleSalvarSairClick()}},{key:"handleCancelarClick",value:function(a){this.props.handleCancelarClick()}},{key:"handleReprogramarClick",value:function(a){this.props.handleReprogramarClick()}},{key:"handleAlterarResponsavelClick",value:function(a){this.props.handleAlterarResponsavelClick()}},{key:"handleAssumirAtividadeClick",value:function(a){this.props.handleAssumirAtividadeClick()}},{key:"handleDesvincularResponsabilidadeClick",value:function(a){this.props.handleDesvincularResponsabilidadeClick()}},{key:"handleCancelarSolicitacaoClick",value:function(a){this.props.handleCancelarSolicitacaoClick()}},{key:"handleReabrirSolicitacaoClick",value:function(a){this.props.handleReabrirSolicitacaoClick()}},{key:"handleRetornarAtividadeAnteriorClick",value:function(a){this.props.handleRetornarAtividadeAnteriorClick()}},{key:"handleDownloadTodosAnexos",value:function(a){this.props.handleDownloadTodosAnexos()}},{key:"handleHabilitarEdicaoCampos",value:function(a){this.props.handleHabilitarEdicaoCampos()}},{key:"handleAlterarProjetoVinculado",value:function(a,e,t,i){this.props.handleAlterarProjetoVinculado(a,e,t,i)}},{key:"render",value:function(){var a=this,e=React.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle btnOpcoesFiltroProcesso BotaoResponsivo pull-right","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},React.createElement("span",{className:"fa fa-filter"})," ","Opções ",React.createElement("span",{className:"caret pull-right",style:{marginTop:"8px"}})),t=React.createElement(window.components.SelecaoProjeto.default,{width:350,dataGridWidth:700,selecionado:this.state.ProjetoID.toString(),style:{float:"right",marginTop:3,marginRight:10,marginLeft:10},aoAlterar:this.handleAlterarProjetoVinculado,getDropDownRef:function(e){a.selecaoProjetoRef=e},dataGridOnToolbarPreparing:function(e){var t=[{widget:"dxButton",options:{icon:"fa fa-plus",hint:"Adicionar Projeto",text:"Adicionar",onClick:function(){a.selecaoProjetoRef&&a.selecaoProjetoRef.current&&a.selecaoProjetoRef.current._instance.close(),View.load("projeto/detalhes",function(a,e){e.show(null,FORMULARIO.NOVO)},View.ABA.MULTIPLAS)}},location:"after",name:"BtnNovoApontamento",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)},displayExpr:function(a){return a&&a.codigo+" "+a.nome}}),i=React.createElement("button",{type:"button",className:"btn "+(this.state.projetoVinculadoPendente?"btn-warning":"btn-primary")+" btn_enviar BotaoResponsivo "+this.state.SalvarEnviar,onClick:this.handleSalvarEnviarClick},React.createElement("span",{className:this.state.projetoVinculadoPendente?"fas fa-exclamation-triangle":"fas fa-forward"})," Salvar e enviar"),l=React.createElement("button",{type:"button",className:"pull-right btn btn-default btn_assumir_atividade BotaoResponsivo "+this.state.AssumirAtividade,onClick:this.handleAssumirAtividadeClick},"Assumir Atividade"),o=React.createElement("button",{type:"button",className:"pull-right btn btn-default btn_desvincular_responsabilidade BotaoResponsivo "+this.state.DesvincularResponsabilidade,onClick:this.handleDesvincularResponsabilidadeClick},"Desvincular Responsabilidade");return React.createElement("div",{className:"row",style:{paddingTop:"10px"}},React.createElement("div",{className:"col-md-2 col-sm-2 col-xs-12"},!this.state.Visualizar&&""==this.state.SalvarEnviar&&i),React.createElement("div",{className:"col-md-10 col-sm-10 col-xs-12"},e,!this.state.Visualizar&&"hidden"!==this.state.VincularProjeto&&t,React.createElement("ul",{className:"dropdown-menu BotaoResponsivo pull-right",style:{marginRight:"15px"}},"hidden"!=this.state.DownloadPdf&&React.createElement("li",{className:this.state.DownloadPdf},"                                                                                    ",React.createElement("a",{href:"javascript:;",onClick:this.handleDownloadPDFClick},"              ",React.createElement("div",{className:"fa fa-file-pdf"},"               "),"   Download do formulário           ")),"hidden"!=this.state.ImprimirPdf&&React.createElement("li",{className:this.state.ImprimirPdf},"                                                                                    ",React.createElement("a",{href:"javascript:;",onClick:this.handleImprimirPdfClick},"              ",React.createElement("div",{className:"fa fa-print"},"               "),"   Imprimir formulário           ")),"hidden"!=this.state.DownloadTemplate&&React.createElement("li",{className:this.state.Template},React.createElement("a",{href:"javascript:;",onClick:this.handleDownloadTemplateClick},React.createElement("div",{className:"fas fa-file-export"}),"   Download Template")),""==this.state.DownloadTodosAnexos&&React.createElement("li",{className:this.state.DownloadTodosAnexos},"                                                                             ",React.createElement("a",{href:"javascript:;",onClick:this.handleDownloadTodosAnexos},"            ",React.createElement("div",{className:"fa fa-file-archive"},"           "),"   Download de todos anexos         ")),!(!this.state.SupervisorProcesso||this.state.CamposHabilitados)&&React.createElement("li",{className:this.state.SupervisorProcesso},"                                                                              ",React.createElement("a",{href:"javascript:;",onClick:this.handleHabilitarEdicaoCampos},"          ",React.createElement("div",{className:"fa fa-pencil-alt"}),"   Editar Campos                           ")),!(!(!this.state.Visualizar||this.state.SupervisorProcesso&&this.state.CamposHabilitados)||""!=this.state.Salvar)&&React.createElement("li",{className:this.state.Salvar},"                                                                                          ",React.createElement("a",{href:"javascript:;",onClick:this.handleSalvarClick},"                    ",React.createElement("div",{className:"far fa-save"}),"   Salvar                           ")),!(!(!this.state.Visualizar||this.state.SupervisorProcesso&&this.state.CamposHabilitados)||""!=this.state.SalvarSair)&&React.createElement("li",{className:this.state.SalvarSair},"                                                                                      ",React.createElement("a",{href:"javascript:;",onClick:this.handleSalvarSairClick},"                ",React.createElement("div",{className:"far fa-save"}),React.createElement("div",{className:"fa fa-sign-out-alt icon-on-top"}),"Salvar e sair                    ")),""==this.state.Cancelar&&React.createElement("li",{className:this.state.Cancelar},"                                                                                                                                   ",React.createElement("a",{href:"javascript:;",onClick:this.handleCancelarClick},"                  ",React.createElement("div",{className:"fa fa-times"},"      "),"   ",this.state.TextoCancelar,"      ")),!this.state.Visualizar&&""==this.state.CancelarSolicitacao&&React.createElement("li",{className:this.state.CancelarSolicitacao},"                                                                             ",React.createElement("a",{href:"javascript:;",onClick:this.handleCancelarSolicitacaoClick},"       ",React.createElement("div",{className:"fa fa-trash"},"       "),"   Cancelar solicitação            ")),!this.state.Visualizar&&""==this.state.ReabrirSolicitacao&&React.createElement("li",{className:this.state.ReabrirSolicitacao},"                                                                               ",React.createElement("a",{href:"javascript:;",onClick:this.handleReabrirSolicitacaoClick},"       ",React.createElement("div",{className:"fa fa-undo"},"       "),"   Reabrir solicitação            ")),!this.state.Visualizar&&!window.App.sessao.sessao_login_anonimo&&React.createElement("li",{role:"separator",className:"divider"}),!this.state.Visualizar&&""==this.state.NovoChamado&&React.createElement("li",{className:this.state.NovoChamado},"                                                                                     ",React.createElement("a",{href:"javascript:;",onClick:this.handleNovoChamadoClick},"               ",React.createElement("img",{src:"assets/img/icones_bp/comunication.svg",width:"15px"}),"   Novo chamado                    ")),!this.state.Visualizar&&""==this.state.NovaSolicitacao&&React.createElement("li",{className:this.state.NovaSolicitacao},"                                                                                 ",React.createElement("a",{href:"javascript:;",onClick:this.handleNovaSolicitacaoClick},"           ",React.createElement("img",{src:"assets/img/icones_bp/processos.svg",width:"15px"}),"   Nova solicitação                ")),!this.state.Visualizar&&""==this.state.Salvar&&!window.App.sessao.sessao_login_anonimo&&React.createElement("li",{role:"separator",className:"divider"}),!this.state.Visualizar&&""==this.state.AlterarResponsavel&&""==this.state.Salvar&&React.createElement("li",{className:this.state.AlterarResponsavel},"                                                                              ",React.createElement("a",{href:"javascript:;",onClick:this.handleAlterarResponsavelClick},"        ",React.createElement("div",{className:"fa fa-edit"},"        "),"   Alterar responsável             ")),!this.state.Visualizar&&""==this.state.Reprogramar&&""==this.state.Salvar&&React.createElement("li",{className:this.state.Reprogramar},"                                                                                     ",React.createElement("a",{href:"javascript:;",onClick:this.handleReprogramarClick},"               ",React.createElement("div",{className:"fa fa-calendar"},"        "),"   Reprogramar                     ")),!this.state.Visualizar&&""==this.state.RetornarAtividadeAnterior&&React.createElement("li",{className:this.state.RetornarAtividadeAnterior},"                                                                       ",React.createElement("a",{href:"javascript:;",onClick:this.handleRetornarAtividadeAnteriorClick}," ",React.createElement("div",{className:"fa fa-step-backward"},"  "),"   Retornar para atividade anterior")),!this.state.Visualizar&&+this.state.ProjetoID>0&&!window.App.sessao.sessao_login_anonimo&&React.createElement("li",{role:"separator",className:"divider"}),!this.state.Visualizar&&+this.state.ProjetoID>0&&React.createElement("li",{className:this.state.VincularProjeto},React.createElement("a",{href:"javascript:;",onClick:this.handleVisualizarAtividadesProjeto},React.createElement("div",{className:"fa fa-list"},React.createElement("div",{className:"fa fa-eye icon-on-top"})),"Visualizar projeto"))),!this.state.Visualizar&&""==this.state.AssumirAtividade&&""==this.state.Salvar&&l,!this.state.Visualizar&&""==this.state.DesvincularResponsabilidade&&""==this.state.Salvar&&o))}}]),t}()});