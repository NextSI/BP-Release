define([],function(){return function(t){"use strict";var i=this;this.html_id=t,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.onselect=null,this.onclose=null,this.tab_listagem=this.dialog.find(".tab_listagem"),this.edt_nome_grupo=this.dialog.find(".edt_nome_grupo"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.usuario_id=null,this.arr_grupo=[],this.show=function(t,n){i.onselect=t,show_modal(i.modal.attr("id")),set_focus(i.edt_nome_fantasia)},this.close=function(){close_modal(i.modal.attr("id")),void 0!==i.onclose&&i.onclose&&i.onclose()},this.unload=function(){i.close(),View.unload(this.html_id)},this.listar=function(){i.arr_grupo=[];var t=new Array;t=""!=i.edt_nome_grupo.val().trim()?{nome:i.edt_nome_grupo.val()}:{nome:null},WS.get("grupo_motivo_chamado/listar/",t,function(t){i.arr_grupo=t,i.render_lista()})},this.render_lista=function(){var t=i.tab_listagem.find("tbody"),n=t.find("tr:first");i.tab_listagem.find("tr:gt(1)").remove(),$(i.arr_grupo).each(function(o,e){!function(o){var e=n.clone();e.removeAttr("template-row"),e.css("display",""),$(e.find("[template-field='nome']")).text(o.nome);var l=$(e.find(".btn_selecionar")),a=function(){i.onselect(o),i.unload()};l.unbind("click"),l.click(a),e.dblclick(a),e.appendTo(t)}(e)})},this.listar(),this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){i.unload()}),this.edt_nome_grupo.unbind("keyup"),this.edt_nome_grupo.keyup($.debounce(500,i.listar))}});