define([],function(){return function(t){"use strict";var i=this;this.html_id=t,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.onclose=null,this.edt_email=this.dialog.find(".edt_email"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_iniciar_teste=this.dialog.find(".btn_iniciar_teste"),this.envio_protocolo="",this.email="",this.smtp_usuario="",this.smtp_senha="",this.smtp_endereco="",this.smtp_porta="",this.smtp_seguranca="",this.smtp_oauth_client=!1,this.smtp_oauth_client_id="",this.show=function(t,e,a,o,s,_,n,l,c,m){if(i.envio_protocolo=t,i.email=e,i.smtp_usuario=a,i.smtp_senha=o,i.smtp_endereco=s,i.smtp_porta=_,i.smtp_seguranca=n,i.smtp_requer_autenticacao=l,i.smtp_oauth_client=c,i.smtp_oauth_client_id=m,"undefined"!=typeof Storage&&localStorage.getItem("idioma")){var h=localStorage.getItem("email_teste_smtp");i.edt_email.val(h)}show_modal(i.modal.attr("id")),set_focus(i.edt_email)},this.close=function(){close_modal(i.modal.attr("id")),void 0!==i.onclose&&i.onclose&&i.onclose()},this.btn_iniciar_teste.unbind("click"),this.btn_iniciar_teste.click(function(){WS.post("conta_email/testar_conexao_smtp",{envio_protocolo:i.envio_protocolo,email_teste:i.edt_email.val(),email:i.email,smtp_usuario:i.smtp_usuario,smtp_senha:i.smtp_senha,smtp_endereco:i.smtp_endereco,smtp_porta:i.smtp_porta,smtp_seguranca:i.smtp_seguranca,smtp_requer_autenticacao:i.smtp_requer_autenticacao,smtp_oauth_client:i.smtp_oauth_client,smtp_oauth_client_id:i.smtp_oauth_client_id,pop_oauth_client:i.pop_oauth_client,pop_oauth_client_id:i.pop_oauth_client_id},function(t){i.unload()},[i.btn_iniciar_teste,i.btn_cancelar]),localStorage.setItem("email_teste_smtp",i.edt_email.val())}),this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){i.unload()}),this.unload=function(){i.close(),View.unload(this.html_id)}}});