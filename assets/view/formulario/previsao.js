define([],function(){return function(i){"use strict";var o=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.title="Previsão",this.tipo=null,this.onclose=null,this.scrollview=this.dialog.find(".scrollview"),this.lbl_nome=this.dialog.find(".lbl_nome"),this.form_editor=this.dialog.find(".form-editor"),this.form_grupos=this.dialog.find(".form-grupos"),this.template_grupo=this.dialog.find("[template-grupo]"),this.template_campo=this.dialog.find("[template-campo]"),this.btn_ok=this.dialog.find(".btn_ok, .btn_cancelar"),this.formulario=null,this.show=function(i){o.scrollview.dxScrollView().dxScrollView("instance"),o.scrollview.css("height","calc(100vh - 90px)"),o.title="Previsão #"+(i.formulario_id?i.formulario_id:"Rascunho"),o.formulario=clone_obj(i),o.preencher()},this.close=function(){void 0!==o.onclose&&o.onclose&&o.onclose()},this.unload=function(){o.close(),View.unload(this.html_id)},this.preencher=function(){for(var i=0;i<o.formulario.grupos.length;i++){"undefine"!=typeof o.formulario.grupos[i].elementos&&o.formulario.grupos[i].elementos||(o.formulario.grupos[i].elementos=[]);var t=String((new Date).getTime())+String(Math.round(1e4*Math.random()))+String((new Date).getTime())+String(Math.round(1e4*Math.random()));o.formulario.grupos[i].elem_key=t}require(["./assets/view/formulario/util"],function(i){(new i).render_previsao(o,o.template_campo,o.template_grupo,o.formulario)})},this.btn_ok.unbind("click"),this.btn_ok.click(function(){o.unload()})}});