"use strict";define(["react","react-dom"],function(e,t){return class extends e.Component{constructor(e,t){super(e,t),this.props.objEntidade={},this.props.mainExterno=null,this.props.listar=((e,t)=>{this.listar(e,t)}),this.state={arr_condicao_pagamento:[],arr_condicao_pagamento_filtrados:[],html_body:[]}}componentDidMount(){this.criarCombobox()}listar(e,t){let a=this;WS.get("condicao_pagamento_entidade/listar_condicao_pagamento/",{tipo_entidade:t,entidade_id:e},function(e){a.setState({arr_condicao_pagamento:e}),a.props.mainExterno.arr_condicao_pagamento=a.state.arr_condicao_pagamento})}criarCombobox(){create_combobox($(this.refs.cbo_condicao_pagamento),this.listarDadosCombobox,null,null,this)}listarDadosCombobox(e,t,a){let o=t.parent().find(".edt_combobox");var n=new Object;n.descricao=o.val(),n.bloqueado="N",WS.get("condicao_pagamento/listar/",n,function(o){limpar_combobox(t),$(o).each(function(e,a){var o=[];o["Descrição"]=a.descricao,add_option_combobox(t,e,a.condicao_pagamento_id,o)}),o.length>0&&e(!0),$(t.parent()).find(".ul_row").click(function(e){a.addCondicaoPagamento(e,e.target.textContent)})})}addCondicaoPagamento(e,t){var a=null,o=[];a=void 0===$(e.target).parent().parent().attr("id_registro")?JSON.parse($(e.target).parent().parent().parent().attr("id_registro")):JSON.parse($(e.target).parent().parent().attr("id_registro")),this.state.arr_condicao_pagamento.map(e=>e.condicao_pagamento_id).indexOf(a)<0&&((o=this.state.arr_condicao_pagamento).push({condicao_pagamento_id:a,descricao:t,entidade_id:this.props.objEntidade.id,entidade_tipo:this.props.objEntidade.tipo}),this.setState({arr_condicao_pagamento:o}),this.props.mainExterno.arr_condicao_pagamento=this.state.arr_condicao_pagamento)}excluirCondicaoPagamento(e,t){alert_modal("Atenção","Deseja remover essa condição de pagamento?","Remover",function(){let a=Object.assign({},t.state).arr_condicao_pagamento;a.splice(e,1),t.setState({arr_condicao_pagamento:a}),t.props.mainExterno.arr_condicao_pagamento=t.state.arr_condicao_pagamento})}render(){let t=this;return e.createElement("div",null,e.createElement("br",null),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("label",null,"Incluir Condição de Pagamento"),e.createElement("select",{ref:"cbo_condicao_pagamento",className:"form-control select-multi-column cbo_condicao_pagamento",placeholder:"Digite o nome"}))),e.createElement("br",null),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"div_tabela_preco form-group",id:"div_condicao_pagamento"},e.createElement("table",{className:"tab_listagem_condicao_pagamento table",ref:"tab_listagem_condicao_pagamento"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"Nome"),e.createElement("th",null,e.createElement("div",{className:"pull-right"},e.createElement("button",{type:"button",className:"btn_incluir_condicao_pagamento hidden btn btn-default"},e.createElement("span",{className:"glyphicon glyphicon-plus"})))))),e.createElement("tbody",null,this.state.arr_condicao_pagamento.map(function(a,o){return e.createElement("tr",{"template-row":!0,key:o},e.createElement("td",{"template-field":"descricao"},a.descricao),e.createElement("td",{"template-buttons":"actions"},e.createElement("div",{className:"btn-group pull-right"},e.createElement("button",{type:"button",className:"btn_deletar_tabela_preco btn btn-default",onClick:e=>t.excluirCondicaoPagamento(o,t)},e.createElement("span",{className:"glyphicon glyphicon-trash"})))))})))))))}}});