define([],function(){return function(i){"use strict";var t=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.title="Classificação de Atividades",this.tab_listagem=this.dialog.find(".tab_listagem"),this.chk_classificacao_projeto_atividades=this.dialog.find(".chk_classificacao_projeto_atividades"),this.btn_novo=this.dialog.find(".btn_novo"),this.btn_listar=this.dialog.find(".btn_listar"),this.btn_filtrar=this.dialog.find(".btn_filtrar"),this.listar=function(){var i=t.tab_listagem.find("tbody"),a=i.find("tr:first");t.tab_listagem.find("tr:gt(1)").remove(),WS.get("projeto_atividade_classificacao/listar/",null,function(o){$(o).each(function(o,s){!function(o){var s=a.clone();s.removeAttr("template-row"),s.css("display",""),$(s.find("[template-field='nome']")).text(o.nome);var c=$(s.find(".btn_visualizar"));c.unbind("click"),c.click(function(){View.load("classificacao_projeto_atividades/detalhes",function(i,t){t.show(o.projeto_atividade_classificacao_id,FORMULARIO.VISUALIZAR)})});var n=$(s.find(".btn_editar"));n.unbind("click"),n.click(function(){View.load("classificacao_projeto_atividades/detalhes",function(i,a){a.onclose=t.listar,a.show(o.projeto_atividade_classificacao_id,FORMULARIO.EDITAR)})});var e=$(s.find(".btn_excluir"));e.unbind("click"),e.click(function(){View.load("classificacao_projeto_atividades/detalhes",function(i,a){a.onclose=t.listar,a.show(o.projeto_atividade_classificacao_id,FORMULARIO.EXCLUIR)})}),s.appendTo(i)}(s)})}),WS.get("projeto_atividade_classificacao/get_parametros/",null,function(i){"true"==i.projeto_atividade_classificacoes&&t.chk_classificacao_projeto_atividades.bootstrapSwitch("state",!0)})},this.btn_novo.unbind("click"),this.btn_novo.click(function(){View.load("classificacao_projeto_atividades/detalhes",function(i,a){a.onclose=t.listar,a.show(null,FORMULARIO.NOVO)})}),this.btn_listar.unbind("click"),this.btn_listar.click(function(){t.listar()}),this.chk_classificacao_projeto_atividades.bootstrapSwitch("onSwitchChange",function(i,a){WS.post("projeto_atividade_classificacao/salvar_parametro/",{projeto_atividade_classificacoes:t.chk_classificacao_projeto_atividades.prop("checked")},function(i){})}),this.unload=function(){View.unload(this.html_id)},this.listar()}});