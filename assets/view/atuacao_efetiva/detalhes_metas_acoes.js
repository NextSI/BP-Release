define([],function(){return function(a){"use strict";var i=this;this.html_id=a,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.tipo=null,this.onclose=null,this.onsave=null,this.atuacao_efetiva_id=null,this.indicador_id=0,this.usuario_id=0,this.edt_nome=this.dialog.find(".edt_nome"),this.cbo_novo_indicador=this.dialog.find(".cbo_novo_indicador"),this.radio_indicador=this.dialog.find(".radio_indicador"),this.edt_indicador=this.dialog.find(".edt_indicador"),this.div_selecao_indicador=this.dialog.find(".div_selecao_indicador"),this.btn_avaliar=this.dialog.find(".btn_avaliar"),this.edt_data_base=this.dialog.find(".edt_data_base"),this.optradio_sete_dias=this.dialog.find("[name=optradio_sete_dias]"),this.optradio_catorze_dias=this.dialog.find("[name=optradio_catorze_dias]"),this.optradio_vinte_um_dias=this.dialog.find("[name=optradio_vinte_um_dias]"),this.optradio_vinte_oito_dias=this.dialog.find("[name=optradio_vinte_oito_dias]"),this.optradio_trinta_dias=this.dialog.find("[name=optradio_trinta_dias]"),this.radio_informativa_sete_dias=this.dialog.find(".radio_informativa_sete_dias"),this.radio_informativa_catorze_dias=this.dialog.find(".radio_informativa_catorze_dias"),this.radio_informativa_vinte_um_dias=this.dialog.find(".radio_informativa_vinte_um_dias"),this.radio_informativa_vinte_oito_dias=this.dialog.find(".radio_informativa_vinte_oito_dias"),this.radio_informativa_trinta_dias=this.dialog.find(".radio_informativa_trinta_dias"),this.radio_percentual_sete_dias=this.dialog.find(".radio_percentual_sete_dias"),this.radio_percentual_catorze_dias=this.dialog.find(".radio_percentual_catorze_dias"),this.radio_percentual_vinte_um_dias=this.dialog.find(".radio_percentual_vinte_um_dias"),this.radio_percentual_vinte_oito_dias=this.dialog.find(".radio_percentual_vinte_oito_dias"),this.radio_percentual_trinta_dias=this.dialog.find(".radio_percentual_trinta_dias"),this.radio_valor_sete_dias=this.dialog.find(".radio_valor_sete_dias"),this.radio_valor_catorze_dias=this.dialog.find(".radio_valor_catorze_dias"),this.radio_valor_vinte_um_dias=this.dialog.find(".radio_valor_vinte_um_dias"),this.radio_valor_vinte_oito_dias=this.dialog.find(".radio_valor_vinte_oito_dias"),this.radio_valor_trinta_dias=this.dialog.find(".radio_valor_trinta_dias"),this.cbo_informativa_sete_dias=this.dialog.find(".cbo_informativa_sete_dias"),this.cbo_informativa_catorze_dias=this.dialog.find(".cbo_informativa_catorze_dias"),this.cbo_informativa_vinte_um_dias=this.dialog.find(".cbo_informativa_vinte_um_dias"),this.cbo_informativa_vinte_oito_dias=this.dialog.find(".cbo_informativa_vinte_oito_dias"),this.cbo_informativa_trinta_dias=this.dialog.find(".cbo_informativa_trinta_dias"),this.div_informativa_catorze_dias=this.dialog.find(".div_informativa_catorze_dias"),this.div_informativa_vinte_um_dias=this.dialog.find(".div_informativa_vinte_um_dias"),this.div_informativa_vinte_oito_dias=this.dialog.find(".div_informativa_vinte_oito_dias"),this.div_informativa_trinta_dias=this.dialog.find(".cbo_informativa_trinta_dias"),this.percentual_sete_dias=this.dialog.find(".percentual_sete_dias"),this.percentual_catorze_dias=this.dialog.find(".percentual_catorze_dias"),this.percentual_vinte_um_dias=this.dialog.find(".percentual_vinte_um_dias"),this.percentual_vinte_oito_dias=this.dialog.find(".percentual_vinte_oito_dias"),this.percentual_trinta_dias=this.dialog.find(".percentual_trinta_dias"),this.valor_sete_dias=this.dialog.find(".valor_sete_dias"),this.valor_catorze_dias=this.dialog.find(".valor_catorze_dias"),this.valor_vinte_um_dias=this.dialog.find(".valor_vinte_um_dias"),this.valor_vinte_oito_dias=this.dialog.find(".valor_vinte_oito_dias"),this.valor_trinta_dias=this.dialog.find(".valor_trinta_dias"),this.cbo_informativa_sete_dias=this.dialog.find(".cbo_informativa_sete_dias"),this.cbo_informativa_catorze_dias=this.dialog.find(".cbo_informativa_catorze_dias"),this.cbo_informativa_vinte_um_dias=this.dialog.find(".cbo_informativa_vinte_um_dias"),this.cbo_informativa_vinte_oito_dias=this.dialog.find(".cbo_informativa_vinte_oito_dias"),this.cbo_informativa_trinta_dias=this.dialog.find(".cbo_informativa_trinta_dias"),this.edt_percentual_sete_dias=this.dialog.find(".edt_percentual_sete_dias"),this.edt_percentual_catorze_dias=this.dialog.find(".edt_percentual_catorze_dias"),this.edt_percentual_vinte_um_dias=this.dialog.find(".edt_percentual_vinte_um_dias"),this.edt_percentual_vinte_oito_dias=this.dialog.find(".edt_percentual_vinte_oito_dias"),this.edt_percentual_trinta_dias=this.dialog.find(".edt_percentual_trinta_dias"),this.edt_valor_sete_dias=this.dialog.find(".edt_valor_sete_dias"),this.edt_valor_catorze_dias=this.dialog.find(".edt_valor_catorze_dias"),this.edt_valor_vinte_um_dias=this.dialog.find(".edt_valor_vinte_um_dias"),this.edt_valor_vinte_oito_dias=this.dialog.find(".edt_valor_vinte_oito_dias"),this.edt_valor_trinta_dias=this.dialog.find(".edt_valor_trinta_dias"),this.edt_acao_sete_dias=this.dialog.find(".edt_acao_sete_dias"),this.edt_acao_catorze_dias=this.dialog.find(".edt_acao_catorze_dias"),this.edt_acao_vinte_um_dias=this.dialog.find(".edt_acao_vinte_um_dias"),this.edt_acao_vinte_oito_dias=this.dialog.find(".edt_acao_vinte_oito_dias"),this.edt_acao_trinta_dias=this.dialog.find(".edt_acao_trinta_dias"),this.data_sete_dias=this.dialog.find(".data_sete_dias"),this.data_catorze_dias=this.dialog.find(".data_catorze_dias"),this.data_vinte_um_dias=this.dialog.find(".data_vinte_um_dias"),this.data_vinte_oito_dias=this.dialog.find(".data_vinte_oito_dias"),this.data_trinta_dias=this.dialog.find(".data_trinta_dias"),this.btn_salvar_enviar=this.dialog.find(".btn_salvar_enviar"),this.responsabilidade_escolhida=this.dialog.find(".responsabilidade_escolhida"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.btn_excluir=this.dialog.find(".btn_excluir"),this.atuacao_efetiva_id=0,this.indicador_id=0,this.possibilidade_acao_id=0,this.selected_cbo_atuacao_efetiva_id=null,this.atuacao_efetiva_avaliacao_id=0,this.competencias_essenciais_avaliacao_status=0,this.indicador_principal="N",this.show=function(a,t,_,e,d,o,s){this.btn_avaliar.addClass("hidden"),"S"==App.sessao.dados.supervisor_empenho&&this.btn_avaliar.removeClass("hidden"),i.usuario_id=d,i.indicador_principal=s,i.atuacao_efetiva_id=t,i.indicador_id=_,i.possibilidade_acao_id=e,i.atuacao_efetiva_avaliacao_id=o,i.responsabilidade_escolhida.text(a),i.carrega_acoes_metas(),show_modal(i.modal.attr("id")),set_focus(i.edt_nome),set_datepicker(i.edt_data_base,getDateNow(!0)),i.muda_data(new Date),i.edt_percentual_sete_dias.maskMoney({thousands:"",decimal:"",allowZero:!0,suffix:"",precision:0}),i.edt_percentual_catorze_dias.maskMoney({thousands:"",decimal:"",allowZero:!0,suffix:"",precision:0}),i.edt_percentual_vinte_um_dias.maskMoney({thousands:"",decimal:"",allowZero:!0,suffix:"",precision:0}),i.edt_percentual_vinte_oito_dias.maskMoney({thousands:"",decimal:"",allowZero:!0,suffix:"",precision:0}),i.edt_percentual_trinta_dias.maskMoney({thousands:"",decimal:"",allowZero:!0,suffix:"",precision:0}),i.edt_valor_sete_dias.maskMoney({thousands:".",decimal:",",allowZero:!0,suffix:"",precision:2}),i.edt_valor_catorze_dias.maskMoney({thousands:".",decimal:",",allowZero:!0,suffix:"",precision:2}),i.edt_valor_vinte_um_dias.maskMoney({thousands:".",decimal:",",allowZero:!0,suffix:"",precision:2}),i.edt_valor_vinte_oito_dias.maskMoney({thousands:".",decimal:",",allowZero:!0,suffix:"",precision:2}),i.edt_valor_trinta_dias.maskMoney({thousands:".",decimal:",",allowZero:!0,suffix:"",precision:2}),$('[name="optradio_sete_dias"]').change(function(a){var t=+$(this).filter('[name="optradio_sete_dias"]:checked').val();+t==TIPO_RESULTADO.INFORMATIVO?(i.percentual_sete_dias.hide(),i.valor_sete_dias.hide()):+t==TIPO_RESULTADO.PERCENTUAL?(i.percentual_sete_dias.show(),i.valor_sete_dias.hide()):+t==TIPO_RESULTADO.VALOR?(i.percentual_sete_dias.hide(),i.valor_sete_dias.show()):t==TIPO_RESULTADO.SEM_ACAO&&$('[name="optradio_sete_dias"]:last').prop("checked","checked")}),$('[name="optradio_catorze_dias"]').change(function(a){var t=+$(this).filter('[name="optradio_catorze_dias"]:checked').val();t==TIPO_RESULTADO.INFORMATIVO?(i.percentual_catorze_dias.hide(),i.valor_catorze_dias.hide()):t==TIPO_RESULTADO.PERCENTUAL?(i.percentual_catorze_dias.show(),i.valor_catorze_dias.hide()):t==TIPO_RESULTADO.VALOR?(i.percentual_catorze_dias.hide(),i.valor_catorze_dias.show()):t==TIPO_RESULTADO.SEM_ACAO&&$('[name="optradio_catorze_dias"]:last').prop("checked","checked")}),$('[name="optradio_vinte_um_dias"]').change(function(a){var t=+$(this).filter('[name="optradio_vinte_um_dias"]:checked').val();t==TIPO_RESULTADO.INFORMATIVO?(i.percentual_vinte_um_dias.hide(),i.valor_vinte_um_dias.hide()):t==TIPO_RESULTADO.PERCENTUAL?(i.percentual_vinte_um_dias.show(),i.valor_vinte_um_dias.hide()):t==TIPO_RESULTADO.VALOR?(i.percentual_vinte_um_dias.hide(),i.valor_vinte_um_dias.show()):t==TIPO_RESULTADO.SEM_ACAO&&$('[name="optradio_vinte_um_dias"]:last').prop("checked","checked")}),$('[name="optradio_vinte_oito_dias"]').change(function(a){var t=+$(this).filter('[name="optradio_vinte_oito_dias"]:checked').val();t==TIPO_RESULTADO.INFORMATIVO?(i.percentual_vinte_oito_dias.hide(),i.valor_vinte_oito_dias.hide()):t==TIPO_RESULTADO.PERCENTUAL?(i.percentual_vinte_oito_dias.show(),i.valor_vinte_oito_dias.hide()):t==TIPO_RESULTADO.VALOR?(i.percentual_vinte_oito_dias.hide(),i.valor_vinte_oito_dias.show()):t==TIPO_RESULTADO.SEM_ACAO&&$('[name="optradio_vinte_oito_dias"]:last').prop("checked","checked")}),$('[name="optradio_trinta_dias"]').change(function(a){var t=+$(this).filter('[name="optradio_trinta_dias"]:checked').val();t==TIPO_RESULTADO.INFORMATIVO?(i.percentual_trinta_dias.hide(),i.valor_trinta_dias.hide()):t==TIPO_RESULTADO.PERCENTUAL?(i.percentual_trinta_dias.show(),i.valor_trinta_dias.hide()):t==TIPO_RESULTADO.VALOR?(i.percentual_trinta_dias.hide(),i.valor_trinta_dias.show()):t==TIPO_RESULTADO.SEM_ACAO&&$('[name="optradio_trinta_dias"]:last').prop("checked","checked")})},i.edt_data_base.change(function(a){var t,_,e,d,o=a.currentTarget.value,s=(o=o.replace(/\//g,"-")).split("-");navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)?(d=s[2],e=+s[1]-1,_=s[0]):(d=s[0],e=s[1],_=s[2]),t=new Date(d,e,_),i.muda_data(t)}),this.muda_data=function(a){var t="";if(""!=a&&a instanceof Date)t=a;else{var _=a.split("-"),e=_[0],d=+_[1]-1,o=_[2].substring(0,2);t=new Date(e,d,o)}var s=new Date(t.addDay(7)),n=new Date(t.addDay(14)),r=new Date(t.addDay(21)),l=new Date(t.addDay(28)),c=new Date(t.addDay(30));i.data_sete_dias.text(new Date(s).toISOString().slice(0,10)),i.data_catorze_dias.text(new Date(n).toISOString().slice(0,10)),i.data_vinte_um_dias.text(new Date(r).toISOString().slice(0,10)),i.data_vinte_oito_dias.text(new Date(l).toISOString().slice(0,10)),i.data_trinta_dias.text(new Date(c).toISOString().slice(0,10)),i.data_sete_dias.text(new Date(s).today()),i.data_catorze_dias.text(new Date(n).today()),i.data_vinte_oito_dias.text(new Date(l).today()),i.data_trinta_dias.text(new Date(c).today()),i.data_vinte_um_dias.text(new Date(r).today())},this.btn_avaliar.unbind("click"),this.btn_avaliar.click(function(a){View.load("atuacao_efetiva/avaliar",function(a,t){t.show(i.atuacao_efetiva_id,i.indicador_id,i.atuacao_efetiva_avaliacao_id),t.onsave=function(a){i.onsave(a),i.unload()}})}),this.carrega_acoes_metas=function(){WS.get("atuacao_efetiva_resultado_esperado/listar/",{possibilidade_acao_id:i.possibilidade_acao_id,atuacao_efetiva_id:i.atuacao_efetiva_id,indicador_id:i.indicador_id,indicador_principal:i.indicador_principal},function(a){var t=a;if(void 0!==t){var _=t.length>0?t[0].status:1;void 0!==t&&t.length>0&&(i.muda_data(t[0].data_base),set_datepicker(i.edt_data_base,t[0].data_base)),_!=STATUS_INDICADORES.NAO_INICIADO&&null!=_||i.btn_avaliar.prop("disabled",!0),_!=STATUS_INDICADORES.EM_ANDAMENTO&&"S"!=App.sessao.dados.supervisor_empenho&&i.btn_avaliar.prop("disabled",!1),"S"!=App.sessao.dados.supervisor_empenho?(i.btn_avaliar.prop("disabled",!0),_==STATUS_INDICADORES.NAO_INICIADO||_==STATUS_INDICADORES.NAO_APROVADO?(i.btn_salvar.removeClass("hidden"),i.btn_salvar_enviar.removeClass("hidden")):_!=STATUS_INDICADORES.EM_ANDAMENTO&&_!=STATUS_INDICADORES.EM_APROVACAO||(i.btn_salvar.addClass("hidden"),i.btn_salvar_enviar.addClass("hidden"),i.permite_alterar(!1))):(_==STATUS_INDICADORES.EM_ANDAMENTO||_==STATUS_INDICADORES.NAO_APROVADO?i.btn_avaliar.prop("disabled",!0):_==STATUS_INDICADORES.EM_APROVACAO&&i.btn_avaliar.prop("disabled",!1),App.sessao.dados.usuario_id==i.usuario_id?(i.btn_avaliar.addClass("hidden"),i.btn_salvar_enviar.addClass("hidden")):(i.btn_salvar.addClass("hidden"),i.btn_salvar_enviar.addClass("hidden"))),i.competencias_essenciais_avaliacao_status=_,0!=i.atuacao_efetiva_avaliacao_id&&null!=i.atuacao_efetiva_avaliacao_id||void 0!==t[0]&&(i.atuacao_efetiva_avaliacao_id=t[0].atuacao_efetiva_avaliacao_id),$.each(t,function(a,t){t.dias_periodo==RESULTADO_ESPERADO.SETE_DIAS?(i.edt_acao_sete_dias.val(t.descricao_acao).attr("atuacao_efetiva_resultado_esperado_id",t.atuacao_efetiva_resultado_esperado_id),i.cbo_informativa_sete_dias.val(t.informativa),i.edt_percentual_sete_dias.val(t.percentual),i.edt_valor_sete_dias.val(t.valor),$('[name="optradio_sete_dias"]').val([t.tipo]).change()):t.dias_periodo==RESULTADO_ESPERADO.CATORZE_DIAS?(i.edt_acao_catorze_dias.val(t.descricao_acao).attr("atuacao_efetiva_resultado_esperado_id",t.atuacao_efetiva_resultado_esperado_id),i.cbo_informativa_catorze_dias.val(t.informativa),i.edt_percentual_catorze_dias.val(t.percentual),i.edt_valor_catorze_dias.val(t.valor),$('[name="optradio_catorze_dias"]').val([t.tipo]).change()):t.dias_periodo==RESULTADO_ESPERADO.VINTE_UM_DIAS?(i.edt_acao_vinte_um_dias.val(t.descricao_acao).attr("atuacao_efetiva_resultado_esperado_id",t.atuacao_efetiva_resultado_esperado_id),i.cbo_informativa_vinte_um_dias.val(t.informativa),i.edt_percentual_vinte_um_dias.val(t.percentual),i.edt_valor_vinte_um_dias.val(t.valor),$('[name="optradio_vinte_um_dias"]').val([t.tipo]).change()):t.dias_periodo==RESULTADO_ESPERADO.VINTE_OITO_DIAS?(i.edt_acao_vinte_oito_dias.val(t.descricao_acao).attr("atuacao_efetiva_resultado_esperado_id",t.atuacao_efetiva_resultado_esperado_id),i.cbo_informativa_vinte_oito_dias.val(t.informativa),i.edt_percentual_vinte_oito_dias.val(t.percentual),i.edt_valor_vinte_oito_dias.val(t.valor),$('[name="optradio_vinte_oito_dias"]').val([t.tipo]).change()):t.dias_periodo==RESULTADO_ESPERADO.TRINTA_DIAS&&(i.edt_acao_trinta_dias.val(t.descricao_acao).attr("atuacao_efetiva_resultado_esperado_id",t.atuacao_efetiva_resultado_esperado_id),i.cbo_informativa_trinta_dias.val(t.informativa),i.edt_percentual_trinta_dias.val(t.percentual),i.edt_valor_trinta_dias.val(t.valor),$('[name="optradio_trinta_dias"]').val([t.tipo]).change())})}})},this.salva_dados_acaoes_metas=function(a){var t=[{id:i.edt_acao_sete_dias.attr("atuacao_efetiva_resultado_esperado_id"),descricao_acao:i.edt_acao_sete_dias.val(),tipo:i.optradio_sete_dias.filter(":checked").val(),informativa:"0"==i.optradio_sete_dias.filter(":checked").val()?"S":"N",percentual:i.edt_percentual_sete_dias.val(),valor:i.edt_valor_sete_dias.maskMoney("unmasked")[0],dias_periodo:RESULTADO_ESPERADO.SETE_DIAS},{id:i.edt_acao_catorze_dias.attr("atuacao_efetiva_resultado_esperado_id"),descricao_acao:i.edt_acao_catorze_dias.val(),tipo:i.optradio_catorze_dias.filter(":checked").val(),informativa:"0"==i.optradio_catorze_dias.filter(":checked").val()?"S":"N",percentual:i.edt_percentual_catorze_dias.val(),valor:i.edt_valor_catorze_dias.maskMoney("unmasked")[0],dias_periodo:RESULTADO_ESPERADO.CATORZE_DIAS},{id:i.edt_acao_vinte_um_dias.attr("atuacao_efetiva_resultado_esperado_id"),descricao_acao:i.edt_acao_vinte_um_dias.val(),tipo:i.optradio_vinte_um_dias.filter(":checked").val(),informativa:"0"==i.optradio_vinte_um_dias.filter(":checked").val()?"S":"N",percentual:i.edt_percentual_vinte_um_dias.val(),valor:i.edt_valor_vinte_um_dias.maskMoney("unmasked")[0],dias_periodo:RESULTADO_ESPERADO.VINTE_UM_DIAS},{id:i.edt_acao_vinte_oito_dias.attr("atuacao_efetiva_resultado_esperado_id"),descricao_acao:i.edt_acao_vinte_oito_dias.val(),tipo:i.optradio_vinte_oito_dias.filter(":checked").val(),informativa:"0"==i.optradio_vinte_oito_dias.filter(":checked").val()?"S":"N",percentual:i.edt_percentual_vinte_oito_dias.val(),valor:i.edt_valor_vinte_oito_dias.maskMoney("unmasked")[0],dias_periodo:RESULTADO_ESPERADO.VINTE_OITO_DIAS},{id:i.edt_acao_trinta_dias.attr("atuacao_efetiva_resultado_esperado_id"),descricao_acao:i.edt_acao_trinta_dias.val(),tipo:i.optradio_trinta_dias.filter(":checked").val(),informativa:"0"==i.optradio_trinta_dias.filter(":checked").val()?"S":"N",percentual:i.edt_percentual_trinta_dias.val(),valor:i.edt_valor_trinta_dias.maskMoney("unmasked")[0],dias_periodo:RESULTADO_ESPERADO.TRINTA_DIAS}];WS.post("atuacao_efetiva_resultado_esperado/salvar/",{acoes:JSON.stringify(t),status:a,avaliacao_id:i.atuacao_efetiva_avaliacao_id,atuacao_efetiva_id:i.atuacao_efetiva_id,indicador_id:i.indicador_id,possibilidade_acao_id:i.possibilidade_acao_id,atuacao_efetiva_resultado_esperado_id:i.atuacao_efetiva_resultado_esperado_id,data_base:get_datepicker(i.edt_data_base)},function(t){alert_saved("Salvo com sucesso"),i.unload(a)})},this.close=function(){close_modal(i.modal.attr("id")),void 0!==i.onclose&&i.onclose&&i.onclose()},i.cbo_novo_indicador.change(function(a){i.selected_cbo_atuacao_efetiva_id=$(this).find("option:selected").attr("data-id-atuacao")}),this.permite_alterar=function(a){$("[name='optradio_sete_dias']").prop("disabled",!a),$("[name='optradio_catorze_dias']").prop("disabled",!a),$("[name='optradio_vinte_um_dias']").prop("disabled",!a),$("[name='optradio_vinte_oito_dias']").prop("disabled",!a),$("[name='optradio_trinta_dias']").prop("disabled",!a),i.edt_percentual_sete_dias.prop("readonly",!a),i.edt_percentual_catorze_dias.prop("readonly",!a),i.edt_percentual_vinte_um_dias.prop("readonly",!a),i.edt_percentual_vinte_oito_dias.prop("readonly",!a),i.edt_percentual_trinta_dias.prop("readonly",!a),i.edt_acao_sete_dias.prop("readonly",!a),i.edt_acao_catorze_dias.prop("readonly",!a),i.edt_acao_vinte_um_dias.prop("readonly",!a),i.edt_acao_vinte_oito_dias.prop("readonly",!a),i.edt_acao_trinta_dias.prop("readonly",!a),i.edt_data_base.prop("readonly",!a),i.edt_valor_sete_dias.prop("readonly",!a),i.edt_valor_catorze_dias.prop("readonly",!a),i.edt_valor_vinte_um_dias.prop("readonly",!a),i.edt_valor_vinte_oito_dias.prop("readonly",!a),i.edt_valor_trinta_dias.prop("readonly",!a)},this.radio_indicador.unbind("click"),this.radio_indicador.click(function(){1==parseInt($(this).val())?(i.cbo_novo_indicador.prop("disabled",!1),i.edt_indicador.prop("disabled",!0),i.cbo_novo_indicador.val(""),i.edt_indicador.val("")):2==parseInt($(this).val())&&(i.cbo_novo_indicador.prop("disabled",!0),i.edt_indicador.prop("disabled",!1),i.cbo_novo_indicador.val(""),i.edt_indicador.val(""))}),this.unload=function(a){i.close(a),View.unload(this.html_id)},this.preencher=function(){WS.get("atuacao_efetiva/objeto/",{atuacao_efetiva_id:i.atuacao_efetiva_id},function(a){i.edt_indicador.val(a.indicador)})},this.close=function(a){close_modal(i.modal.attr("id")),void 0!==i.onclose&&i.onclose&&i.onclose(a)},this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){i.unload()}),this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){i.usuario_id==App.sessao.dados.supervisor_empenho=="S"?i.salva_dados_acaoes_metas(STATUS_INDICADORES.EM_ANDAMENTO):i.salva_dados_acaoes_metas()}),this.btn_salvar_enviar.unbind("click"),this.btn_salvar_enviar.click(function(){i.salva_dados_acaoes_metas(STATUS_INDICADORES.EM_APROVACAO)}),this.btn_excluir.unbind("click"),this.btn_excluir.click(function(){WS.post("atuacao_efetiva/excluir",{atuacao_efetiva_id:i.atuacao_efetiva_id},function(a){alert_saved(a.nome+" excluido com sucesso"),i.unload()})})}});