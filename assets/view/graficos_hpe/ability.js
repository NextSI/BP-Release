define([],function(){return function(t){"use strict";var a=this;this.html_id=t,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title="ProfitAbility",this.tipo=null,this.onclose=null,this.onsave=null,this.edt_nome=this.dialog.find(".edt_nome"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.btn_excluir=this.dialog.find(".btn_excluir"),this.area_id=null,this.show=function(t,a,i,e){var o=t,n=a,l=i,c=e,s=o/100*400,d=n/100*420,h=l/100*400,r=c/100*420;s=420-s,d=90+d,h=420-h,r=90+r,$($(".data .ponto_atual")).attr({cx:Math.ceil(d),cy:Math.ceil(s)}),$($(".data .ponto_desejado")).attr({cx:Math.ceil(r),cy:Math.ceil(h)}),$(".texto_atuacao").attr({x:100,y:100,text:"A"}),$(".ae_desejado").attr({"font-size":15,x:r,y:h-20}).text("AE: "+l+"%"),$(".ce_desejado").attr({"font-size":15,x:r,y:h-8}).text("CE: "+c+"%"),$(".ae_atual").attr({"font-size":15,x:d,y:s-20}).text("AE: "+o+"%"),$(".ce_atual").attr({"font-size":15,x:d,y:s-8}).text("CE: "+n+"%");var _=$(".fundo_atual"),u=$(".fundo_desejado");_.attr({x:r-55,y:h-35}),u.attr({x:d-55,y:s-35}),$(".linha_competencia_atual").attr({x1:90,x2:Math.ceil(d),y1:Math.ceil(s),y2:Math.ceil(s)}),$(".linha_atuacao_atual").attr({x1:Math.ceil(d),x2:Math.ceil(d),y1:420,y2:Math.ceil(s)}),$(".linha_competencia_desejado").attr({x1:90,x2:Math.ceil(r),y1:Math.ceil(h),y2:Math.ceil(h)}),$(".linha_atuacao_desejado").attr({x1:Math.ceil(r),x2:Math.ceil(r),y1:420,y2:Math.ceil(h)})},this.close=function(){close_modal(a.modal.attr("id")),void 0!==a.onclose&&a.onclose&&a.onclose()},this.unload=function(){a.close(),View.unload(this.html_id)},this.permite_alterar=function(t){a.edt_nome.prop("readonly",!t)},this.preencher=function(){WS.get("area_foco/objeto/",{area_id:a.area_id},function(t){a.edt_nome.val(t.nome)})},this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){a.unload()}),this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post("area_foco/salvar/",{area_id:a.area_id,nome:a.edt_nome.val()},function(t){a.area_id=t.id,alert_saved(t.nome+" salvo com sucesso"),void 0!==a.onsave&&a.onsave&&a.onsave(t),a.unload()})}),this.btn_excluir.unbind("click"),this.btn_excluir.click(function(){WS.post("area_foco/excluir",{area_id:a.area_id},function(t){alert_saved(t.nome+" excluido com sucesso"),a.unload()})})}});