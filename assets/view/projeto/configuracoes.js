define([],function(){return function(a){"use strict";var o=this;this.html_id=a,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.onselect=null,this.onclose=null,this.chk_sugerir_data_prazo=this.dialog.find(".chk_sugerir_data_prazo"),this.chk_utilizar_classificacao_movimentacao_financeira=this.dialog.find(".chk_utilizar_classificacao_movimentacao_financeira"),this.chk_sugerir_codigo=this.dialog.find(".chk_sugerir_codigo"),this.chk_permite_alterar_padrao_apontamento=this.dialog.find(".chk_permite_alterar_padrao_apontamento"),this.chk_sugerir_despesas_no_apontamento_atividades=this.dialog.find(".chk_sugerir_despesas_no_apontamento_atividades"),this.cbo_tipo_valor_padrao_refeicao=this.dialog.find(".cbo_tipo_valor_padrao_refeicao"),this.cbo_tipo_relatorio_despesas_cliente_refeicao=this.dialog.find(".cbo_tipo_relatorio_despesas_cliente_refeicao"),this.chk_tipo_cancelamento_ignorar_prev_real=this.dialog.find(".chk_tipo_cancelamento_ignorar_prev_real"),this.div_componente_selecao_formulario=this.dialog.find(".div_componente_selecao_formulario"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.projeto_formulario_id=null,this.show=function(a){o.preencher(),show_modal(o.modal.attr("id"))},this.preencher=function(){WS.get("projeto/get_configuracoes/",null,function(a){o.chk_sugerir_data_prazo.prop("checked","N"!=a.sugerir_data_prazo).trigger("change"),o.chk_utilizar_classificacao_movimentacao_financeira.prop("checked","N"!=a.utilizar_classificacao_movimentacao_financeira).trigger("change"),o.chk_sugerir_codigo.prop("checked","N"!=a.sugerir_codigo_projeto).trigger("change"),o.chk_permite_alterar_padrao_apontamento.prop("checked","N"!=a.permite_alterar_padrao_apontamento).trigger("change"),o.chk_sugerir_despesas_no_apontamento_atividades.prop("checked","N"!=a.sugerir_despesas_no_apontamento_atividades).trigger("change"),o.cbo_tipo_valor_padrao_refeicao.val(a.tipo_valor_padrao_refeicao).selectpicker("refresh"),o.cbo_tipo_relatorio_despesas_cliente_refeicao.val(a.tipo_relatorio_despesas_cliente_refeicao).selectpicker("refresh"),o.chk_tipo_cancelamento_ignorar_prev_real.prop("checked","N"!=a.tipo_cancelamento_ignorar_prev_real).trigger("change"),o.projeto_formulario_id=a.projeto_formulario_id;var e={aoAlterar:(a,e)=>{o.projeto_formulario_id=a},selecionado:o.projeto_formulario_id,showClearButton:!0};ReactDOM.render(React.createElement(window.components.SelecaoFormulario.default,e),o.div_componente_selecao_formulario[0])})},this.close=function(){close_modal(o.modal.attr("id")),void 0!==o.onclose&&o.onclose&&o.onclose()},this.unload=function(){o.close(),View.unload(this.html_id)},this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){o.unload()}),this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post("projeto/salvar_configuracoes",{sugerir_data_prazo:o.chk_sugerir_data_prazo.prop("checked"),utilizar_classificacao_movimentacao_financeira:o.chk_utilizar_classificacao_movimentacao_financeira.prop("checked"),sugerir_codigo_projeto:o.chk_sugerir_codigo.prop("checked"),permite_alterar_padrao_apontamento:o.chk_permite_alterar_padrao_apontamento.prop("checked"),sugerir_despesas_no_apontamento_atividades:o.chk_sugerir_despesas_no_apontamento_atividades.prop("checked"),tipo_valor_padrao_refeicao:o.cbo_tipo_valor_padrao_refeicao.val(),tipo_relatorio_despesas_cliente_refeicao:o.cbo_tipo_relatorio_despesas_cliente_refeicao.val(),tipo_cancelamento_ignorar_prev_real:o.chk_tipo_cancelamento_ignorar_prev_real.prop("checked"),projeto_formulario_id:o.projeto_formulario_id},function(a){alert_saved("Configurações salvas com sucesso"),o.unload()})})}});