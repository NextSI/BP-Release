define([],function(){return function(i){"use strict";var a=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.title="Classificação de Avaliação",this.tab_listagem=this.dialog.find(".tab_listagem"),this.btn_novo=this.dialog.find(".btn_novo"),this.btn_listar=this.dialog.find(".btn_listar"),this.btn_editar_avaliacao=this.dialog.find(".btn_editar_avaliacao"),this.exibir_configuracoes_avaliacao=function(){View.load("nota_avaliacao/configuracoes",function(i,a){a.show()})},this.listar=function(){var i=a.tab_listagem.find("tbody"),t=i.find("tr:first");a.tab_listagem.find("tr:gt(1)").remove(),WS.get("nota_avaliacao/listar/",null,function(n){$(n).each(function(n,o){!function(n){var o=t.clone();o.removeAttr("template-row"),o.css("display",""),$(o.find("[template-field='nome']")).text(n.nome);var l=$(o.find("[template-field='padrao']"));"S"==n.padrao&&l.addClass("glyphicon-ok");var c=$(o.find(".btn_visualizar"));c.unbind("click"),c.click(function(){View.load("nota_avaliacao/detalhes",function(i,a){a.show(n._id,FORMULARIO.VISUALIZAR)})});var s=$(o.find(".btn_editar"));s.unbind("click"),s.click(function(){View.load("nota_avaliacao/detalhes",function(i,t){t.onclose=a.listar,t.show(n._id,FORMULARIO.EDITAR)})});var e=$(o.find(".btn_excluir"));e.unbind("click"),e.click(function(){View.load("nota_avaliacao/detalhes",function(i,t){t.onclose=a.listar,t.show(n._id,FORMULARIO.EXCLUIR)})}),o.appendTo(i)}(o)})})},this.btn_novo.unbind("click"),this.btn_novo.click(function(){View.load("nota_avaliacao/detalhes",function(i,t){t.onclose=a.listar,t.show(null,FORMULARIO.NOVO)})}),this.btn_listar.unbind("click"),this.btn_listar.click(function(){a.listar()}),this.btn_editar_avaliacao.unbind("click"),this.btn_editar_avaliacao.click(function(){a.exibir_configuracoes_avaliacao()}),this.unload=function(){View.unload(this.html_id)},this.listar()}});