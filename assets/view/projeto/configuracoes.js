define([],function(){return function(o){"use strict";var e=this;this.html_id=o,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.onselect=null,this.onclose=null,this.chk_sugerir_data_prazo=this.dialog.find(".chk_sugerir_data_prazo"),this.chk_sugerir_codigo=this.dialog.find(".chk_sugerir_codigo"),this.chk_permite_alterar_padrao_apontamento=this.dialog.find(".chk_permite_alterar_padrao_apontamento"),this.chk_sugerir_despesas_no_apontamento_atividades=this.dialog.find(".chk_sugerir_despesas_no_apontamento_atividades"),this.cbo_tipo_valor_padrao_refeicao=this.dialog.find(".cbo_tipo_valor_padrao_refeicao"),this.cbo_tipo_relatorio_despesas_cliente_refeicao=this.dialog.find(".cbo_tipo_relatorio_despesas_cliente_refeicao"),this.chk_tipo_cancelamento_ignorar_prev_real=this.dialog.find(".chk_tipo_cancelamento_ignorar_prev_real"),this.div_componente_selecao_formulario=this.dialog.find(".div_componente_selecao_formulario"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.projeto_formulario_id=null,this.show=function(o){e.preencher(),show_modal(e.modal.attr("id"))},this.preencher=function(){WS.get("projeto/get_configuracoes/",null,function(o){e.chk_sugerir_data_prazo.prop("checked","N"!=o.sugerir_data_prazo).trigger("change"),e.chk_sugerir_codigo.prop("checked","N"!=o.sugerir_codigo_projeto).trigger("change"),e.chk_permite_alterar_padrao_apontamento.prop("checked","N"!=o.permite_alterar_padrao_apontamento).trigger("change"),e.chk_sugerir_despesas_no_apontamento_atividades.prop("checked","N"!=o.sugerir_despesas_no_apontamento_atividades).trigger("change"),e.cbo_tipo_valor_padrao_refeicao.val(o.tipo_valor_padrao_refeicao).selectpicker("refresh"),e.cbo_tipo_relatorio_despesas_cliente_refeicao.val(o.tipo_relatorio_despesas_cliente_refeicao).selectpicker("refresh"),e.chk_tipo_cancelamento_ignorar_prev_real.prop("checked","N"!=o.tipo_cancelamento_ignorar_prev_real).trigger("change"),e.projeto_formulario_id=o.projeto_formulario_id;var a={aoAlterar:(o,a)=>{e.projeto_formulario_id=o},selecionado:e.projeto_formulario_id,showClearButton:!0};ReactDOM.render(React.createElement(window.components.SelecaoFormulario.default,a),e.div_componente_selecao_formulario[0])})},this.close=function(){close_modal(e.modal.attr("id")),void 0!==e.onclose&&e.onclose&&e.onclose()},this.unload=function(){e.close(),View.unload(this.html_id)},this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){e.unload()}),this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post("projeto/salvar_configuracoes",{sugerir_data_prazo:e.chk_sugerir_data_prazo.prop("checked"),sugerir_codigo_projeto:e.chk_sugerir_codigo.prop("checked"),permite_alterar_padrao_apontamento:e.chk_permite_alterar_padrao_apontamento.prop("checked"),sugerir_despesas_no_apontamento_atividades:e.chk_sugerir_despesas_no_apontamento_atividades.prop("checked"),tipo_valor_padrao_refeicao:e.cbo_tipo_valor_padrao_refeicao.val(),tipo_relatorio_despesas_cliente_refeicao:e.cbo_tipo_relatorio_despesas_cliente_refeicao.val(),tipo_cancelamento_ignorar_prev_real:e.chk_tipo_cancelamento_ignorar_prev_real.prop("checked"),projeto_formulario_id:e.projeto_formulario_id},function(o){alert_saved("Configurações salvas com sucesso"),e.unload()})})}});