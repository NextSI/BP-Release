define([],function(){return function(n){"use strict";var i=this;this.html_id=n,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.tipo=null,this.onclose=null,this.onconfirm=null,this.edt_nome_funil_vendas_clone=this.dialog.find(".edt_nome_funil_vendas_clone"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_confirmar=this.dialog.find(".btn_confirmar"),this.funil_vendas_id=null,this.show=function(n,t){i.funil_vendas_id=t;var l=n;show_modal(i.modal.attr("id")),i.title.text("Clonar Funil de Vendas - "+l)},this.close=function(){close_modal(i.modal.attr("id")),void 0!==i.onclose&&i.onclose&&i.onclose()},this.unload=function(){i.close(),View.unload(this.html_id)},this.btn_confirmar.unbind("click"),this.btn_confirmar.click(function(){WS.post("funil_vendas/clonar",{funil_vendas_id:i.funil_vendas_id,nome_funil_vendas_clone:i.edt_nome_funil_vendas_clone.val()},function(n){alert_saved("Funil de Vendas clonado com sucesso"),i.unload()},[i.btn_confirmar,i.btn_cancelar])}),this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){i.unload()})}});