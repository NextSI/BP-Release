define([],function(){return function(i){"use strict";var _=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.modal=this.dialog.find(".modal"),this.modal.attr("id",this.html_id+"_modal"),this.title=this.modal.find(".modal-title"),this.tipo=null,this.onclose=null,this.edt_nome=this.dialog.find(".edt_nome"),this.edt_dom_manha_inicio=this.dialog.find(".edt_dom_manha_inicio"),this.edt_dom_manha_fim=this.dialog.find(".edt_dom_manha_fim"),this.edt_dom_tarde_inicio=this.dialog.find(".edt_dom_tarde_inicio"),this.edt_dom_tarde_fim=this.dialog.find(".edt_dom_tarde_fim"),this.edt_seg_manha_inicio=this.dialog.find(".edt_seg_manha_inicio"),this.edt_seg_manha_fim=this.dialog.find(".edt_seg_manha_fim"),this.edt_seg_tarde_inicio=this.dialog.find(".edt_seg_tarde_inicio"),this.edt_seg_tarde_fim=this.dialog.find(".edt_seg_tarde_fim"),this.edt_ter_manha_inicio=this.dialog.find(".edt_ter_manha_inicio"),this.edt_ter_manha_fim=this.dialog.find(".edt_ter_manha_fim"),this.edt_ter_tarde_inicio=this.dialog.find(".edt_ter_tarde_inicio"),this.edt_ter_tarde_fim=this.dialog.find(".edt_ter_tarde_fim"),this.edt_qua_manha_inicio=this.dialog.find(".edt_qua_manha_inicio"),this.edt_qua_manha_fim=this.dialog.find(".edt_qua_manha_fim"),this.edt_qua_tarde_inicio=this.dialog.find(".edt_qua_tarde_inicio"),this.edt_qua_tarde_fim=this.dialog.find(".edt_qua_tarde_fim"),this.edt_qui_manha_inicio=this.dialog.find(".edt_qui_manha_inicio"),this.edt_qui_manha_fim=this.dialog.find(".edt_qui_manha_fim"),this.edt_qui_tarde_inicio=this.dialog.find(".edt_qui_tarde_inicio"),this.edt_qui_tarde_fim=this.dialog.find(".edt_qui_tarde_fim"),this.edt_sex_manha_inicio=this.dialog.find(".edt_sex_manha_inicio"),this.edt_sex_manha_fim=this.dialog.find(".edt_sex_manha_fim"),this.edt_sex_tarde_inicio=this.dialog.find(".edt_sex_tarde_inicio"),this.edt_sex_tarde_fim=this.dialog.find(".edt_sex_tarde_fim"),this.edt_sab_manha_inicio=this.dialog.find(".edt_sab_manha_inicio"),this.edt_sab_manha_fim=this.dialog.find(".edt_sab_manha_fim"),this.edt_sab_tarde_inicio=this.dialog.find(".edt_sab_tarde_inicio"),this.edt_sab_tarde_fim=this.dialog.find(".edt_sab_tarde_fim"),this.btn_cancelar=this.dialog.find(".btn_cancelar"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.btn_excluir=this.dialog.find(".btn_excluir"),this.calendario_trabalho_id=null,this.show=function(i,a){switch(_.tipo=a,a){case FORMULARIO.NOVO:case FORMULARIO.EDITAR:_.btn_salvar.show(),_.btn_excluir.hide();break;case FORMULARIO.VISUALIZAR:_.btn_salvar.hide(),_.btn_excluir.hide();break;case FORMULARIO.EXCLUIR:_.btn_salvar.hide(),_.btn_excluir.show()}void 0!==i&&i&&(_.calendario_trabalho_id=i,_.preencher()),_.permite_alterar(),show_modal(_.modal.attr("id")),set_focus(_.edt_nome)},this.close=function(){close_modal(_.modal.attr("id")),void 0!==_.onclose&&_.onclose&&_.onclose()},this.unload=function(){_.close(),View.unload(this.html_id)},this.permite_alterar=function(){var i=!1;switch(_.tipo){case FORMULARIO.NOVO:case FORMULARIO.EDITAR:i=!0;break;case FORMULARIO.VISUALIZAR:case FORMULARIO.EXCLUIR:i=!1}_.edt_nome.prop("readonly",!i),_.edt_dom_manha_inicio.prop("readonly",!i),_.edt_dom_manha_fim.prop("readonly",!i),_.edt_dom_tarde_inicio.prop("readonly",!i),_.edt_dom_tarde_fim.prop("readonly",!i),_.edt_seg_manha_inicio.prop("readonly",!i),_.edt_seg_manha_fim.prop("readonly",!i),_.edt_seg_tarde_inicio.prop("readonly",!i),_.edt_seg_tarde_fim.prop("readonly",!i),_.edt_ter_manha_inicio.prop("readonly",!i),_.edt_ter_manha_fim.prop("readonly",!i),_.edt_ter_tarde_inicio.prop("readonly",!i),_.edt_ter_tarde_fim.prop("readonly",!i),_.edt_qua_manha_inicio.prop("readonly",!i),_.edt_qua_manha_fim.prop("readonly",!i),_.edt_qua_tarde_inicio.prop("readonly",!i),_.edt_qua_tarde_fim.prop("readonly",!i),_.edt_qui_manha_inicio.prop("readonly",!i),_.edt_qui_manha_fim.prop("readonly",!i),_.edt_qui_tarde_inicio.prop("readonly",!i),_.edt_qui_tarde_fim.prop("readonly",!i),_.edt_sex_manha_inicio.prop("readonly",!i),_.edt_sex_manha_fim.prop("readonly",!i),_.edt_sex_tarde_inicio.prop("readonly",!i),_.edt_sex_tarde_fim.prop("readonly",!i),_.edt_sab_manha_inicio.prop("readonly",!i),_.edt_sab_manha_fim.prop("readonly",!i),_.edt_sab_tarde_inicio.prop("readonly",!i),_.edt_sab_tarde_fim.prop("readonly",!i)},this.preencher=function(){WS.get("calendario_trabalho/objeto/",{calendario_trabalho_id:_.calendario_trabalho_id},function(i){_.edt_nome.val(i.nome),_.edt_dom_manha_inicio.val(i.dom_manha_inicio),_.edt_dom_manha_fim.val(i.dom_manha_fim),_.edt_dom_tarde_inicio.val(i.dom_tarde_inicio),_.edt_dom_tarde_fim.val(i.dom_tarde_fim),_.edt_seg_manha_inicio.val(i.seg_manha_inicio),_.edt_seg_manha_fim.val(i.seg_manha_fim),_.edt_seg_tarde_inicio.val(i.seg_tarde_inicio),_.edt_seg_tarde_fim.val(i.seg_tarde_fim),_.edt_ter_manha_inicio.val(i.ter_manha_inicio),_.edt_ter_manha_fim.val(i.ter_manha_fim),_.edt_ter_tarde_inicio.val(i.ter_tarde_inicio),_.edt_ter_tarde_fim.val(i.ter_tarde_fim),_.edt_qua_manha_inicio.val(i.qua_manha_inicio),_.edt_qua_manha_fim.val(i.qua_manha_fim),_.edt_qua_tarde_inicio.val(i.qua_tarde_inicio),_.edt_qua_tarde_fim.val(i.qua_tarde_fim),_.edt_qui_manha_inicio.val(i.qui_manha_inicio),_.edt_qui_manha_fim.val(i.qui_manha_fim),_.edt_qui_tarde_inicio.val(i.qui_tarde_inicio),_.edt_qui_tarde_fim.val(i.qui_tarde_fim),_.edt_sex_manha_inicio.val(i.sex_manha_inicio),_.edt_sex_manha_fim.val(i.sex_manha_fim),_.edt_sex_tarde_inicio.val(i.sex_tarde_inicio),_.edt_sex_tarde_fim.val(i.sex_tarde_fim),_.edt_sab_manha_inicio.val(i.sab_manha_inicio),_.edt_sab_manha_fim.val(i.sab_manha_fim),_.edt_sab_tarde_inicio.val(i.sab_tarde_inicio),_.edt_sab_tarde_fim.val(i.sab_tarde_fim)})},this.btn_cancelar.unbind("click"),this.btn_cancelar.click(function(){_.unload()}),this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post("calendario_trabalho/salvar",{calendario_trabalho_id:_.calendario_trabalho_id,nome:_.edt_nome.val(),dom_manha_inicio:_.edt_dom_manha_inicio.val(),dom_manha_fim:_.edt_dom_manha_fim.val(),dom_tarde_inicio:_.edt_dom_tarde_inicio.val(),dom_tarde_fim:_.edt_dom_tarde_fim.val(),seg_manha_inicio:_.edt_seg_manha_inicio.val(),seg_manha_fim:_.edt_seg_manha_fim.val(),seg_tarde_inicio:_.edt_seg_tarde_inicio.val(),seg_tarde_fim:_.edt_seg_tarde_fim.val(),ter_manha_inicio:_.edt_ter_manha_inicio.val(),ter_manha_fim:_.edt_ter_manha_fim.val(),ter_tarde_inicio:_.edt_ter_tarde_inicio.val(),ter_tarde_fim:_.edt_ter_tarde_fim.val(),qua_manha_inicio:_.edt_qua_manha_inicio.val(),qua_manha_fim:_.edt_qua_manha_fim.val(),qua_tarde_inicio:_.edt_qua_tarde_inicio.val(),qua_tarde_fim:_.edt_qua_tarde_fim.val(),qui_manha_inicio:_.edt_qui_manha_inicio.val(),qui_manha_fim:_.edt_qui_manha_fim.val(),qui_tarde_inicio:_.edt_qui_tarde_inicio.val(),qui_tarde_fim:_.edt_qui_tarde_fim.val(),sex_manha_inicio:_.edt_sex_manha_inicio.val(),sex_manha_fim:_.edt_sex_manha_fim.val(),sex_tarde_inicio:_.edt_sex_tarde_inicio.val(),sex_tarde_fim:_.edt_sex_tarde_fim.val(),sab_manha_inicio:_.edt_sab_manha_inicio.val(),sab_manha_fim:_.edt_sab_manha_fim.val(),sab_tarde_inicio:_.edt_sab_tarde_inicio.val(),sab_tarde_fim:_.edt_sab_tarde_fim.val()},function(i){_.calendario_trabalho_id=i.id,alert_saved(i.nome+" salvo com sucesso"),_.unload()})}),this.btn_excluir.unbind("click"),this.btn_excluir.click(function(){WS.post("calendario_trabalho/excluir",{calendario_trabalho_id:_.calendario_trabalho_id},function(i){alert_saved(i.nome+" excluido com sucesso"),_.unload()})})}});