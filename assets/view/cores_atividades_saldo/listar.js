define([],function(){return function(i){"use strict";var t=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.title="Cores de atividades por % de sald",this.tab_listagem=this.dialog.find(".tab_listagem"),this.btn_novo=this.dialog.find(".btn_novo"),this.btn_listar=this.dialog.find(".btn_listar"),this.listar=function(){var i=t.tab_listagem.find("tbody"),n=i.find("tr:first");t.tab_listagem.find("tr:gt(1)").remove(),WS.get("cores_atividades_saldo/listar/",null,function(a){$(a).each(function(a,s){!function(a){var s=n.clone();s.removeAttr("template-row"),s.css("display",""),$(s.find("[template-field='inicio']")).text(a.inicio?a.inicio:""),$(s.find("[template-field='fim']")).text(a.fim?a.fim:"");var d=$(s.find("[template-field='cor']"));a.cor&&d.append('<span class="badge" style="padding-right: 100px; background: '+a.cor+'">&nbsp;</span>');var o=s.find("[template-field='cor_fonte']");a.cor_fonte&&o.append('<span class="badge" style="padding-right: 100px; background: '+a.cor_fonte+'">&nbsp;</span>');var e=$(s.find(".btn_visualizar"));e.unbind("click"),e.click(function(){View.load("cores_atividades_saldo/detalhes",function(i,t){t.show(a.cores_atividades_saldo_id,FORMULARIO.VISUALIZAR)})});var l=$(s.find(".btn_editar")),c=function(){View.load("cores_atividades_saldo/detalhes",function(i,n){n.onclose=t.listar,n.show(a.cores_atividades_saldo_id,FORMULARIO.EDITAR)})};l.unbind("click"),l.click(c),s.dblclick(c);var r=$(s.find(".btn_excluir"));r.unbind("click"),r.click(function(){View.load("cores_atividades_saldo/detalhes",function(i,n){n.onclose=t.listar,n.show(a.cores_atividades_saldo_id,FORMULARIO.EXCLUIR)})}),s.appendTo(i)}(s)})})},this.btn_novo.unbind("click"),this.btn_novo.click(function(){View.load("cores_atividades_saldo/detalhes",function(i,n){n.onclose=t.listar,n.show(null,FORMULARIO.NOVO)})}),this.btn_listar.unbind("click"),this.btn_listar.click(function(){t.listar()}),this.unload=function(){View.unload(this.html_id)},this.listar()}});