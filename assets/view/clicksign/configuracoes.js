define([],function(){return function(i){"use strict";var t=this;this.html_id=i,this.dialog=$("#"+this.html_id),this.title="Clicksign Assinaturas",this.cbo_api_url=this.dialog.find(".cbo_api_url"),this.edt_access_token=this.dialog.find(".edt_access_token"),this.edt_diretorio=this.dialog.find(".edt_diretorio"),this.lbl_webhook_url_nextbp=this.dialog.find(".lbl_webhook_url_nextbp"),this.edt_hmac_sha256_secret=this.dialog.find(".edt_hmac_sha256_secret"),this.chk_ativo=this.dialog.find(".chk_ativo"),this.btn_salvar=this.dialog.find(".btn_salvar"),this.show=function(){WS.get({route:"clicksign/get_parametros/",data:{},func_response:function(i){t.cbo_api_url.val(i.clicksign_api_url),t.edt_access_token.val(i.clicksign_access_token),t.edt_diretorio.val(i.clicksign_diretorio),t.lbl_webhook_url_nextbp.text(i.clicksign_webhook_url_nextbp),t.edt_hmac_sha256_secret.val(i.clicksign_hmac_sha256_secret),t.chk_ativo.prop("checked","S"===i.clicksign_ativo).change()}})},this.btn_salvar.unbind("click"),this.btn_salvar.click(function(){WS.post({route:"clicksign/salvar_parametros/",data:{clicksign_api_url:t.cbo_api_url.val(),clicksign_access_token:t.edt_access_token.val(),clicksign_diretorio:t.edt_diretorio.val(),clicksign_hmac_sha256_secret:t.edt_hmac_sha256_secret.val(),clicksign_ativo:t.chk_ativo.prop("checked")},func_response:function(i){alert_saved("Configurações salvas com sucesso"),t.unload()}})}),this.unload=function(){View.unload(this.html_id)},this.show()}});