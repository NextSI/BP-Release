(this.webpackJsonpnext_bp=this.webpackJsonpnext_bp||[]).push([[6],{1069:function(e,t,a){},1072:function(e,t,a){e.exports={pivotChart:"ListagemAlocacoes_pivotChart__1Bzge",filtrosData:"ListagemAlocacoes_filtrosData__1yGP_",refreshButton:"ListagemAlocacoes_refreshButton__2wO3Z"}},1073:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(407),f=a(667),h=a(810),m=a(412),v=a(490),b=a.n(v),_=a(491),j=a(483),O=a.n(j),g=a(420);var w=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o,i,s;return Object(n.a)(this,a),(s=t.call(this,e)).state={grupoMotivoChamadoId:null!==(o=e.grupoMotivoChamadoId)&&void 0!==o?o:null,nome:null!==(i=e.nome)&&void 0!==i?i:null,motivosSelecionados:[]},s.chamadoMotivoList=Object(h.b)(),s.obterMotivosSelecionados=s.obterMotivosSelecionados.bind(Object(r.a)(s)),s.motivosOnSelectionChanged=s.motivosOnSelectionChanged.bind(Object(r.a)(s)),s.nomeChange=s.nomeChange.bind(Object(r.a)(s)),s.salvar=s.salvar.bind(Object(r.a)(s)),s.cancelar=s.cancelar.bind(Object(r.a)(s)),s.excluir=s.excluir.bind(Object(r.a)(s)),s}return Object(i.a)(a,[{key:"obterMotivosSelecionados",value:function(){var e=this;this.state.grupoMotivoChamadoId&&Object(f.b)(this.state.grupoMotivoChamadoId,(function(t){return e.setState({nome:t.nome,motivosSelecionados:t.motivos.map((function(e){return e.chamado_motivo_id}))})}))}},{key:"componentDidMount",value:function(){this.obterMotivosSelecionados(),this.setState({chamadoMotivoList:this.chamadoMotivoList})}},{key:"componentWillUnmount",value:function(){this.props.onClose&&this.props.onClose()}},{key:"motivosOnSelectionChanged",value:function(e){this.setState({motivosSelecionados:e.selectedRowKeys})}},{key:"nomeChange",value:function(e){e.value!==this.state.nome&&this.setState({nome:e.value})}},{key:"salvar",value:function(){var e=this;Object(f.e)({grupo_id:this.state.grupoMotivoChamadoId,nome:this.state.nome,motivos:this.state.motivosSelecionados.map((function(e){return{chamado_motivo_id:e}}))},(function(){return m.a.unload(e.props.html_id)}))}},{key:"cancelar",value:function(){m.a.unload(this.props.html_id)}},{key:"excluir",value:function(){var e=this;Object(f.d)(this.state.grupoMotivoChamadoId,(function(){return m.a.unload(e.props.html_id)}))}},{key:"render",value:function(){var e=[Object(o.jsx)(g.a,{width:"100%"})];return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)(b.a,{style:{paddingLeft:"10px",paddingRight:"10px"},children:[Object(o.jsx)(v.Item,{location:"before",children:Object(o.jsx)(_.Button,{onClick:this.salvar,text:"Salvar",icon:"save",stylingMode:"contained",type:"default"})}),Object(o.jsx)(v.Item,{location:"before",children:Object(o.jsx)(_.Button,{onClick:this.cancelar,text:"Cancelar",icon:"remove",stylingMode:"text",type:"normal"})}),Object(o.jsx)(v.Item,{location:"after",children:Object(o.jsx)(_.Button,{onClick:this.excluir,text:"Excluir",icon:"trash",stylingMode:"text",type:"danger",visible:!!this.state.grupoMotivoChamadoId})})]})})}),Object(o.jsxs)("div",{className:"panel panel-default",style:{padding:"10px"},children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)(O.a,{stylingMode:"filled",value:this.state.nome,width:"100%",placeholder:"Nome do Grupo de Motivos",onValueChanged:this.nomeChange})})})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-12",children:[Object(o.jsx)("div",{children:"Selecione abaixo os motivos que fazem parte deste grupo"}),Object(o.jsx)(p.default,{style:{height:"calc(100vh - 195px)"},dataSource:this.state.chamadoMotivoList,selectedRowKeys:this.state.motivosSelecionados,onSelectionChanged:this.motivosOnSelectionChanged,selection:{mode:"multiple",selectAllMode:"allPages",showCheckBoxesMode:"always"},filterPanel:{visible:!1},groupPanel:{visible:!1},export:{enabled:!1},columnChooser:{enabled:!1},paging:{enabled:!1},children:e})]})})]})]})}}]),a}(u.a.Component);w.defaultProps={abaTitulo:"Grupo de Motivos",grupoMotivoChamadoId:null},t.default=w},1074:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(365),r=a(366),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(407),f=a(609),h=a(864),m=a(420);var v=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=function(){var e=Object(n.a)(h.a);return e.splice(2,0,Object(o.jsx)(m.a,{})),e}();return Object(o.jsx)(u.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(p.default,{style:{height:"calc(100vh - 46px)"},stateStoring:Object(p.stateStoring)("listagem_agenda_contatos"),dataSource:Object(f.a)(!1),selection:{mode:"multiple"},children:e})})})})}}]),a}(u.a.Component);v.defaultProps={abaTitulo:"Agenda de Contatos"},t.default=v},1075:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(390),m=a(814),v=a(815),b=a(444),_=a(454);var j=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o.dataGrid=null,o}return Object(r.a)(a,[{key:"onToolbarPreparing",value:function(e){this.dataGrid=e.component;var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Classifica\xe7\xe3o de Chamado",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=e.component.getController("editing").getChanges();Object(m.b)(a,(function(t){e.component.saveEditData()}))})}}},{key:"render",value:function(){var e=this,t=[].concat(Object(n.a)(v.a),[Object(o.jsxs)(h.Column,{type:"buttons",width:110,children:[Object(o.jsx)(b.a,{visible:function(e){return!e.row.removed&&!e.row.data.padrao},onClick:function(t){e.dataGrid.deleteRow(t.row.rowIndex)}}),Object(o.jsx)(_.a,{visible:function(e){return e.row.removed},onClick:function(t){e.dataGrid.undeleteRow(t.row.rowIndex),t.event.preventDefault()}})]})]);return Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},stateStoring:Object(f.stateStoring)("DataGridChamadoClassificacao"),onToolbarPreparing:this.onToolbarPreparing,dataSource:Object(m.a)({dx_grid:!0}),editing:{mode:"batch",allowUpdating:!0,allowAdding:!1,allowDeleting:!0},children:t})})})})}}]),a}(p.a.Component);j.defaultProps={abaTitulo:"Classifica\xe7\xe3o"},t.default=j},1076:function(e,t,a){e.exports={kanbanList:"Kanban_kanbanList__1ptgn"}},1077:function(e,t,a){},1078:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(390),m=a(834),v=a(835),b=a(444),_=a(454);var j=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o.dataGrid=null,o}return Object(r.a)(a,[{key:"onToolbarPreparing",value:function(e){this.dataGrid=e.component;var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Classifica\xe7\xe3o de Chamado",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=e.component.getController("editing").getChanges();Object(m.a)(a,(function(t){e.component.saveEditData()}))})}}},{key:"render",value:function(){var e=this,t=[].concat(Object(n.a)(v.a),[Object(o.jsxs)(h.Column,{type:"buttons",width:110,children:[Object(o.jsx)(b.a,{visible:function(e){return!e.row.removed&&!e.row.data.padrao},onClick:function(t){e.dataGrid.deleteRow(t.row.rowIndex)}}),Object(o.jsx)(_.a,{visible:function(e){return e.row.removed},onClick:function(t){e.dataGrid.undeleteRow(t.row.rowIndex),t.event.preventDefault()}})]},"buttons")]);return Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},stateStoring:Object(f.stateStoring)("DataGridTipoMoeda"),onToolbarPreparing:this.onToolbarPreparing,dataSource:Object(m.b)({dx_grid:!0}),editing:{mode:"batch",allowUpdating:!0,allowAdding:!1,allowDeleting:!0},children:t})})})})}}]),a}(p.a.Component);j.defaultProps={abaTitulo:"Tipo de Moeda"},t.default=j},1079:function(e,t,a){e.exports={container:"Cockpit_container__1CzsS",containerCentralPendencias:"Cockpit_containerCentralPendencias__PmkYt"}},1080:function(e,t,a){e.exports={container:"cardCockpit_container__1mZsK",card:"cardCockpit_card__g32t9",topoTitulo:"cardCockpit_topoTitulo__pNIRR",button:"cardCockpit_button__3Tilp",cardCorpo:"cardCockpit_cardCorpo__2UTNh",qtdEmAtraso:"cardCockpit_qtdEmAtraso__1inW1",cardRodape:"cardCockpit_cardRodape__2nk13",totalSection:"cardCockpit_totalSection__g9k8V",totalIndicator:"cardCockpit_totalIndicator__31ocR"}},1081:function(e,t,a){e.exports={progress:"ProjetoGantt_progress__4p3o5",progressBar:"ProjetoGantt_progressBar__sqB7P",progressBarText:"ProjetoGantt_progressBarText__rXevr"}},1082:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var o=a(386),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(432),u=a(610);var p=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).displayExpr=function(e){return i.props.limparAoAlterar?"":e?e.nome:""},i.state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i.displayExpr=i.displayExpr.bind(Object(r.a)(i)),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,dropDownContainer:null!==(t=this.props.dropDownContainer)&&void 0!==t?t:void 0,displayExpr:this.displayExpr}}},{key:"componentDidUpdate",value:function(e,t){e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(d.default);p.defaultProps={placeholder:"Pesquisar por nome",aoAlterar:null,dataSource:Object(u.c)({equipe_interna:!0,clientes:!0,fornecedores:!0,prospects:!0,dx_grid:!0}),limparAoAlterar:!1,columns:u.d}},1083:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(105),d=a(412),u=a(383),p=a.n(u),f=a(407),h=a(390),m=a(822),v=a(670);var b=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o,i,r;return Object(n.a)(this,a),(r=t.call(this,e)).state={projetoId:null!==(o=e.projetoId)&&void 0!==o?o:null,atividadeProjetoId:null!==(i=e.atividadeProjetoId)&&void 0!==i?i:null,arrDatasource:e.arrDatasource},r}return Object(i.a)(a,[{key:"handleAcessarRegistro",value:function(e){switch(e.tabela){case"projeto_atividade":d.a.load("atividade_projeto/detalhes",(function(t,a){a.onclose=function(){},a.show({projeto_atividade_id:e.tabela_id,tipo:window.FORMULARIO.EDITAR})}),d.a.ABA.MULTIPLAS);break;case"apontamento_projeto":d.a.load("apontamento_projeto/detalhes",(function(t,a){a.onclose=function(){},a.show(e.tabela_id,window.FORMULARIO.EDITAR)}),d.a.ABA.MULTIPLAS);break;case"apontamento_despesa":d.a.load("apontamento_despesas/detalhes",(function(t,a){a.onclose=function(){},a.show(window.FORMULARIO.EDITAR,e.tabela_id)}),d.a.ABA.MULTIPLAS)}}},{key:"render",value:function(){var e=this,t=function(e){return!(+e.row.data.tipo===window.MOVIMENTACAO_FINANCEIRA.HORAS_ALOCADAS||+e.row.data.tipo===window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_HORAS||+e.row.data.tipo===window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_DESPESAS)};return Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 173px)"},dataSource:this.state.arrDatasource,remoteOperations:!1,columns:[{dataField:"tipo",placeholder:l.a.lang.combobox.selecione,lookup:{dataSource:[{id:"1",descricao:"Entrada Manual"},{id:"2",descricao:"Sa\xedda Manual"},{id:"3",descricao:"Horas Alocadas"},{id:"4",descricao:"Apontamento de Horas"},{id:"5",descricao:"Apontamento de Despesas"}],displayExpr:"descricao",valueExpr:"id"}},{dataField:"descricao"},{dataField:"valor_previsto",dataType:"number",format:{type:"currency",precision:2},editorOptions:{format:"R$ #,##0.##",showClearButton:!0}},{dataField:"valor_realizado",dataType:"number",format:{type:"currency",precision:2},editorOptions:{format:"R$ #,##0.##",showClearButton:!0}},{dataField:"data_prevista",dataType:"date"},{dataField:"data_realizado",dataType:"date"},{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[{hint:"Acessar registro",icon:"fa fa-external-link-square-alt",onClick:function(t){e.handleAcessarRegistro(t.row.data)},visible:function(e){return e.row.data.tabela_id>0}},{hint:"Excluir",icon:"trash",visible:function(e){return 0===+e.row.data.tabela_id&&!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}},{hint:"Recuperar",icon:"revert",visible:function(e){return 0===+e.row.data.tabela_id&&e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}}]}],onInitNewRow:function(e){e.data.tabela=null,e.data.tabela_id=null},onInitialized:function(t){e.props.instanceMovimentacaoFinanceira(t.component)},onEditorPreparing:function(e){if("dataRow"===e.parentType){var t=!(+e.row.data.tipo===window.MOVIMENTACAO_FINANCEIRA.HORAS_ALOCADAS||+e.row.data.tipo===window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_HORAS||+e.row.data.tipo===window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_DESPESAS);"tipo"===e.dataField&&t&&(e.editorOptions.dataSource={store:{type:"array",data:[{id:"1",descricao:"Entrada Manual"},{id:"2",descricao:"Sa\xedda Manual"}]}})}},onToolbarPreparing:function(t){var a=[{widget:"dxButton",options:{icon:"fa fa-plus",hint:"Adicionar uma movimenta\xe7\xe3o financeira",text:"Adicionar uma movimenta\xe7\xe3o financeira",onClick:function(){t.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){+e.props.projetoId>0?Object(m.a)(e.props.projetoId).then((function(t){e.setState({arrDatasource:t})})):+e.props.atividadeProjetoId>0&&Object(v.a)(e.props.atividadeProjetoId).then((function(t){e.setState({arrDatasource:t})}))}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto",visible:+e.props.projetoId>0||+e.props.atividadeProjetoId>0}];t.toolbarOptions.items=window.add_botao_dx_toolbar(a,t.toolbarOptions.items);for(var o=0;o<t.toolbarOptions.items.length;o++){var n=t.toolbarOptions.items[o];"saveButton"===n.name&&(n.visible=!1)}},summary:{totalItems:[{name:"entrada_valor_previsto",showInColumn:"valor_previsto",summaryType:"custom",valueFormat:"currency",customizeText:function(e){return"Entrada: "+window.numberToReal(parseFloat(e.value.toString().replace(",",".")))}},{name:"saida_valor_previsto",showInColumn:"valor_previsto",summaryType:"custom",valueFormat:"currency",customizeText:function(e){return"Sa\xedda: "+window.numberToReal(parseFloat(e.value.toString().replace(",",".")))}},{name:"saldo_valor_previsto",showInColumn:"valor_previsto",summaryType:"custom",valueFormat:"currency",customizeText:function(e){return"Saldo: "+window.numberToReal(parseFloat(e.value.toString().replace(",",".")))}},{name:"entrada_valor_realizado",showInColumn:"valor_realizado",summaryType:"custom",valueFormat:"currency",customizeText:function(e){return"Entrada: "+window.numberToReal(parseFloat(e.value.toString().replace(",",".")))}},{name:"saida_valor_realizado",showInColumn:"valor_realizado",summaryType:"custom",valueFormat:"currency",customizeText:function(e){return"Sa\xedda: "+window.numberToReal(parseFloat(e.value.toString().replace(",",".")))}},{name:"saldo_valor_realizado",showInColumn:"valor_realizado",summaryType:"custom",valueFormat:"currency",customizeText:function(e){return"Saldo: "+window.numberToReal(parseFloat(e.value.toString().replace(",",".")))}}],calculateCustomSummary:function(e){"entrada_valor_previsto"===e.name&&("start"===e.summaryProcess&&(e.totalValue=0),"calculate"===e.summaryProcess&&+e.value.tipo===window.MOVIMENTACAO_FINANCEIRA.ENTRADA_MANUAL&&(e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)+(e.value.valor_previsto?parseFloat(e.value.valor_previsto):0)).toString().replace(".",","))),"saida_valor_previsto"===e.name&&("start"===e.summaryProcess&&(e.totalValue=0),"calculate"===e.summaryProcess&&(+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.SAIDA_MANUAL&&+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.HORAS_ALOCADAS&&+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_HORAS&&+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_DESPESAS||(e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)+(e.value.valor_previsto?parseFloat(e.value.valor_previsto):0)).toString().replace(".",",")))),"saldo_valor_previsto"===e.name&&("start"===e.summaryProcess&&(e.totalValue=0),"calculate"===e.summaryProcess&&(+e.value.tipo===window.MOVIMENTACAO_FINANCEIRA.ENTRADA_MANUAL?e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)+(e.value.valor_previsto?parseFloat(e.value.valor_previsto):0)).toString().replace(".",","):e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)-(e.value.valor_previsto?parseFloat(e.value.valor_previsto):0)).toString().replace(".",","))),"entrada_valor_realizado"===e.name&&("start"===e.summaryProcess&&(e.totalValue=0),"calculate"===e.summaryProcess&&+e.value.tipo===window.MOVIMENTACAO_FINANCEIRA.ENTRADA_MANUAL&&(e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)+(e.value.valor_realizado?parseFloat(e.value.valor_realizado):0)).toString().replace(".",","))),"saida_valor_realizado"===e.name&&("start"===e.summaryProcess&&(e.totalValue=0),"calculate"===e.summaryProcess&&(+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.SAIDA_MANUAL&&+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.HORAS_ALOCADAS&&+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_HORAS&&+e.value.tipo!==window.MOVIMENTACAO_FINANCEIRA.APONTAMENTO_DESPESAS||(e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)+(e.value.valor_realizado?parseFloat(e.value.valor_realizado):0)).toString().replace(".",",")))),"saldo_valor_realizado"===e.name&&("start"===e.summaryProcess&&(e.totalValue=0),"calculate"===e.summaryProcess&&(+e.value.tipo===window.MOVIMENTACAO_FINANCEIRA.ENTRADA_MANUAL?e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)+(e.value.valor_realizado?parseFloat(e.value.valor_realizado):0)).toString().replace(".",","):e.totalValue=(parseFloat(e.totalValue?e.totalValue.replace(",","."):0)-(e.value.valor_realizado?parseFloat(e.value.valor_realizado):0)).toString().replace(".",",")))}},children:Object(o.jsx)(h.Editing,{mode:"batch",allowUpdating:t,allowDeleting:t,useIcons:!0})})})})})}}]),a}(p.a.Component);b.defaultProps={arrDatasource:[]},t.default=b},1084:function(e,t,a){e.exports={container:"Favoritos_container__3BPoj",loadingIndicator:"Favoritos_loadingIndicator__12IOd"}},1139:function(e,t,a){},1140:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(882),f=a(881);var h=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var i,s;return Object(n.a)(this,a),(s=t.call(this,e)).state={componente:null!==(i=e.componente)&&void 0!==i?i:window.HOME_DRAWER_RIGHT_COMPONENTES.NOTAS},s.favoritos=Object(o.jsx)(f.default,{}),s.cardNotas=Object(o.jsx)(p.default,{}),s.alterarOpcoes=s.alterarOpcoes.bind(Object(r.a)(s)),e.callbackAlterarOpcoes&&e.callbackAlterarOpcoes(s.alterarOpcoes),s}return Object(i.a)(a,[{key:"alterarOpcoes",value:function(e){this.setState({componente:e})}},{key:"render",value:function(){switch(this.state.componente){case window.HOME_DRAWER_RIGHT_COMPONENTES.FAVORITOS:return this.favoritos;case window.HOME_DRAWER_RIGHT_COMPONENTES.NOTAS:return this.cardNotas;default:return Object(o.jsx)(u.a.Fragment,{})}}}]),a}(u.a.Component);h.defaultProps={componente:window.HOME_DRAWER_RIGHT_COMPONENTES.NOTAS}},1141:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(432),d=a(834),u=a(835);var p=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e;return{selecionado:this.props.selecionado?[this.props.selecionado.toString()]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(l.default);p.defaultProps={aoAlterar:null,dataSource:Object(d.b)(),displayExpr:function(e){return e&&e.nome},children:u.a}},1142:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var o=a(373),n=a(434),i=a.n(n),r=a(435),s=a(365),c=a(366),l=a(387),d=a(368),u=a(369),p=a(367),f=a(383),h=a.n(f),m=a(845),v=a(483),b=a.n(v);var _="00.000.000/0000-00",j="000.000.000-00",O="",g=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).ajustarMascara=function(e){11===(e.component.option("value")||"").toString().length&&14===e.component.element().find(".dx-texteditor-input")[0].selectionStart&&1===e.event.originalEvent.key.length&&parseInt(e.event.originalEvent.key)<=9&&o.setState({mask:_})},o.state={mask:e.valor&&e.valor.length>11?_:j,valor:e.valor},o.fnConsultarCNPJ=o.fnConsultarCNPJ.bind(Object(l.a)(o)),o.ajustarMascara=o.ajustarMascara.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(o.jsx)(b.a,{valueChangeEvent:"keyup change",onValueChanged:this.fnConsultarCNPJ,placeholder:this.props.placeholder,onKeyDown:this.ajustarMascara,onPaste:function(){var t=Object(r.a)(i.a.mark((function t(a){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O=(O=a.event.originalEvent.clipboardData.getData("Text")).replace(/[^\d]/g,""),e.setState({valor:O,mask:O.length<=11?j:_}),!e.props.aoAlterar||14!==O.length){t.next=9;break}return t.next=6,Object(m.consultarCNPJ)(O);case 6:o=t.sent,e.props.aoAlterar(O,o),O="";case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),mask:this.state.mask,value:this.state.valor})}},{key:"fnConsultarCNPJ",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({valor:t.value,mask:t.value.length<=11?j:_}),!this.props.aoAlterar||14!==t.value.length||!(t.event&&t.event.originalEvent&&t.event.originalEvent.key&&1===t.event.originalEvent.key.length&&parseInt(t.event.originalEvent.key)<9||O&&14===O.length)){e.next=7;break}return O="",e.next=5,Object(m.consultarCNPJ)(t.value);case 5:a=e.sent,this.props.aoAlterar(t.value,a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(h.a.Component);g.defaultProps={placeholder:"CPF/CNPJ",aoAlterar:null}},1143:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(390),f=a.n(p);var h=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).getKey=o.getKey.bind(Object(r.a)(o)),o.onContentReady=o.onContentReady.bind(Object(r.a)(o)),o.keyCount=0,o.dataGridRef=u.a.createRef(),o}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)(u.a.Fragment,{children:Object(o.jsx)(f.a,{ref:this.dataGridRef,dataSource:[],editing:{mode:"cell",allowAdding:!0,allowUpdating:!0,allowDeleting:!0},showBorders:!0,paging:{enabled:!1},onContentReady:this.onContentReady,children:Object(o.jsx)(p.Column,{dataField:"email",caption:"E-mails dos respons\xe1veis",dataType:"string",validationRules:[{type:"email"}],fixed:!0,fixedPosition:"left"},"coluna_email")},this.getKey())})}},{key:"getKey",value:function(){return this.keyCount++}},{key:"onContentReady",value:function(e){"function"===typeof this.props.getDataGridRef&&this.props.getDataGridRef(e)}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(u.a.Component)},1144:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));var o=a(365),n=a(368),i=a(369),r=a(367),s=(a(383),a(432)),c=a(831);var l=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return a}(s.default);l.defaultProps={dataSource:Object(c.a)(),displayExpr:"nome",valueExpr:"categoria_pdca_id"}},1145:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(390),p=a.n(u),f=a(483),h=a.n(f),m=a(541),v=a.n(m),b=a(490),_=a(676);a(846);var j=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o,i,r,s,c,l;return Object(n.a)(this,a),(l=t.call(this,e)).state={votacao_id:null!==(o=e.votacao_id)&&void 0!==o?o:null,pergunta:null!==(i=e.pergunta)&&void 0!==i?i:"",expiracao:null!==(r=e.expiracao)&&void 0!==r?r:window.AddDays(new Date,1),voto_secreto:null===(s=e.voto_secreto)||void 0===s||s,opcoes:null!==(c=e.opcoes)&&void 0!==c?c:[{},{}]},l}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this;return this.props.aoAlterar&&this.props.aoAlterar(this.state),Object(o.jsxs)(d.a.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12 form-group",children:[Object(o.jsx)("div",{children:"Pergunta:"}),Object(o.jsx)(h.a,{defaultValue:"",onValueChange:function(e){return t.setState({pergunta:e})}})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12 form-group",children:[Object(o.jsx)("div",{children:"Data de Expira\xe7\xe3o:"}),Object(o.jsx)(v.a,{value:this.state.expiracao,type:"datetime",useMaskBehavior:!0,stylingMode:"filled",onValueChange:function(e){return t.setState({expiracao:e})},readOnly:!1})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12 form-group",style:{display:"flex",justifyContent:"flex-start"},children:[Object(o.jsx)(_.Switch,{defaultValue:null===(e=this.props.voto_secreto)||void 0===e||e,onValueChange:function(e){return t.setState({voto_secreto:e})},style:{marginRight:"5px"}}),Object(o.jsx)("label",{children:"Voto secreto"})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-xs-12 form-group",children:Object(o.jsxs)(p.a,{id:"gridContainer",dataSource:this.state.opcoes,showBorders:!0,showColumnHeaders:!1,noDataText:"Nenhuma op\xe7\xe3o para vota\xe7\xe3o.",showEditorAlways:!0,onEditorPreparing:function(e){"dataRow"==e.parentType&&"opcao"==e.dataField&&(e.editorOptions.placeholder="Informe aqui uma op\xe7\xe3o")},onRowInserted:function(e){return t.props.aoAlterar?t.props.aoAlterar(t.state):null},onRowUpdated:function(e){return t.props.aoAlterar?t.props.aoAlterar(t.state):null},onRowRemoved:function(e){return t.props.aoAlterar?t.props.aoAlterar(t.state):null},children:[Object(o.jsx)(u.Editing,{mode:"cell",allowUpdating:!0,allowAdding:!0,allowDeleting:!0}),Object(o.jsx)(u.Column,{dataField:"opcao",caption:"Op\xe7\xf5es",width:"100%",showEditorAlways:!0}),Object(o.jsxs)(u.Toolbar,{children:[Object(o.jsx)(b.Item,{location:"before",locateInMenu:"never"}),Object(o.jsx)(b.Item,{location:"after",name:"addRowButton",showText:!0,options:{text:"Adicionar Op\xe7\xe3o"}})]})]})})})]})}}]),a}(d.a.Component);j.defaultProps={}},1146:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(390),f=a.n(p),h=a(846),m=a(607),v=a.n(m),b=a(671),_=a(542),j=a.n(_),O=a(526);var g=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o,i,s,c,l,d;return Object(n.a)(this,a),(d=t.call(this,e)).callbackResultado=function(e){var t;d.setState({dataSource:e.resultado,usuario_votacao_opcao_id:e.usuario_votacao_opcao_id,encerrada:e.encerrada,dataSourceHistorico:null!==(t=e.votos)&&void 0!==t?t:[]})},d.callbackAoFalhar=function(e){d.carregarDados()},d.state={votacao_id:null!==(o=e.votacao_id)&&void 0!==o?o:null,pergunta:null!==(i=e.pergunta)&&void 0!==i?i:"",expiracao:null!==(s=e.expiracao)&&void 0!==s?s:"",encerrada:d.estaEncerrada(e.expiracao),voto_secreto:null===(c=e.voto_secreto)||void 0===c||c,opcoes:null!==(l=e.opcoes)&&void 0!==l?l:[],dataSource:[],dataSourceHistorico:[],usuario_votacao_opcao_id:null,popup_votos_visivel:!1},d.callbackResultado=d.callbackResultado.bind(Object(r.a)(d)),d.callbackAoFalhar=d.callbackAoFalhar.bind(Object(r.a)(d)),d.carregarDados=d.carregarDados.bind(Object(r.a)(d)),d.onSelectionChanged=d.onSelectionChanged.bind(Object(r.a)(d)),d.renderExpiracao=d.renderExpiracao.bind(Object(r.a)(d)),d.hideInfo=d.hideInfo.bind(Object(r.a)(d)),d}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.carregarDados(),this.timer=setInterval((function(){e.state.encerrada!==e.estaEncerrada(e.state.expiracao)&&e.carregarDados()}),3e4)}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"carregarDados",value:function(){Object(h.a)(this.state.votacao_id,this.callbackResultado,this.callbackAoFalhar)}},{key:"estaEncerrada",value:function(e){return!!e&&new Date(e)<=new Date}},{key:"onSelectionChanged",value:function(e){var t=this,a=e.selectedRowsData[0];a&&a.votacao_opcao_id&&a.votacao_opcao_id!=this.state.usuario_votacao_opcao_id&&this.setState({usuario_votacao_opcao_id:a.votacao_opcao_id},(function(){Object(h.b)(t.state.votacao_id,a.votacao_opcao_id,t.callbackResultado,t.callbackAoFalhar)}))}},{key:"renderExpiracao",value:function(){return this.state.expiracao?this.state.encerrada?Object(o.jsx)("div",{className:"row small text-muted",children:Object(o.jsx)("div",{className:"col-xs-12",children:Object(o.jsxs)("div",{title:this.state.expiracao?this.state.expiracao.format_date_time():"",children:["Vota\xe7\xe3o encerrada ",v()(this.state.expiracao).fromNow()]})})}):Object(o.jsx)("div",{className:"row small text-muted",children:Object(o.jsx)("div",{className:"col-xs-12",children:Object(o.jsxs)("div",{children:["Esta vota\xe7\xe3o expira ",v()(this.state.expiracao).fromNow()]})})}):null}},{key:"renderHistorico",value:function(){var e=this;if(!this.state.voto_secreto)return Object(o.jsxs)("div",{className:"row small text-muted",children:[Object(o.jsx)("div",{className:"col-xs-12",children:Object(o.jsx)("a",{onClick:function(t){return e.setState({popup_votos_visivel:!0})},href:"#!",children:"Hist\xf3rico de votos"})}),Object(o.jsx)(b.Popup,{visible:this.state.popup_votos_visivel,onHiding:this.hideInfo,dragEnabled:!1,hideOnOutsideClick:!0,showCloseButton:!0,showTitle:!0,title:"Hist\xf3rico de Votos",container:"body",minWidth:400,minHeight:400,resizeEnabled:!0,children:Object(o.jsx)(j.a,{width:"100%",height:"100%",children:Object(o.jsxs)(f.a,{id:"gridContainer",dataSource:this.state.dataSourceHistorico,showBorders:!1,showColumnHeaders:!0,noDataText:"Nenhum voto realizado",wordWrapEnabled:!1,children:[Object(o.jsx)(p.GroupPanel,{visible:!0}),Object(o.jsx)(p.FilterRow,{visible:!0}),Object(o.jsx)(p.FilterPanel,{visible:!0}),Object(o.jsx)(p.HeaderFilter,{visible:!0}),Object(o.jsx)(p.Editing,{mode:"cell",allowUpdating:!1,allowAdding:!1,allowDeleting:!1}),Object(o.jsx)(p.Export,{enabled:!0,allowExportSelectedData:!1}),Object(o.jsx)(O.a,{dataField:"hora",width:150}),Object(o.jsx)(p.Column,{dataField:"usuario_nome"}),Object(o.jsx)(p.Column,{dataField:"opcao",width:150})]})})})]})}},{key:"hideInfo",value:function(){this.setState({popup_votos_visivel:!1})}},{key:"render",value:function(){return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-xs-12",children:this.state.pergunta})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-xs-12",children:Object(o.jsxs)(f.a,{id:"gridContainer",dataSource:this.state.dataSource,showBorders:!0,showColumnHeaders:!1,noDataText:"",keyExpr:"votacao_opcao_id",selectedRowKeys:this.state.usuario_votacao_opcao_id?[this.state.usuario_votacao_opcao_id]:null,onSelectionChanged:this.state.encerrada?null:this.onSelectionChanged,wordWrapEnabled:!0,allowColumnResizing:!0,children:[Object(o.jsx)(p.Editing,{mode:"cell",allowUpdating:!1,allowAdding:!1,allowDeleting:!1}),Object(o.jsx)(p.Selection,{mode:"single"}),Object(o.jsx)(p.Column,{dataField:"opcao"}),Object(o.jsx)(p.Column,{dataField:"votos",width:"55px",alignment:"right"})]})})}),this.renderExpiracao(),this.renderHistorico()]})}}]),a}(u.a.Component);g.defaultProps={}},1149:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(392),v=a(405),b=a(420),_=a(824),j=a(390);var O=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);O.defaultProps={dataField:"nivel",caption:"N\xedvel"};var g=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);g.defaultProps={dataField:"bloqueado",caption:"Bloqueado"};var w=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);w.defaultProps={caption:"Previs\xe3o de Retorno",dataField:"previsao_retorno",calculateCellValue:function(e){var t=e.tipo_gestao_tempo;return+t===window.CHAMADO_MOTIVO_TEMPO.DIAS_CORRIDOS?e.dias:+t===window.CHAMADO_MOTIVO_TEMPO.HORAS_UTEIS?e.horas_uteis:void 0}};var x=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);x.defaultProps={dataField:"tipo_previsao_retorno",caption:"Tipo Previs\xe3o Retorno",calculateCellValue:function(e){return window.tipo_gestao_tempo(e.tipo_gestao_tempo)}};var y=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);y.defaultProps={dataField:"encerramento_inatividade",caption:"Tempo Encerramento Inatividade",calculateCellValue:function(e){var t=e.tipo_gestao_tempo_encerramento;return+t===window.CHAMADO_MOTIVO_TEMPO.DIAS_CORRIDOS?e.dias_encerramento:+t===window.CHAMADO_MOTIVO_TEMPO.HORAS_UTEIS?e.horas_uteis_encerramento:void 0}};var A=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);A.defaultProps={dataField:"tipo_encerramento_inatividade",caption:"Tipo Encerramento Inatividade",calculateCellValue:function(e){return window.tipo_gestao_tempo(e.tipo_gestao_tempo_encerramento)}};var S=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);S.defaultProps={dataField:"tempo_resolucao_atendimento",caption:"Tempo Resolu\xe7\xe3o Atendimento",calculateCellValue:function(e){return e.horas_uteis_resolucao_atendimento}};var C=[Object(o.jsx)(b.a,{width:""}),Object(o.jsx)(_.a,{width:180,disabled:!0,dropDownButtonTemplate:""}),Object(o.jsx)(O,{}),Object(o.jsx)(g,{}),Object(o.jsx)(w,{dataField:"",visible:!1}),Object(o.jsx)(x,{dataField:"",visible:!1}),Object(o.jsx)(A,{dataField:"",visible:!1}),Object(o.jsx)(y,{dataField:"",visible:!1}),Object(o.jsx)(S,{dataField:"",visible:!1})],R=a(444),I=a(825),T=a(470);var k=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Motivo de Chamado",text:"Adicionar",onClick:function(){window.View.load("motivos_chamados/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)}},location:"after",name:"BtnNovoMotivoChamado",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){this.listarMotivoChamado=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"preferences",hint:"Configura\xe7\xf5es",text:"Configura\xe7\xf5es",onClick:function(){window.View.load("motivos_chamados/configuracao",(function(e,t){t.onclose=function(){},t.show()}))},visible:window.App.sessao.dados.admin},showText:"inMenu",location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){var e,t=[].concat(Object(n.a)(C),[Object(o.jsxs)(j.Column,{type:"buttons",children:[Object(o.jsx)(T.a,{onClick:function(e){window.View.load("motivos_chamados/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.chamado_motivo_id,window.FORMULARIO.EDITAR)}))}}),Object(o.jsx)(I.a,{onClick:function(e){window.View.load("motivos_chamados/detalhes",(function(t,a){a.show(e.row.data.chamado_motivo_id,window.FORMULARIO.VISUALIZAR)}))}}),Object(o.jsx)(R.a,{onClick:function(e){window.View.load("motivos_chamados/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.chamado_motivo_id,window.FORMULARIO.EXCLUIR)}))}})]})]);return Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},onToolbarPreparing:this.onToolbarPreparing,dataSource:(e={dx_grid:!0},new v.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"chamado_motivo_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){m.a.get({route:"chamado_motivo/listar/",data:Object(h.a)(Object(h.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(h.a)(Object(h.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){m.a.get({route:"chamado_motivo/listar/",data:{dx_grid:!0,chamado_motivo_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),stateStoring:Object(f.stateStoring)("listarMotivoChamado"),children:t})})})})}}]),a}(p.a.Component);k.defaultProps={abaTitulo:"Motivos"};t.default=k},1150:function(e,t,a){"use strict";a.r(t);var o=a(386),n=a(434),i=a.n(n),r=a(435),s=a(365),c=a(366),l=a(387),d=a(368),u=a(369),p=a(367),f=a(373),h=a(383),m=a.n(h),v=a(836),b=a.n(v),_=a(392),j=a(405),O=a(105),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;return new j.default({load:function(){var o=Object(r.a)(i.a.mark((function o(n){var r,s,c,l,d,u,p;return i.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=n.filter[0][0][0][2],s=n.filter[0][0][1][2],c=window.formatDate(n.filter[0][0][0][2],!0),r.getMonth()!=s.getMonth()&&n.filter[0][0][1][2].setDate(n.filter[0][0][1][2].getDate()-1),l=window.formatDate(n.filter[0][0][1][2],!0),O.a.temp.agenda_data_inicio==c||O.a.temp.agenda_data_fim==l){o.next=14;break}return O.a.temp.agenda_data_inicio=c,O.a.temp.agenda_data_fim=l,a.schedulerRef.current._instance._dataSource.reload(),d=new Date,r.getMonth()!=d.getMonth()?a.schedulerRef.current._instance.scrollTo(r):a.schedulerRef.current._instance.scrollTo(d),o.abrupt("return",[]);case 14:return O.a.temp.agenda_data_inicio=c,O.a.temp.agenda_data_fim=l,o.next=18,_.a.post("agenda_evento/agenda_calendario/",{devextreme:!0,data_inicio:c,data_fim:l,tipo_agenda:2,qtd_dias:window.dateDiff(l,c,!0),usuarios_id:JSON.stringify(e),ativos_id:JSON.stringify(t)},null,null,null,null,null,null,null,null,!0);case 18:for(u=o.sent,p=0;p<u.data.length;p++)u.data[p].startDate=new Date(u.data[p].startDate),u.data[p].endDate=new Date(u.data[p].endDate);return o.abrupt("return",u);case 21:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()})},w=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("tipo_agenda/listar/",null,null,null,null,null,null,null,null,!0);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=a(412),y=a(878),A=a(674),S=function(){return new j.default({paginate:!1,key:"id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(a,n){_.a.get({route:"grupo_ativos/listar/",data:Object(o.a)({nome:e.searchValue,dx_list:!0},t),func_response:function(e){a({data:e,key:"id"})},func_fail:function(e){e.validation&&n(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})};var C=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=Object(o.a)(Object(o.a)({},n.state),n.propsToObjState()),n}return Object(c.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o;return{selecionado:this.props.selecionado?this.props.selecionado:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,dataSource:S(),instanceSelecaoPadraoTagBox:null!==(t=this.props.instanceSelecaoGruposAtivos)&&void 0!==t?t:null,aoAlterar:null!==(a=this.props.aoAlterar)&&void 0!==a?a:null,elementAttr:null!==(o=this.props.elementAttr)&&void 0!==o?o:null}}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(e.selecionado)===JSON.stringify(this.props.selecionado)&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(A.a);C.defaultProps={placeholder:"Filtro por grupos de ativos",dataSource:S(),displayExpr:"nome",valueExpr:"id"};var R=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=Object(o.a)(Object(o.a)({},n.state),n.propsToObjState()),n}return Object(c.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i;return{selecionado:this.props.selecionado?this.props.selecionado:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,items:null!==(t=this.props.items)&&void 0!==t?t:[],instanceSelecaoPadraoTagBox:null!==(a=this.props.instanceSelecaoGruposAtivos)&&void 0!==a?a:null,aoAlterar:null!==(o=this.props.aoAlterar)&&void 0!==o?o:null,elementAttr:null!==(n=this.props.elementAttr)&&void 0!==n?n:null,maxDisplayedTags:null!==(i=this.props.maxDisplayedTags)&&void 0!==i?i:void 0}}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(e.selecionado)===JSON.stringify(this.props.selecionado)&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(A.a);R.defaultProps={placeholder:"Filtro por ativos",displayExpr:"nome",valueExpr:"id"};var I=a(541),T=a.n(I),k=a(63),P=a.n(k);var D=!1,E=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var o;return Object(s.a)(this,a),o=t.call(this,e),D=o.props.hoursOnly,o}return a}(T.a);E.defaultProps={type:"datetime",displayFormat:"HH:mm",onOpened:function(e){var t=e.component._popup._$content;P()(t.find("div.dx-box-item")[0]).addClass("hidden"),P()(t.find(".dx-button-today")[0]).closest(".dx-toolbar-before").addClass("hidden"),D&&(P()(t.find(".dx-texteditor-input")[1]).val("00").prop("disabled",!0).trigger("change"),P()(t.find(".dx-texteditor-input")[1]).closest(".dx-texteditor-container").find(".dx-texteditor-buttons-container").addClass("hidden"),P()(t.find(".dx-texteditor-input")[1]).css("padding-left","26px"))},onClosed:function(e){var t=e.component._popup._$content;P()(t.find("div.dx-box-item")[0]).removeClass("hidden"),P()(t.find(".dx-button-today")[0]).closest(".dx-toolbar-before").removeClass("hidden"),D&&(P()(t.find(".dx-texteditor-input")[1]).prop("disabled",!1),P()(t.find(".dx-texteditor-input")[1]).closest(".dx-texteditor-container").find(".dx-texteditor-buttons-container").removeClass("hidden"),P()(t.find(".dx-texteditor-input")[1]).css("padding-left",""))}};var M=a(611),N=a(837),F=a.n(N),L=a(452),U=a(613),B=a.n(U),z=a(675),V=a.n(z),G=function(){var e=Object(r.a)(i.a.mark((function e(){var t,a,n,r,s,c,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},a=l.length>1&&void 0!==l[1]?l[1]:null,n=l.length>2&&void 0!==l[2]?l[2]:null,r="supervisor/listar_supervisionados/",s=function(e){var t=window.createLoadExtra(e);a&&a(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},c=function(e){n&&e.validation&&n(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))},a){e.next=12;break}return e.next=9,_.a.get({route:r,data:t,func_response:s,func_fail:c,awaitReturn:!0});case 9:return e.abrupt("return",e.sent);case 12:_.a.get({route:r,data:t,func_response:s,func_fail:c});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=a(676);var q=null,K=null,W=null,J=null;function Z(e){var t=e.appointmentData,a={overflow:"hidden",textOverflow:"ellipsis",position:"relative",top:-3},o={marginBottom:5};return t.data_feriado?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{style:{marginBottom:5,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(f.jsx)("div",{style:{width:"calc(100% - 80px)",textOverflow:"ellipsis",overflow:"hidden"},children:Object(f.jsx)("span",{children:t.nome})}),Object(f.jsxs)("div",{children:[t.hora_inicio.substring(0,5)," - ",t.hora_fim.substring(0,5)]})]}),Q(t)]}):"undefined"!==typeof t.oportunidade_agenda_id&&+t.oportunidade_agenda_id>0?Object(f.jsxs)("div",{style:{color:t.agenda_tipo_cor_texto},children:[Object(f.jsxs)("div",{className:"row",style:{marginBottom:5,display:"flex"},children:[Object(f.jsxs)("div",{className:"col-xs-1",children:["S"===t.atividade_realizada&&Object(f.jsx)("span",{className:"label label-success",children:Object(f.jsx)("i",{className:"fa fa-check"})}),"N"===t.atividade_realizada&&Object(f.jsx)("span",{className:"label label-warning",children:Object(f.jsx)("i",{className:"fas fa-thumbtack"})})]}),Object(f.jsx)("div",{className:"col-xs-11",style:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:8},children:t.descricao})]}),Object(f.jsxs)("div",{style:{marginBottom:5,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(f.jsx)("div",{style:{width:"calc(100% - 80px)",textOverflow:"ellipsis",overflow:"hidden"},children:Object(f.jsx)("small",{children:Object(f.jsx)("span",{className:"label label-default",children:t.tipo_agenda_oportunidade_descricao})})}),Object(f.jsxs)("div",{children:[t.hora_inicio.substring(0,5)," - ",t.duracao.substring(0,5)]})]}),$(t)]}):("S"===t.realizado&&("col-xs-11",a={overflow:"hidden",textOverflow:"ellipsis",position:"relative",top:-3,paddingLeft:10},o={marginBottom:5,display:"flex"}),Object(f.jsxs)("div",{style:{color:t.agenda_tipo_cor_texto},children:[Object(f.jsxs)("div",{style:{marginBottom:5,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(f.jsx)("div",{className:"divDescricaoClass",style:{width:"calc(100% - 80px)",textOverflow:"ellipsis",overflow:"hidden"},children:"S"===t.agenda_tipo_particular&&+t.usuario_id!==+O.a.sessao.dados.usuario_id?"Evento particular":t.descricao}),Object(f.jsxs)("div",{children:[t.hora_inicio.substring(0,5)," - ",t.hora_fim.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"row",style:o,children:[Object(f.jsx)("div",{className:"col-xs-1",style:{top:-3},children:"S"===t.realizado&&Object(f.jsx)("span",{className:"label label-success",children:Object(f.jsx)("i",{className:"fa fa-check"})})}),Object(f.jsx)("div",{className:"col-xs-11",style:a,children:Object(f.jsx)("span",{className:"label label-default",children:t.agenda_tipo_nome})})]}),Q(t)]}))}function X(e){var t=e.targetedAppointmentData;if("undefined"!==typeof t.oportunidade_agenda_id&&+t.oportunidade_agenda_id>0)return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{style:{textAlign:"left"},children:[Object(f.jsxs)("div",{className:"row",style:{marginBottom:5},children:[Object(f.jsxs)("div",{className:"col-xs-1",children:["S"===t.atividade_realizada&&Object(f.jsx)("span",{className:"label label-success",children:Object(f.jsx)("i",{className:"fa fa-check"})}),"N"===t.atividade_realizada&&Object(f.jsx)("span",{className:"label label-warning",children:Object(f.jsx)("i",{className:"fas fa-thumbtack"})})]}),Object(f.jsx)("div",{className:"col-xs-11",style:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:8},children:t.descricao})]}),Object(f.jsxs)("div",{style:{marginBottom:5,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(f.jsx)("div",{style:{width:"calc(100% - 80px)",textOverflow:"ellipsis",overflow:"hidden"},children:Object(f.jsx)("small",{children:Object(f.jsx)("span",{className:"label label-default",children:t.tipo_agenda_oportunidade_descricao})})}),Object(f.jsxs)("div",{children:[t.hora_inicio.substring(0,5)," - ",t.duracao.substring(0,5)]})]}),$(t)]})});var a="col-xs-12",o={overflow:"hidden",textOverflow:"ellipsis"};return"S"===t.realizado&&(a="col-xs-11",o={overflow:"hidden",textOverflow:"ellipsis",paddingLeft:8}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{style:{textAlign:"left"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-xs-1",children:"S"===t.realizado&&Object(f.jsx)("span",{className:"label label-success",children:Object(f.jsx)("i",{className:"fa fa-check"})})}),Object(f.jsxs)("div",{className:a,style:o,children:["S"===t.agenda_tipo_particular&&+t.usuario_id!==+O.a.sessao.dados.usuario_id?"Evento particular":t.descricao,t.nome_ativo_reservado&&Object(f.jsx)("p",{children:Object(f.jsxs)("small",{children:["- Ativo: ",t.nome_ativo_reservado]})})]})]}),Object(f.jsxs)("div",{className:"row",style:{marginBottom:5},children:[Object(f.jsx)("div",{className:"col-md-6",children:Object(f.jsx)("small",{children:Object(f.jsx)("span",{className:"label label-default",children:t.agenda_tipo_nome})})}),Object(f.jsxs)("div",{className:"col-md-6",style:{textAlign:"right"},children:[t.hora_inicio.substring(0,5)," - ",t.hora_fim.substring(0,5)]})]}),Q(t),(t.projeto_nome||t.atividade_projeto_nome)&&Object(f.jsxs)("p",{children:[t.projeto_nome&&Object(f.jsxs)(m.a.Fragment,{children:[Object(f.jsx)("strong",{children:"- Projeto:"})," ",Object(f.jsx)("span",{children:t.projeto_nome}),Object(f.jsx)("br",{})]}),t.atividade_projeto_nome&&Object(f.jsxs)(m.a.Fragment,{children:[Object(f.jsx)("strong",{children:"- Atividade Projeto:"})," ",Object(f.jsx)("span",{children:t.atividade_projeto_nome})]})]})]})})}function Q(e){return Object(f.jsxs)(m.a.Fragment,{children:[e.cliente_nome&&Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"label label-info",children:"C"}),"\xa0",e.cliente_nome]}),e.fornecedor_nome&&Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"label label-warning",children:"F"}),"\xa0",e.fornecedor_nome]}),e.prospect_nome&&Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"label label-danger",children:"O"}),"\xa0",e.prospect_nome]}),e.empresa_nome&&Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"label label-primary",children:"E"}),"\xa0",e.empresa_nome]})]})}function $(e){var t="label label-default";return"C"===e.entidade_tipo?t="label label-info":"F"===e.entidade_tipo?t="label label-warning":"O"===e.entidade_tipo?t="label label-danger":"E"===e.entidade_tipo&&(t="label label-primary"),Object(f.jsx)(m.a.Fragment,{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:t,children:e.entidade_tipo}),"\xa0",e.entidade_nome]})})}var Y=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).requestTipoAgenda=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent).push({cor:"#33CCFF",nome:"CRM",tipo_agenda_id:"CRM"},{cor:"#D9534F",nome:"Feriado",tipo_agenda_id:"feriado"}),this.setState({dataSourceTipoAgenda:t});case 5:case"end":return e.stop()}}),e,this)}))),n.requestUsuariosPorGrupo=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("usuario/usuarios_grupo_usuario_logado/",{grupo_usuarios_id:JSON.stringify(t),modulo:window.MODULOS.AGENDA},null,null,null,null,null,null,null,!0);case 2:a=e.sent,r=n.state.arrUsuariosSelecionados,n.state.arrUsuariosSelecionados.forEach((function(e,t){a.filter((function(t){return null!==t&&+t.usuario_id===+e})).length||(r[t]=null)})),r=r.filter((function(e){return null!==e})),O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},n.filtros_agenda_usuario),{},{grupos_usuarios:t})),n.setState({arrUsuarios:a,arrUsuariosSelecionados:r,arrGruposUsuariosSelecionados:t});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.requestAtivosPorGrupo=function(){var e=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("grupo_ativos/buscar_ativos/",{grupos_ativos_id:JSON.stringify(t)},null,null,null,null,null,null,null,!0);case 2:a=e.sent,n.getKeySelecaoAtivo(),n.setState({dataSourceAtivos:a,arrGruposAtivosSelecionados:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getKeySelecaoUsuario=n.getKeySelecaoUsuario.bind(Object(l.a)(n)),n.getKeySelecaoAtivo=n.getKeySelecaoAtivo.bind(Object(l.a)(n)),n.requestUsuariosPorGrupo=n.requestUsuariosPorGrupo.bind(Object(l.a)(n)),n.requestAtivosPorGrupo=n.requestAtivosPorGrupo.bind(Object(l.a)(n)),n.getArrUsuario=n.getArrUsuario.bind(Object(l.a)(n)),n.getArrAtivo=n.getArrAtivo.bind(Object(l.a)(n)),n.getArrSupervisionado=n.getArrSupervisionado.bind(Object(l.a)(n)),n.handleUsuariosSelecionados=n.handleUsuariosSelecionados.bind(Object(l.a)(n)),n.calcularIntervaloHoras=n.calcularIntervaloHoras.bind(Object(l.a)(n)),n.schedulerRef=m.a.createRef(),n.keySelecaoUsuarioCount=0,n.keySelecaoAtivoCount=0,n.dataSourceEvento=[],n.state={dataSourceTipoAgenda:[],arrUsuarios:[],arrUsuariosSelecionados:[],dataSourceAtivos:[],arrGruposUsuariosSelecionados:[],arrGruposAtivosSelecionados:[],arrAtivosSelecionados:[],arrSupervisionados:[],arrSupervisionadosSelecionados:[],filtroHoraInicio:8,filtroHoraFim:19,valorHoraInicio:null,valorHoraFim:null,viewType:"timelineMonth",filtersState:"",intervaloHoras:30,maxAppointmentsPerCell:"auto",filtrosIntervaloHoras:[{tempo:30,nome:"30 minutos"},{tempo:60,nome:"1 hora"},{tempo:120,nome:"2 horas"},{tempo:180,nome:"3 horas"},{tempo:240,nome:"4 horas"}]},n.requestTipoAgenda(),n}return Object(c.a)(a,[{key:"loadFiltrosUsuario",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get_parametro_usuario("filtros_agenda");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFiltrosUsuario();case 2:t=e.sent,this.filtros_agenda_usuario=t;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t,a,o,n,r,s,c,l,d,u,p,f,h,m,v,b,_,j,w=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFiltrosUsuario();case 2:return t=e.sent,this.filtros_agenda_usuario=t,a=[],o=t.grupos_ativos?t.grupos_ativos:[],n=t.ativos?t.ativos:[],r=t.supervisionados?t.supervisionados:[],s=t.viewType?t.viewType:"timelineMonth",c="undefined"!==typeof t.filtersState?t.filtersState:"",l=t.hora_inicio?t.hora_inicio:8,d=t.hora_fim?t.hora_fim:19,u="undefined"!==typeof t.intervaloHoras?t.intervaloHoras:30,p="undefined"!==typeof t.maxAppointmentsPerCell?t.maxAppointmentsPerCell:"auto",f="undefined"!==typeof t.filtros_intervalo_horas?t.filtros_intervalo_horas:[{tempo:30,nome:"30 minutos"},{tempo:60,nome:"1 hora"},{tempo:120,nome:"2 horas"},{tempo:180,nome:"3 horas"},{tempo:240,nome:"4 horas"}],h=[{usuario_id:O.a.sessao.dados.usuario_id.toString(),nome:O.a.sessao.dados.nome}],m=[O.a.sessao.dados.usuario_id.toString()],(O.a.sessao.dados.admin||O.a.verifica_permissao(O.a.temp.empresa,"agenda_grupo_usuario")||O.a.verifica_permissao(O.a.temp.empresa,"agenda_todas"))&&(a=t.grupos_usuarios?t.grupos_usuarios:[],m=t.usuarios&&t.usuarios.length>0?t.usuarios:[O.a.sessao.dados.usuario_id.toString()]),(v=new Date).setHours(l),v.setMinutes(0),v.setSeconds(0),(b=new Date).setHours(d-1),b.setMinutes(0),b.setSeconds(0),_=v,j=b,this.dataSourceEvento=g(m,null,this),e.t0=this,e.t1=a,e.t2=h,e.t3=m,e.t4=o,e.t5=n,e.next=37,G({modulo:window.MODULOS.AGENDA,usuario_supervisor:O.a.sessao.dados.usuario_id});case 37:e.t6=e.sent,e.t7=r,e.t8=l,e.t9=d,e.t10=_,e.t11=j,e.t12=s,e.t13=c,e.t14=u,e.t15=p,e.t16=f,e.t17={arrGruposUsuariosSelecionados:e.t1,arrUsuarios:e.t2,arrUsuariosSelecionados:e.t3,arrGruposAtivosSelecionados:e.t4,arrAtivosSelecionados:e.t5,arrSupervisionados:e.t6,arrSupervisionadosSelecionados:e.t7,filtroHoraInicio:e.t8,filtroHoraFim:e.t9,valorHoraInicio:e.t10,valorHoraFim:e.t11,viewType:e.t12,filtersState:e.t13,intervaloHoras:e.t14,maxAppointmentsPerCell:e.t15,filtrosIntervaloHoras:e.t16},e.t18=function(){w.requestUsuariosPorGrupo(a),w.requestAtivosPorGrupo(o)},e.t0.setState.call(e.t0,e.t17,e.t18),""===c&&J.current&&J.current.instance.element().addClass("filterOpen");case 52:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getArrUsuario",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{usuario_id:null,nome:null},a=this.state.arrUsuarios.filter((function(t){return+t.usuario_id===+e}));if(1===a.length)return a[0];var o=this.state.arrSupervisionados.filter((function(t){return+t.supervisionado_id===+e}));return 1===o.length?{usuario_id:o[0].supervisionado_id,nome:o[0].supervisionado_nome}:t}},{key:"getArrAtivo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:null,nome:null},a=this.state.dataSourceAtivos.filter((function(t){return+t.id===+e}));return 1===a.length?a[0]:t}},{key:"getArrSupervisionado",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{supervisionado_id:null,supervisionado_nome:null},a=this.state.arrSupervisionados.filter((function(t){return+t.supervisionado_id===+e}));return 1===a.length?a[0]:t}},{key:"getKeySelecaoUsuario",value:function(){return this.keySelecaoUsuarioCount++}},{key:"getKeySelecaoAtivo",value:function(){return this.keySelecaoAtivoCount++}},{key:"handleUsuariosSelecionados",value:function(){for(var e=[],t=this.state.arrUsuariosSelecionados,a=this.state.arrSupervisionadosSelecionados,o=0;o<t.length;o++){var n=t[o];+n!==+O.a.sessao.dados.usuario_id?e.push(+n):e.unshift(+n)}for(var i=function(t){var o=a[t];e.filter((function(e){return+e===+o})).length||e.push(+o)},r=0;r<a.length;r++)i(r);return e}},{key:"calcularIntervaloHoras",value:function(e,t){for(var a=this,n=[],i=[30,60,120,180,240],r=0;r<i.length;r++){var s=i[r];if(0===60*(parseInt(t)-parseInt(e))%s){var c="";if(30==s)c="30 minutos";else c=s/60+" hora(s)";n.push({tempo:s,nome:c})}}var l=this.state.intervaloHoras;n.filter((function(e){return e.tempo==a.state.intervaloHoras})).length||(l=n[0].tempo),this.setState({filtrosIntervaloHoras:n,intervaloHoras:l,filtroHoraInicio:e,filtroHoraFim:t},(function(){O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},a.filtros_agenda_usuario),{},{filtros_intervalo_horas:n,hora_inicio:e,hora_fim:t}))}))}},{key:"render",value:function(){var e=this,t=this.state.arrAtivosSelecionados,a=this.state.arrUsuariosSelecionados,n=this.state.arrSupervisionadosSelecionados,i=[];J=this.schedulerRef;for(var r=0;r<t.length;r++){var s=this.getArrAtivo(t[r]),c=s.id,l=s.nome;i.push({chave:"a_".concat(c),nome:l,ativo_id:c,usuario_id:null,tipo:"ativo"})}for(var d=0;d<a.length;d++){var u=this.getArrUsuario(a[d]),p=u.usuario_id,h=u.nome,j={chave:"u_".concat(p),nome:h,usuario_id:p,ativo_id:null,tipo:"usuario"};+p!==+O.a.sessao.dados.usuario_id?i.push(j):i.unshift(j)}for(var w=function(t){var a=e.getArrSupervisionado(n[t]),o=a.supervisionado_id,r=a.supervisionado_nome;i.filter((function(e){return"usuario"===e.tipo&&+e.usuario_id===+o})).length||i.push({chave:"u_".concat(o),nome:r,usuario_id:o,ativo_id:null,tipo:"usuario"})},A=0;A<n.length;A++)w(A);var S=new Date,I=i.length?Object(f.jsxs)(m.a.Fragment,{children:[Object(f.jsxs)(b.a,{ref:this.schedulerRef,dataSource:g(this.handleUsuariosSelecionados(),this.state.arrAtivosSelecionados,this),cellDuration:this.state.intervaloHoras,maxAppointmentsPerCell:this.state.maxAppointmentsPerCell,appointmentRender:Z,appointmentTooltipRender:X,timeCellTemplate:function(t,a,o){if("month"!==e.state.viewType&&"timelineMonth"!==e.state.viewType&&"agenda"!==e.state.viewType&&"day"!==e.state.viewType&&"workWeek"!==e.state.viewType&&"week"!==e.state.viewType){var n=window.formatDate(t.date).substring(0,5);P()(o).append("<div><strong>".concat(n,"</strong><br /><span>").concat(t.text,"</span></div>"))}else P()(o).append("<small>".concat(t.text,"</small>"))},onAppointmentFormOpening:function(e){if(e.cancel=!0,"undefined"!==typeof e.appointmentData.oportunidade_agenda_id&&+e.appointmentData.oportunidade_agenda_id>0){var t=+e.appointmentData.representante_usuario_id!==+O.a.sessao.dados.usuario_id;x.a.load("oportunidade/atividade",(function(a,o){o.show(e.appointmentData.oportunidade_agenda_id,window.FORMULARIO.EDITAR,null,e.appointmentData.oportunidade_id,null,t),o.onclose=function(){e.component._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(e.component._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),e.component._dataSource.reload()}}))}else e.appointmentData.data_feriado||x.a.load("agenda/agenda_evento",(function(t,a){var o={evento_id:e.appointmentData.agenda_evento_id,usuario_id:e.appointmentData.usuario_id,dia:e.appointmentData.dia,usuario_nome:e.appointmentData.nome_ativo_reservado?e.appointmentData.nome_ativo_reservado:"usuario_nome",agenda_ativo_id:e.appointmentData.agenda_ativo_id,convidado_evento:e.appointmentData.convidado_evento,permissao_manutencao_agenda_ativo:e.appointmentData.permissao_manutencao_agenda_ativo};a.onclose=function(){e.component._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(e.component._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),e.component._dataSource.reload()},a.show(o)}))},onCellClick:function(o){x.a.load("agenda/agenda_evento",(function(i,r){var s={dia:window.formatDate(o.cellData.startDate,!0),hora_inicio:window.formatDateTime(o.cellData.startDate,!0).substr(-5),hora_fim:window.formatDateTime(o.component.option("selectedCellData")[o.component.option("selectedCellData").length-1].endDate,!0).substr(-5)},c=e.getArrUsuario(a.filter((function(e){return!!e&&"u_".concat(e)===o.cellData.groups.evento_usuario_id}))[0],null);c||(c=e.getArrUsuario(n.filter((function(e){return!!e&&"u_".concat(e)===o.cellData.groups.evento_usuario_id}))[0],null));var l=e.getArrAtivo(t.filter((function(e){return!!e&&"a_".concat(e)===o.cellData.groups.evento_usuario_id}))[0],null),d={evento_id:null,dia:s,usuario_id:null,agenda_ativo_id:null};c?(d.usuario_id=c.usuario_id,d.usuario_nome=c.nome):l&&(d.agenda_ativo_id=l.id,d.usuario_nome=l.nome),d.permissao_manutencao_agenda_ativo=l&&l.permissao_manutencao_agenda_ativo,r.onclose=function(){o.component._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(o.component._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),o.component._dataSource.reload()},r.show(d)}))},onAppointmentContextMenu:function(e){(q=e.appointmentData).data_feriado&&e.event.stopPropagation()},onCellContextMenu:function(e){var t=e.cellData;W=t},groups:["evento_usuario_id"],editing:!1,showAllDayPanel:!1,defaultCurrentDate:S,remoteFiltering:!0,crossScrollingEnabled:!0,onOptionChanged:function(t){"currentView"===t.name&&(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{viewType:t.value})),e.setState({viewType:t.value}))},currentView:this.state.viewType,onContentReady:function(t){setTimeout((function(){t.component.scrollTo(S),t.component._dimensionChanged()}),150);J&&J.current&&["timelineDay","timelineWorkWeek","timelineWeek","timelineMonth","month"].includes(e.state.viewType)&&(P()(J.current._element).find(".dx-scheduler-date-table-scrollable-content").height()<=P()(J.current._element).find(".dx-scheduler-date-table-scrollable-content").closest(".dx-scrollable-container").height()&&P()(J.current._element).find(".dx-scheduler-cell-sizes-vertical").attr("style","height: auto !important"),P()(J.current._element).find(".dx-scheduler-group-header-content").css("word-break","break-word"))},children:[Object(f.jsx)(v.Resource,{dataSource:this.state.dataSourceTipoAgenda,fieldExpr:"agenda_tipo_id",valueExpr:"tipo_agenda_id",colorExpr:"cor",useColorAsDefault:!0}),Object(f.jsx)(v.Resource,{dataSource:i,displayExpr:"nome",fieldExpr:"evento_usuario_id",valueExpr:"chave"}),Object(f.jsx)(v.View,{type:"day",startDayHour:this.state.filtroHoraInicio,endDayHour:this.state.filtroHoraFim}),Object(f.jsx)(v.View,{type:"workWeek",startDayHour:this.state.filtroHoraInicio,endDayHour:this.state.filtroHoraFim}),Object(f.jsx)(v.View,{type:"week",startDayHour:this.state.filtroHoraInicio,endDayHour:this.state.filtroHoraFim}),Object(f.jsx)(v.View,{type:"month"}),Object(f.jsx)(v.View,{type:"timelineDay",startDayHour:this.state.filtroHoraInicio,endDayHour:this.state.filtroHoraFim}),Object(f.jsx)(v.View,{type:"timelineWorkWeek",startDayHour:this.state.filtroHoraInicio,endDayHour:this.state.filtroHoraFim}),Object(f.jsx)(v.View,{type:"timelineWeek",startDayHour:this.state.filtroHoraInicio,endDayHour:this.state.filtroHoraFim}),Object(f.jsx)(v.View,{type:"timelineMonth"})]}),Object(f.jsx)(F.a,{dataSource:[{name:"novo_evento",icon:"fas fa-plus",text:"Novo evento",onItemClick:function(o){J.current&&J.current.instance&&x.a.load("agenda/agenda_evento",(function(i,r){var s={dia:window.formatDate(o.startDate,!0),hora_inicio:window.formatDateTime(o.startDate,!0).substr(-5),hora_fim:window.formatDateTime(o.endDate,!0).substr(-5)},c=e.getArrUsuario(a.filter((function(e){return!!e&&"u_".concat(e)===o.evento_usuario_id}))[0],null);c||(c=e.getArrUsuario(n.filter((function(e){return!!e&&"u_".concat(e)===o.evento_usuario_id}))[0],null));var l=e.getArrAtivo(t.filter((function(e){return!!e&&"a_".concat(e)===o.evento_usuario_id}))[0],null),d={evento_id:null,dia:s,usuario_id:null,agenda_ativo_id:null};c?(d.usuario_id=c.usuario_id,d.usuario_nome=c.nome):l&&(d.agenda_ativo_id=l.id,d.usuario_nome=l.nome),d.permissao_manutencao_agenda_ativo=l&&l.permissao_manutencao_agenda_ativo,r.onclose=function(){J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),J.current.instance._dataSource.reload()},r.show(d)}))}},{name:"marcar_realizado",icon:"check",text:"Marcar como realizado",onItemClick:function(e){"S"===e.realizado?window.alert_info("O evento j\xe1 est\xe1 marcado como realizado"):Object(L.confirm)("Deseja marcar esse evento como realizado?","Aten\xe7\xe3o").then((function(t){t&&_.a.post("agenda_evento/alterar_agenda_realizado/",{agenda_evento_id:e.agenda_evento_id},(function(e){window.alert_saved("Evento realizado com sucesso"),J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),J.current.instance._dataSource.reload()}))}))}},{name:"copiar_evento",icon:"copy",text:"Copiar evento",onItemClick:function(e){_.a.get("agenda_evento/objeto/",{agenda_evento_id:e.agenda_evento_id},(function(e){K={agenda_evento_id:e.id,agenda_evento_origem:e.id,usuario_id:e.usuario_id,dia:e.dia,hora_inicio:e.hora_inicio,hora_fim:e.hora_fim,agenda_tipo_id:e.agenda_tipo_id,agenda_local_id:e.agenda_local_id,cliente_id:e.cliente_id,projeto_id:e.projeto_id,projeto_atividade_id:e.projeto_atividade_id,descricao:e.descricao,descricao_detalhada:e.descricao_detalhada,prospect_id:e.prospect_id,empresa_id:e.empresa_id,fornecedor_id:e.fornecedor_id,agenda_ativo_id:e.agenda_ativo_id,evento_pessoal:e.evento_pessoal,arr_convidados:e.arr_convidados},window.alert_info("Evento copiado")}))}},{name:"visualizar_atividade",icon:"bulletlist",text:"Visualizar atividade de projeto",onItemClick:function(e){x.a.load("atividade_projeto/detalhes",(function(t,a){a.show(e.projeto_id,e.projeto_atividade_id,window.FORMULARIO.EDITAR,null,null,e.atividade_projeto_nome)}),x.a.ABA.MULTIPLAS)}},{name:"realizar_apontamento",icon:"clock",text:"Realizar apontamento",onItemClick:function(e){x.a.load("apontamento_projeto/detalhes",(function(t,a){a.show(null,window.FORMULARIO.NOVO,e.dia,e.projeto_id,e.cliente_id,e.cliente_nome,e.projeto_atividade_id,e.projeto_nome)}),x.a.ABA.MULTIPLAS)}},{name:"editar_oportunidade",icon:"bulletlist",text:"Editar Oportunidade",onItemClick:function(t){if(0==parseInt(t.oportunidade_id))return!1;x.a.load("oportunidade/detalhes",(function(a,o){o.onclose=function(){e.setState({})},o.show(t.oportunidade_id,window.FORMULARIO.EDITAR)}),x.a.ABA.MULTIPLAS)}}],width:200,target:".dx-scheduler-appointment",onItemClick:function(e){e.itemData.onItemClick(q)},onShowing:function(e){for(var t=e.component.option("dataSource"),a=0;a<t.length;a++){var o=t[a];t[a].visible="CRM"!==q.agenda_tipo_id,"visualizar_atividade"!==o.name&&"realizar_apontamento"!==o.name||!q.projeto_atividade_id>0&&(t[a].visible=!1),"editar_oportunidade"===o.name&&(t[a].visible="CRM"==q.agenda_tipo_id&&"undefined"!==typeof q.oportunidade_id&&q.oportunidade_id>0)}e.component.option("dataSource",t)}}),Object(f.jsx)(F.a,{dataSource:[{icon:"fas fa-plus",text:"Novo evento",onItemClick:function(o){J.current&&J.current.instance&&x.a.load("agenda/agenda_evento",(function(i,r){var s={dia:window.formatDate(o.startDate,!0),hora_inicio:window.formatDateTime(o.startDate,!0).substr(-5),hora_fim:window.formatDateTime(o.endDate,!0).substr(-5)},c=e.getArrUsuario(a.filter((function(e){return!!e&&"u_".concat(e)===o.groups.evento_usuario_id}))[0],null);c||(c=e.getArrUsuario(n.filter((function(e){return!!e&&"u_".concat(e)===o.groups.evento_usuario_id}))[0],null));var l=e.getArrAtivo(t.filter((function(e){return!!e&&"a_".concat(e)===o.groups.evento_usuario_id}))[0],null),d={evento_id:null,dia:s,usuario_id:null,agenda_ativo_id:null};c?(d.usuario_id=c.usuario_id,d.usuario_nome=c.nome):l&&(d.agenda_ativo_id=l.id,d.usuario_nome=l.nome),d.permissao_manutencao_agenda_ativo=l&&l.permissao_manutencao_agenda_ativo,r.onclose=function(){J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),J.current.instance._dataSource.reload()},r.show(d)}))}},{text:"Colar evento",icon:"paste",onItemClick:function(e){if(K){var t=null,a=null,o="",n="",i=e.groups.evento_usuario_id.split("_"),r=i[0];"u"===r?t=i[1]:"a"===r&&(a=i[1]);var s=new Date(e.startDate),c=s.getDate().toString().padStart(2,"0"),l=(s.getMonth()+1).toString().padStart(2,"0"),d=s.getFullYear().toString()+"-"+l+"-"+c;if(parseInt(K.usuario_id)>0?o="usuario":parseInt(K.agenda_ativo_id)>0&&(o="ativo"),parseInt(t)>0?n="usuario":parseInt(a)>0&&(n="ativo"),o!==n)return void Object(L.alert)("N\xe3o \xe9 poss\xedvel copiar eventos de usu\xe1rios em ativos e vice-versa","Aviso");_.a.post("agenda_evento/salvar/",{agenda_evento_id:null,usuario_id:t,agenda_ativo_id:a,dia:d,hora_inicio:K.hora_inicio,hora_fim:K.hora_fim,agenda_tipo_id:K.agenda_tipo_id,agenda_local_id:K.agenda_local_id,cliente_id:K.cliente_id,projeto_id:K.projeto_id,projeto_atividade_id:K.projeto_atividade_id,descricao:K.descricao,descricao_detalhada:K.descricao_detalhada,prospect_id:K.prospect_id,empresa_id:K.empresa_id,fornecedor_id:K.fornecedor_id,agenda_evento_origem:K.agenda_evento_origem,evento_pessoal:K.evento_pessoal,arr_convidados:JSON.stringify(K.arr_convidados)},(function(e){J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),J.current.instance._dataSource.reload()}))}else window.alert_info("Nenhum evento copiado")}}],width:200,target:".dx-scheduler-date-table-cell",onItemClick:function(e){e.itemData.onItemClick(W)}})]}):null,T="border-radius: 5px; margin-right: 5px;";return this.state.dataSourceTipoAgenda.length?Object(f.jsxs)(m.a.Fragment,{children:[Object(f.jsx)("div",{style:{marginTop:5,marginBottom:5},children:Object(f.jsx)(M.ButtonGroup,{stylingMode:"contained",hoverStateEnabled:!1,selectionMode:"none",items:[{icon:"fas fa-plus",hint:"Novo evento",text:"Novo evento",elementAttr:{style:T},onItemClick:function(){J.current&&J.current.instance&&x.a.load("agenda/agenda_evento",(function(e,t){var a={evento_id:null,dia:{dia:window.formatDate(new Date,!0),hora_inicio:null,hora_fim:null},usuario_id:O.a.sessao.dados.usuario_id,usuario_nome:O.a.sessao.dados.nome};t.onclose=function(){J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].setDate(J.current.instance._dataSource._storeLoadOptions.filter[0][0][1][2].getDate()+1),J.current.instance._dataSource.reload()},t.show(a)}))}},{text:"Filtros",icon:"fas fa-filter",hint:"Exibir/esconder filtros",elementAttr:{style:T},onItemClick:function(){var t=J.current.instance.element();"hidden"===e.state.filtersState?(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.state.filtros_agenda_usuario),{},{filtersState:""})),e.setState({filtersState:""}),t.addClass("filterOpen")):(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.state.filtros_agenda_usuario),{},{filtersState:"hidden"})),e.setState({filtersState:"hidden"}),t.removeClass("filterOpen"))}},{icon:"fas fa-sync",hint:"Recarregar",elementAttr:{style:T},onItemClick:function(){J.current&&J.current.instance&&e.setState({})}},{icon:"fas fa-link",hint:"Gerar link ICS",elementAttr:{style:T},onItemClick:function(){x.a.load("agenda/ics_url_info",(function(e,t){t.show(O.a.sessao.dados.usuario_id)}))}},{icon:"fas fa-envelope",hint:"Enviar agenda por e-mail",elementAttr:{style:T},onItemClick:function(){x.a.load("agenda/email_cliente",(function(e,t){t.show()}))}}],onItemClick:function(e){"function"===typeof e.itemData.onItemClick&&e.itemData.onItemClick()}})}),Object(f.jsxs)("div",{className:this.state.filtersState,children:[Object(f.jsxs)("div",{className:"col-md-12 col-lg-6",style:{padding:"0px"},children:[Object(f.jsx)("div",{className:"col-md-2",style:{padding:"1px"},children:Object(f.jsx)(E,{value:this.state.valorHoraInicio,label:"In\xedcio",labelMode:"floating",height:49,placeholder:"hh:mm",hoursOnly:!0,elementAttr:{class:"dx-theme-background-color"},onValueChanged:function(t){var a=new Date(t.value).time_now();a=Number(a.substring(0,2)),e.calcularIntervaloHoras(a,e.state.filtroHoraFim)}},"hora_inicio")}),Object(f.jsx)("div",{className:"col-md-2",style:{padding:"1px"},children:Object(f.jsx)(E,{value:this.state.valorHoraFim,label:"Fim",labelMode:"floating",height:49,placeholder:"hh:mm",hoursOnly:!0,elementAttr:{class:"dx-theme-background-color"},onValueChanged:function(t){var a=new Date(t.value).time_now();a=Number(a.substring(0,2)),a+=1,e.calcularIntervaloHoras(e.state.filtroHoraInicio,a)}},"hora_fim")}),Object(f.jsx)("div",{className:"col-md-2",style:{padding:"1px"},children:Object(f.jsx)(B.a,{dataSource:this.state.filtrosIntervaloHoras,displayExpr:"nome",valueExpr:"tempo",value:this.state.intervaloHoras,elementAttr:{class:"dx-theme-background-color"},placeholder:"Intervalo de horas",label:"Intervalos de",labelMode:"floating",height:49,onValueChanged:function(t){window.isEquivalent(e.state.intervaloHoras,t.value)||(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{intervaloHoras:t.value})),e.setState({intervaloHoras:t.value}))}})}),Object(f.jsx)("div",{className:"col-md-2",style:{padding:"1px"},children:Object(f.jsxs)("div",{className:"dx-editor-filled dx-tagbox dx-textbox dx-texteditor dx-texteditor-with-floating-label dx-theme-background-color dx-widget",style:{maxHeight:"49px",minWidth:"auto"},children:[Object(f.jsx)(H.Switch,{style:{margin:"20px 10px"},value:"unlimited"===this.state.maxAppointmentsPerCell,onValueChanged:function(t){O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{maxAppointmentsPerCell:t.value?"unlimited":"auto"})),e.setState({maxAppointmentsPerCell:t.value?"unlimited":"auto"})}}),Object(f.jsxs)("div",{className:"dx-texteditor-label",id:"dx-texteditor-label-e6b49a90-6b2e-572d-6742-de78e41a586e",children:[Object(f.jsx)("div",{className:"dx-label-before",style:{width:"0px"}}),Object(f.jsx)("div",{className:"dx-label",style:{maxWidth:"261px"},children:Object(f.jsx)("span",{"data-mark":!0,children:"Exibir tudo"})})]})]})}),(O.a.verifica_permissao(O.a.temp.empresa,"agenda_grupo_usuario")||O.a.verifica_permissao(O.a.temp.empresa,"agenda_todas")||O.a.sessao.dados.admin)&&Object(f.jsx)("div",{className:"col-md-4",style:{padding:"1px"},children:Object(f.jsx)(y.default,{label:"Filtro por grupos de usu\xe1rios",labelMode:"floating",selecionado:this.state.arrGruposUsuariosSelecionados,elementAttr:{class:"dx-theme-background-color",style:"max-height: 50px; min-width: auto;"},aoAlterar:function(t){window.isEquivalent(e.state.arrGruposUsuariosSelecionados,t)||e.requestUsuariosPorGrupo(t)},maxDisplayedTags:1,modulo:window.MODULOS.AGENDA})})]}),Object(f.jsxs)("div",{className:"col-md-12 col-lg-6",style:{padding:"0px"},children:[Object(f.jsx)("div",{className:"col-md-3",style:{padding:"1px"},children:Object(f.jsx)(V.a,{label:"Filtro por usu\xe1rios",labelMode:"floating",elementAttr:{class:"dx-theme-background-color",style:"max-height: 50px; min-width: auto;"},items:this.state.arrUsuarios,value:this.state.arrUsuariosSelecionados,valueExpr:"usuario_id",displayExpr:"nome",showSelectionControls:!0,applyValueMode:"useButtons",maxDisplayedTags:1,noDataText:"Selecione os usu\xe1rios",onValueChanged:function(t){window.isEquivalent(e.state.arrUsuariosSelecionados,t.value)||(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{usuarios:t.value})),e.setState({arrUsuariosSelecionados:t.value}))}},"selecaoUsuarios")}),Object(f.jsx)("div",{className:"col-md-3",style:{padding:"1px"},children:Object(f.jsx)(C,{label:"Filtro por grupos de ativos",labelMode:"floating",placeholder:"Selecione ...",selecionado:this.state.arrGruposAtivosSelecionados,elementAttr:{class:"dx-theme-background-color",style:"max-height: 50px; min-width: auto;"},aoAlterar:function(t){O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{grupos_ativos:t})),e.requestAtivosPorGrupo(t)},maxDisplayedTags:1})}),Object(f.jsx)("div",{className:"col-md-3",style:{padding:"1px"},children:Object(f.jsx)(R,{label:"Filtro por ativos",labelMode:"floating",placeholder:"Selecione ...",selecionado:this.state.arrAtivosSelecionados,items:this.state.dataSourceAtivos,elementAttr:{class:"dx-theme-background-color",style:"max-height: 50px; min-width: auto;"},aoAlterar:function(t){window.isEquivalent(e.state.arrAtivosSelecionados,t)||(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{ativos:t})),e.setState({arrAtivosSelecionados:t}))},maxDisplayedTags:1,noDataText:"Selecione os grupos de ativos"},this.keySelecaoAtivoCount)}),Object(f.jsx)("div",{className:"col-md-3",style:{padding:"1px"},children:Object(f.jsx)(V.a,{label:"Filtro por supervisionados",labelMode:"floating",elementAttr:{class:"dx-theme-background-color",style:"max-height: 50px; min-width: auto;"},items:this.state.arrSupervisionados,value:this.state.arrSupervisionadosSelecionados,valueExpr:"supervisionado_id",displayExpr:"supervisionado_nome",showSelectionControls:!0,applyValueMode:"useButtons",maxDisplayedTags:1,onValueChanged:function(t){window.isEquivalent(e.state.arrSupervisionadosSelecionados,t.value)||(O.a.set_parametro_usuario("filtros_agenda",Object(o.a)(Object(o.a)({},e.filtros_agenda_usuario),{},{supervisionados:t.value})),e.setState({arrSupervisionadosSelecionados:t.value}))}},"selecaoSupervisionados")})]})]}),Object(f.jsx)("div",{style:{marginTop:5},children:I})]}):null}},{key:"Scheduler",get:function(){return this.schedulerRef.current?this.schedulerRef.current.instance:null}}]),a}(m.a.Component);Y.defaultProps={abaTitulo:"Agenda"};t.default=Y},1151:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(390);var _=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(b.Column);_.defaultProps={dataField:"inicio",caption:"In\xedcio",dataType:"number",alignment:"left"};var j=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(b.Column);j.defaultProps={dataField:"fim",caption:"Fim",dataType:"number",alignment:"left"};var O=a(824),g=[Object(o.jsx)(_,{caption:"% In\xedcio"}),Object(o.jsx)(j,{caption:"% Fim"}),Object(o.jsx)(O.a,{caption:"Cor de Fundo"}),Object(o.jsx)(O.a,{caption:"Cor da Fonte",dataField:"cor_fonte"})],w=a(444),x=a(454);var y=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({key:"cores_percentual_conclusao_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"cores_percentual_conclusao/listar/",data:Object(h.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(g),[Object(o.jsxs)(b.Column,{type:"buttons",children:[Object(o.jsx)(w.a,{visible:function(e){return!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(x.a,{visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,selection:{mode:"multiple"},stateStoring:Object(f.stateStoring)("ListagemChamadoCorPercentualConclusao"),onToolbarPreparing:this.onToolbarPreparing,editing:{mode:"batch",allowUpdating:!0,useIcons:!0},children:e})})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Cores por Conclus\xe3o",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=window.CircularJSON.stringify(e.component.getController("editing").getChanges());v.a.post("/cores_percentual_conclusao/salvar_edicao_batch/",{data:a},(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}))}),"revertButton"===o.name&&(o.options.onClick=function(t){e.component.cancelEditData()})}}}]),a}(p.a.Component);y.defaultProps={abaTitulo:"Cores por % de conclus\xe3o"}},1152:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(452),_=a(420),j=a(390);var O=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);O.defaultProps={dataField:"tipo",caption:"Tipo"};var g=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(j.Column);g.defaultProps={dataField:"path",caption:"Caminho"};var w=a(826),x=a(507),y=[Object(o.jsx)(_.a,{}),Object(o.jsx)(O,{}),Object(o.jsx)(g,{}),Object(o.jsx)(w.a,{dataField:"data_exclusao",caption:"Data Exclus\xe3o"}),Object(o.jsx)(x.a,{dataField:"usuario_exclusao",caption:"Exclu\xeddo por"})],A=a(444),S=a(454);var C=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({pageSize:20,key:"chave",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"/documento/listar_documentos_pastas_excluidos/",data:Object(h.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(y),[Object(o.jsxs)(j.Column,{type:"buttons",children:[Object(o.jsx)(A.a,{onClick:function(e){Object(b.confirm)("Deseja excluir <strong>"+e.row.data.nome+"</strong> permanentemente?","Aten\xe7\xe3o").then((function(t){t&&("documento"===e.row.data.tipo.toLowerCase()?v.a.post("/documento/excluir/",{documento_id:e.row.data.registro_id,excluir:!0},(function(t){window.alert_saved("Documento exclu\xeddo com sucesso"),e.component.refresh()})):"pasta"===e.row.data.tipo.toLowerCase()&&v.a.post("/documento_pasta/excluir/",{documento_pasta_id:e.row.data.registro_id,permanente:!0},(function(t){window.alert_saved("Pasta exclu\xedda com sucesso"),e.component.refresh()})))}))}}),Object(o.jsx)(S.a,{onClick:function(e){Object(b.confirm)("Deseja restaurar <strong>"+e.row.data.nome+"</strong>?","Aten\xe7\xe3o").then((function(t){t&&("documento"===e.row.data.tipo.toLowerCase()?v.a.post("/documento/restaurar_documento/",{documento_id:e.row.data.registro_id},(function(t){window.alert_saved("Documento restaurado com sucesso"),e.component.refresh()})):"pasta"===e.row.data.tipo.toLowerCase()&&v.a.post("/documento_pasta/excluir/",{documento_pasta_id:e.row.data.registro_id,excluir:!1},(function(t){window.alert_saved("Pasta restaurada com sucesso"),e.component.refresh()})))}))}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,selection:{mode:"multiple"},stateStoring:Object(f.stateStoring)("ListagemLixeiraDocumentos"),onToolbarPreparing:this.onToolbarPreparing,pager:{visible:!0,showInfo:!0},children:e})})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"clearformat",hint:"Esvaziar lixeira",text:"Esvaziar lixeira",onClick:function(t){e.component.getDataSource().store().load().done((function(t){var a=t.data,o=a.filter((function(e){return"documento"===e.tipo.toLowerCase()})).map((function(e){return e.registro_id})),n=a.filter((function(e){return"pasta"===e.tipo.toLowerCase()})).map((function(e){return e.registro_id}));(o.length>0||n.length>0)&&Object(b.confirm)("Deseja esvaziar a lixeira e excluir <strong>"+(o.length+n.length)+" registro(s)</strong> permanentemente?","Aten\xe7\xe3o").then((function(t){t&&(window.alert_info("Por favor, aguarde"),v.a.post("documento/gerenciar_selecionados",{pastas:JSON.stringify(n),documentos:JSON.stringify(o),excluir:!0,exclusao_permanente:!0},(function(t){window.alert_saved("Lixeira esvaziada com sucesso"),e.component.refresh()})))}))}))}},showText:"always",location:"after",name:"BtnEsvaziarLixeira",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"trash",hint:"Excluir selecionados",text:"Excluir selecionados",onClick:function(t){var a=e.component.getSelectedRowsData(),o=a.filter((function(e){return"documento"===e.tipo.toLowerCase()})).map((function(e){return e.registro_id})),n=a.filter((function(e){return"pasta"===e.tipo.toLowerCase()})).map((function(e){return e.registro_id}));(o.length>0||n.length>0)&&Object(b.confirm)("Deseja excluir <strong>"+(o.length+n.length)+" registro(s)</strong> permanentemente?","Aten\xe7\xe3o").then((function(t){t&&v.a.post("documento/gerenciar_selecionados",{pastas:JSON.stringify(n),documentos:JSON.stringify(o),excluir:!0,exclusao_permanente:!0},(function(t){window.alert_saved("Registros exclu\xeddos com sucesso"),e.component.refresh()}))}))}},showText:"always",location:"after",name:"BtnExcluirSelecionados",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"revert",hint:"Restaurar selecionados",text:"Restaurar selecionados",onClick:function(t){var a=e.component.getSelectedRowsData(),o=a.filter((function(e){return"documento"===e.tipo.toLowerCase()})).map((function(e){return e.registro_id})),n=a.filter((function(e){return"pasta"===e.tipo.toLowerCase()})).map((function(e){return e.registro_id}));(o.length>0||n.length>0)&&Object(b.confirm)("Deseja restaurar <strong>"+(o.length+n.length)+" registro(s)</strong>?","Aten\xe7\xe3o").then((function(t){t&&v.a.post("documento/gerenciar_selecionados",{pastas:JSON.stringify(n),documentos:JSON.stringify(o),restaurar:!0},(function(t){window.alert_saved("Registros restaurados com sucesso"),e.component.refresh()}))}))}},showText:"always",location:"after",name:"BtnRestaurarSelecionados",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}}]),a}(p.a.Component);C.defaultProps={abaTitulo:"Lixeira de Documentos"}},1153:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(543),f=a.n(p),h=a(407),m=a(393),v=a(434),b=a.n(v),_=a(435),j=a(542),O=a.n(j),g=a(392),w=a(105),x=a(827),y=a(491),A=a(386),S=a(405),C=a(412),R=a(63),I=a.n(R),T={type:"buttons",buttons:[{hint:"Atividades",icon:"folder",cssClass:"icon_black",onClick:function(e){C.a.load("pdca/atividades",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data)}),C.a.ABA.MULTIPLAS)}},{hint:"Editar",icon:"edit",cssClass:"icon_black",onClick:function(e){C.a.load("pdca/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data,window.FORMULARIO.EDITAR)}),C.a.ABA.SIM)},visible:function(e){return P(e.row.data.equipe)}},{hint:"Favoritar",icon:"far fa-star",cssClass:"icon_black",visible:function(e){return!window.verifica_favorito("pdcas",e.row.data.pdca_id)},onClick:function(e){D(e,!0)}},{hint:"Desfavoritar",icon:"fas fa-star",cssClass:"icon_black",visible:function(e){return window.verifica_favorito("pdcas",e.row.data.pdca_id)},onClick:function(e){D(e,!1)}},{hint:"Excluir",icon:"fa fa-trash",cssClass:"icon_black",onClick:function(e){C.a.load("pdca/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data,window.FORMULARIO.EXCLUIR)}),C.a.ABA.SIM)},visible:function(e){return P(e.row.data.equipe)}}]},k=[{caption:"ID",dataField:"pdca_id",width:60,dataType:"number"},{dataField:"numero",caption:"C\xf3digo",width:90},{caption:"Objetivo",dataField:"objetivo"},{caption:"Categoria",dataField:"categoria_pdca_nome"},{dataField:"data_inicio",caption:"Data In\xedcio",dataType:"date",format:"dd/MM/yyyy",width:90},{dataField:"data_fim",caption:"Data Fim",dataType:"date",format:"dd/MM/yyyy",width:90},{caption:"Progresso",dataField:"progresso",width:100,cellTemplate:function(e,t){I()("<div />").attr({class:"cls","data-key":t.key}).dxProgressBar({min:0,max:100,value:t.data.progresso,hint:t.data.progresso+"%",statusFormat:function(e){return"Progresso: ".concat(100*e,"%")}}).appendTo(e),e.find(".dx-progressbar-container").css("height","10px")}},{caption:"Situa\xe7\xe3o",dataField:"situacao_id",allowFiltering:!1,allowHeaderFiltering:!0,alignment:"center",width:120,cellTemplate:function(e,t){var a="";switch(t.data.situacao){case"N\xe3o Iniciado":a="label-danger";break;case"Em Andamento":a="label-info";break;case"Conclu\xeddo":a="label-success";break;default:a="label-danger"}e.addClass("bg-"+a),I()("<span class='label "+a+"'>"+t.data.situacao+"</span>").appendTo(e)},headerFilter:{dataSource:[{text:"N\xe3o Iniciado",value:["situacao_id","=",0]},{text:"Em Andamento",value:["situacao_id","=",1]},{text:"Conclu\xeddo",value:["situacao_id","=",2]}]}},T],P=function(e){if(!0===w.a.sessao.dados.admin)return!0;var t=!1;return I()(e).each((function(e,a){w.a.sessao.dados.usuario_id===Number(a.usuario_id)&&"S"===a.gerente&&(t=!0)})),t},D=function(e,t){window.favoritar_item("pdcas",e.row.data.pdca_id,t),e.component.refresh()};function E(e){var t=e.card,a=e.main;switch(parseInt(t.situacao_id)){case window.PDCA_SITUACAO.NAO_INICIADO:t.label="danger";break;case window.PDCA_SITUACAO.EM_ANDAMENTO:t.label="info";break;case window.PDCA_SITUACAO.CONCLUIDO:t.label="success";break;default:t.label=""}return Object(o.jsxs)("div",{className:"card dx-card dx-theme-text-color dx-theme-background-color",children:[Object(o.jsx)("div",{className:"card-label card-label-".concat(t.label)}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-md-4",style:{paddingRight:"0px"},children:["ID: ",t.pdca_id]}),Object(o.jsx)("div",{className:"col-md-8 card-subject",children:t.numero})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",style:{paddingRight:"5px"},children:t.objetivo})}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-4",style:{paddingRight:"0px"},children:"In\xedcio"}),Object(o.jsxs)("div",{className:"col-md-8",children:[Object(o.jsx)("i",{className:"fas fa-calendar-day"})," ",window.formatar_data_humano(t.data_inicio)]})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-4",style:{paddingRight:"0px"},children:"Fim"}),Object(o.jsxs)("div",{className:"col-md-8",children:[Object(o.jsx)("i",{className:"fas fa-calendar-day"})," ",window.formatar_data_humano(t.data_fim)]})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-4",style:{paddingRight:"0px"},children:"Progresso"}),Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsx)(x.ProgressBar,{min:0,max:100,value:parseInt(t.progresso),onContentReady:function(e){e.component.element().find(".dx-progressbar-container").css("height","10px")}})})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-4",style:{paddingRight:"0px"},children:"Bot\xf5es"}),Object(o.jsx)("div",{className:"col-md-8",style:{paddingRight:"0px"},children:T.buttons.map((function(e){var n={row:{data:t},component:{refresh:function(){a.requestLists(a.props.arrColumns)}}};return Object(o.jsx)(y.Button,{icon:e.icon,hint:e.hint,onClick:function(){e.onClick(n)},visible:!e.visible||e.visible(n)},window.md5(Math.random()+new Date))}))})]})]})}var M=a(671),N=a(828),F=a.n(N);var L=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o,i;return Object(n.a)(this,a),(i=t.call(this,e)).state={builderValue:null,value:null!==(o=i.props.value)&&void 0!==o?o:null,popupVisible:!1},i}return Object(i.a)(a,[{key:"caption",value:function(){if(null===this.state.value)return"Criar filtro";return function e(t){var a="";return Array.isArray(t)&&t.forEach((function(t){Array.isArray(t)?(a+="( ",a+=e(t),a+=" ) "):a+=t+" "})),a}(this.state.value)}},{key:"limpar",value:function(){var e=this;if(null!==this.state.value)return Object(o.jsx)("div",{className:"dx-datagrid-filter-panel-clear-filter",tabIndex:"0",onClick:function(t){e.setState({builderValue:null,value:null},(function(){e.props.onValueChanged&&e.props.onValueChanged(e.state.value)}))},children:"Limpar"})}},{key:"filterValueChanged",value:function(e){this.setState({builderValue:e.value})}},{key:"onFilterBuilderOKClick",value:function(e){var t=this;this.setState({value:this.state.builderValue,popupVisible:!1},(function(){t.props.onValueChanged&&t.props.onValueChanged(t.state.value)}))}},{key:"onFilterBuilderCancelarClick",value:function(e){this.setState({builderValue:this.state.value,popupVisible:!1})}},{key:"render",value:function(){var e=this;return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsxs)(M.Popup,{visible:this.state.popupVisible,onHiding:this.onFilterBuilderCancelarClick.bind(this),dragEnabled:!1,hideOnOutsideClick:!1,hideOnParentScroll:!1,showCloseButton:!0,showTitle:!0,title:"Construtor de filtro",width:"80vw",height:"80vh",children:[Object(o.jsx)(F.a,{fields:this.props.fields,onValueChanged:this.filterValueChanged.bind(this),value:this.state.builderValue}),Object(o.jsx)(M.ToolbarItem,{widget:"dxButton",toolbar:"bottom",locateInMenu:"auto",location:"after",options:{text:"OK",onClick:this.onFilterBuilderOKClick.bind(this)}}),Object(o.jsx)(M.ToolbarItem,{widget:"dxButton",toolbar:"bottom",locateInMenu:"auto",location:"after",options:{text:"Cancelar",onClick:this.onFilterBuilderCancelarClick.bind(this)}})]}),Object(o.jsxs)("div",{className:"dx-datagrid-filter-panel",children:[Object(o.jsxs)("div",{className:"dx-datagrid-filter-panel-left",children:[Object(o.jsx)("div",{className:"dx-icon-filter",tabIndex:"0"}),Object(o.jsx)("div",{className:"dx-datagrid-filter-panel-text",tabIndex:"0",onClick:function(t){return e.setState({popupVisible:!0})},children:this.caption()})]}),this.limpar()]})]})}}]),a}(u.a.Component),U=a(1076),B=a.n(U);var z=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;Object(n.a)(this,a),(o=t.call(this,e)).requestLists=function(){var e=Object(_.a)(b.a.mark((function e(t){var a,o,n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],o=0;case 2:if(!(o<t.length)){e.next=12;break}return n=t[o],e.next=6,this.requestList(n.id);case 6:i=e.sent,this.props.arrColumns[o].skip=0,a.push(i);case 9:o++,e.next=2;break;case 12:this.setState({lists:a});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.requestList=function(){var e=Object(_.a)(b.a.mark((function e(t,a){var o,n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[this.props.columnFilterKey,"=",t],n=this.state.filterValue?[o,"and",this.state.filterValue]:o,e.next=4,g.a.get(this.props.route,{dx_grid:!0,skip:a||0,take:this.props.take,requireTotalCount:!0,filter:JSON.stringify(n)},null,null,null,null,null,null,null,!0);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),o.keyCount=0,o.getKey=o.getKey.bind(Object(r.a)(o));var i=o.props.arrColumns;return o.state={arrColumns:i,lists:[],filterValue:w.a.get_parametro_usuario("KanbanPdca")?w.a.get_parametro_usuario("KanbanPdca").filtro:null},o.requestLists(i),o}return Object(i.a)(a,[{key:"getKey",value:function(){return this.keyCount++}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{id:"kanban",className:"dx-theme-background-color",children:[Object(o.jsx)(O.a,{className:"scrollable-board",direction:"horizontal",showScrollbar:"always",children:this.state.lists.map((function(t,a){var n=e.state.arrColumns[a];return Object(o.jsx)(V,{title:n.descricao,index:a,cards:t,cardKey:e.props.cardKey,main:e},e.getKey())}))}),Object(o.jsx)(L,{fields:k,value:this.state.filterValue,onValueChanged:function(t){w.a.set_parametro_usuario("KanbanPdca",{filtro:t},(function(){e.setState({filterValue:t},(function(){return e.requestLists(e.state.arrColumns)}))}))}})]})}}]),a}(u.a.Component);function V(e){var t=e.title,a=e.index,n=e.cards,i=e.cardKey,r=e.main,s=function(){var e=Object(_.a)(b.a.mark((function e(t){var o,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.arrColumns[a].skip+=r.props.take,e.next=3,r.requestList(r.props.arrColumns[a].id,r.props.arrColumns[a].skip);case 3:o=e.sent,(n=JSON.parse(JSON.stringify(r.state.lists)))[a].data=[].concat(Object(m.a)(n[a].data),Object(m.a)(o.data)),n[a].totalCount=o.totalCount,r.setState({lists:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"list ".concat(B.a.kanbanList),style:{height:"calc(100vh - 143px)"},children:[Object(o.jsx)("div",{className:"list-title dx-theme-text-color titulo_lista",children:t}),Object(o.jsx)(O.a,{style:{height:"calc(100vh - 174px)"},className:"scrollable-list",direction:"vertical",showScrollbar:"always",onReachBottom:n.data.length<n.totalCount?s:null,onScroll:function(e){r.props.arrColumns[a].scrollOffset=e.scrollOffset},onInitialized:function(e){setTimeout((function(){e.component.scrollTo(r.props.arrColumns[a].scrollOffset)}))},children:n.data.map((function(e){return Object(o.jsx)(E,{card:e,main:r},e[i].toString())}))})]})}z.defaultProps={take:20,arrColumns:[],listKey:null,route:null};var G=a(829);var H=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(r.a)(o)),o}return Object(i.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Novo PDCA",text:"Novo PDCA",onClick:function(e){C.a.load("pdca/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),C.a.ABA.SIM)}},location:"after",name:"BtnNovoMotivoChamado",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar listagem de motivos",text:"Recarregar motivos",onClick:function(){this.listarMotivoChamado=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-cog",hint:"Configura\xe7\xf5es",text:"Configura\xe7\xf5es",onClick:function(){C.a.load("pdca/configuracoes",(function(e,t){t.show()}))},visible:w.a.sessao.dados.admin},showText:"inMenu",location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){var e=[].concat(k);return Object(o.jsx)(u.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)(f.a,{children:[Object(o.jsx)(p.Item,{title:"Lista",icon:"fas fa-list",children:Object(o.jsx)(h.default,{style:{height:"calc(100vh - 79px)"},stateStoring:Object(h.stateStoring)("DataGridPdca"),groupPanel:{visible:!1},onToolbarPreparing:this.onToolbarPreparing,dataSource:new S.default({pageSize:20,key:"pdca_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){g.a.get({route:"/pdca/listar/",data:Object(A.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(A.a)(Object(A.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){g.a.get({route:"/pdca/listar/",data:{dx_grid:!0,pdca_id:e},func_response:function(e){t(e.data)},func_fail:function(e){a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),columns:e})}),Object(o.jsx)(p.Item,{title:"Kanban",icon:"fab fa-trello",children:Object(o.jsx)(z,{arrColumns:window.PDCA_SITUACAO_LOOKUP,columnKey:"id",cardKey:"pdca_id",route:"pdca/listar/",columnFilterKey:"situacao_id"})}),Object(o.jsx)(p.Item,{title:"Gr\xe1ficos",icon:"fas fa-chart-bar",children:Object(o.jsx)(G.a,{route:"pdca/listar_contagem/",argumentField:"situacao",series:[{valueField:"qtde_nao_iniciado",name:"N\xe3o Iniciado",color:"#b80000"},{valueField:"qtde_andamento",name:"Em Andamento",color:"#699"},{valueField:"qtde_concluido",name:"Conclu\xeddo",color:"#008a2e"}],seriesPie:[{valueField:"qtde_situacao_id",name:"Situa\xe7\xe3o"}],customizePoint:function(e){var t=null;switch(parseInt(e.data.situacao_id)){case window.PDCA_SITUACAO.NAO_INICIADO:t="#b80000";break;case window.PDCA_SITUACAO.EM_ANDAMENTO:t="#699";break;case window.PDCA_SITUACAO.CONCLUIDO:t="#008a2e";break;default:t="#1cb2f5"}return{color:t}},chartTypes:["bar","pie","donut"]})})]})})})})}}]),a}(u.a.Component);H.defaultProps={abaTitulo:"PDCA - 5W2H"};t.default=H},1155:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(434),p=a.n(u),f=a(435),h=a(386),m=a(393),v=a(387),b=a(407),_=a(672),j=a(832),O=a(390),g=a(470),w=a(412),x=a(105),y=a(392),A=a(452),S=a(405);var C=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o;Object(n.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(v.a)(o)),o.stateStoring=o.stateStoring.bind(Object(v.a)(o)),o.onContextMenuPreparing=o.onContextMenuPreparing.bind(Object(v.a)(o)),o.onContentReady=o.onContentReady.bind(Object(v.a)(o)),o.handleSelectBoxChange=o.handleSelectBoxChange.bind(Object(v.a)(o)),o.getKey=o.getKey.bind(Object(v.a)(o)),o.exibirFiltrosAdicionais=o.exibirFiltrosAdicionais.bind(Object(v.a)(o)),o.onRowClick=o.onRowClick.bind(Object(v.a)(o)),o.onRowPrepared=o.onRowPrepared.bind(Object(v.a)(o)),o.filtro_solicitacao_numero=o.props.filtro_solicitacao_numero>0?o.props.filtro_solicitacao_numero:null,o.filtro_tipo_listagem="string"===typeof o.props.filtro_tipo_listagem||"number"===typeof o.props.filtro_tipo_listagem?o.props.filtro_tipo_listagem:null,o.filtro_solicitante="string"===typeof o.props.filtro_solicitante||"number"===typeof o.props.filtro_solicitante?o.props.filtro_solicitante:null,o.filtro_responsavel="string"===typeof o.props.filtro_responsavel||"number"===typeof o.props.filtro_responsavel?o.props.filtro_responsavel:null,o.filtro_cliente="string"===typeof o.props.filtro_cliente||"number"===typeof o.props.filtro_cliente?o.props.filtro_cliente:null,o.hasFilters=null!==o.filtro_solicitacao_numero||null!==o.filtro_tipo_listagem||null!==o.filtro_cliente||null!==o.filtro_solicitante||null!==o.filtro_responsavel,o.dataGridRef=d.a.createRef(),o.gridStateStoring=o.stateStoring(),o.parametrosUsuario=x.a.get_parametro_usuario("solicitacao"),o.listResponsaveisModoTeste=Object(_.b)(),o.keyCount=0;var i=window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,r=!1,s=0,c="";return o.parametrosUsuario&&("undefined"!==typeof o.parametrosUsuario.tipoListagem&&null!==o.parametrosUsuario.tipoListagem&&""!==o.parametrosUsuario.tipoListagem&&+o.parametrosUsuario.tipoListagem!==window.SOLICITACAO_FILTROS.TODAS&&(i=+o.parametrosUsuario.tipoListagem),o.parametrosUsuario.obj_param?(r="undefined"!==typeof o.parametrosUsuario.obj_param.modo_teste&&o.parametrosUsuario.obj_param.modo_teste,s="undefined"!==typeof o.parametrosUsuario.obj_param.modo_teste_responsavel_id?o.parametrosUsuario.obj_param.modo_teste_responsavel_id:0,c="undefined"!==typeof o.parametrosUsuario.obj_param.modo_teste_responsavel_nome?o.parametrosUsuario.obj_param.modo_teste_responsavel_nome:""):o.parametrosUsuario.obj_param={}),null!==o.filtro_solicitacao_numero&&(i=window.SOLICITACAO_FILTROS.TODAS),null!==o.filtro_tipo_listagem&&(i=o.filtro_tipo_listagem),o.state={dataSource:Object(_.a)(i,null,null,r,s,o.filtro_solicitante,o.filtro_responsavel,o.filtro_cliente),tipoListagem:+i,modo_teste:r,modo_teste_responsavel_id:s,modo_teste_responsavel_nome:c,filtro_solicitacao_numero:o.filtro_solicitacao_numero},o}return Object(i.a)(a,[{key:"getKey",value:function(){return this.keyCount++}},{key:"render",value:function(){var e=this,t=[].concat(Object(m.a)(Object(j.a)(x.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo,this.filtro_solicitacao_numero)),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(g.a,{hint:"Visualizar Atividade",icon:"fas fa-list-alt",onClick:function(t){return e.handleBtnEditarClick(t,window.FORMULARIO.EDITAR,e.state.modo_teste_responsavel_nome,e.state.modo_teste)}}),",",Object(o.jsx)(g.a,{hint:"Visualizar Solicita\xe7\xe3o",icon:"fas fa-sitemap",onClick:function(t){return e.handleBtnEditarClick(t,window.FORMULARIO.VISUALIZAR,e.state.modo_teste_responsavel_nome,e.state.modo_teste)},visible:function(e){return!0===x.a.sessao.dados.admin||!0===e.row.data.acesso_supervisor}}),","]},"buttonsAtividade")]),a=this.hasFilters?{height:"calc(100vh - 117px)"}:{height:"calc(100vh - 78px)"};return Object(o.jsxs)(d.a.Fragment,{children:[this.hasFilters&&Object(o.jsxs)("div",{className:"text-warning dx-theme-background-color",style:{padding:10,fontWeight:"bold",fontSize:14},children:[Object(o.jsx)("i",{className:"fas fa-info-circle"}),"\xa0",Object(o.jsx)("span",{children:"Filtros externos aplicados"}),"\xa0",Object(o.jsxs)("small",{children:["( ",Object(o.jsx)("span",{style:{cursor:"pointer"},onClick:this.exibirFiltrosAdicionais,children:"visualizar"})," )"]})]}),Object(o.jsx)(b.default,{ref:this.dataGridRef,dataSource:this.state.dataSource,style:Object(h.a)(Object(h.a)({},a),{},{width:"100%"}),stateStoring:this.gridStateStoring,onToolbarPreparing:this.onToolbarPreparing,onContextMenuPreparing:this.onContextMenuPreparing,onContentReady:this.onContentReady,selection:{mode:"multiple"},pager:{showInfo:!0,showPageSizeSelector:!0,allowedPageSizes:[20,50,100]},onRowClick:this.onRowClick,onRowPrepared:this.onRowPrepared,children:t},this.getKey())]})}},{key:"handleBtnEditarClick",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=null;e.row?n=e.row.data:e.data&&(n=e.data),w.a.load("solicitacao/detalhes",(function(i,r){r.onclose=e.component.refresh,r.show(n.solicitacao_atividade_id,t,a,o)}),w.a.ABA.MULTIPLAS)}},{key:"handleSelectBoxChange",value:function(e){var t=this;if(this.dataGridRef&&this.dataGridRef.current&&e.selectedItem&&+e.selectedItem.id!==+this.state.tipoListagem){var a=function(a){e.component.option("value",+a),t.setState({dataSource:Object(_.a)(a,null,null,t.state.modo_teste,t.state.modo_teste_responsavel_id),tipoListagem:+a},Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(+t.state.tipoListagem===window.SOLICITACAO_FILTROS.TODAS){e.next=5;break}return e.next=3,x.a.get_parametro_usuario("solicitacao");case 3:t.parametrosUsuario=e.sent,x.a.set_parametro_usuario("solicitacao",Object(h.a)(Object(h.a)({},t.parametrosUsuario),{},{tipoListagem:+t.state.tipoListagem}));case 5:case"end":return e.stop()}}),e)}))))},o=this.dataGridRef.current._instance;if(o._resetPageIndex=!0,o._clearSelectedRows=!0,+e.selectedItem.id===window.SOLICITACAO_FILTROS.TODAS)Object(A.confirm)("Listar todas as Solicita\xe7\xf5es poder\xe1 levar um tempo. Deseja continuar?","Aten\xe7\xe3o").then((function(e){a(e?window.SOLICITACAO_FILTROS.TODAS:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS)}));else a(+e.selectedItem.id)}}},{key:"stateStoring",value:function(){return{enabled:!this.hasFilters,type:"custom",customLoad:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacao");case 2:return t=e.sent,e.abrupt("return",t.datagrid);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),customSave:function(e){return x.a.set_parametro_usuario("solicitacao",{datagrid:e})}}}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{id:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,descricao:"Minhas Pend\xeancias",categoria:"Minhas"},{id:window.SOLICITACAO_FILTROS.MINHAS_SOLICITACOES_CONCLUIDA,descricao:"Minhas Solicita\xe7\xf5es Conclu\xeddas",categoria:"Minhas"},{id:window.SOLICITACAO_FILTROS.MINHAS_SOLICITACOES_EM_ABERTO,descricao:"Minhas Solicita\xe7\xf5es em Andamento",categoria:"Minhas"},{id:window.SOLICITACAO_FILTROS.SUPERVISIONADOS,descricao:"Processos Supervisionados",categoria:"Geral",visible:"S"===x.a.sessao.dados.supervisor_processo||"S"===x.a.sessao.dados.supervisor_processo_usuario||"S"===x.a.sessao.dados.supervisor_processo_grupo_usuario},{id:window.SOLICITACAO_FILTROS.ATRASADAS,descricao:"Atividades Atrasadas",categoria:"Geral"},{id:window.SOLICITACAO_FILTROS.TODAS,descricao:"Todas Atividades",categoria:"Geral"},{id:window.SOLICITACAO_FILTROS.TODAS_ANDAMENTO,descricao:"Solicita\xe7\xf5es em Andamento",categoria:"Situa\xe7\xe3o"},{id:window.SOLICITACAO_FILTROS.CANCELADAS,descricao:"Solicita\xe7\xf5es Canceladas",categoria:"Situa\xe7\xe3o"},{id:window.SOLICITACAO_FILTROS.CONCLUIDAS,descricao:"Solicita\xe7\xf5es Conclu\xeddas",categoria:"Situa\xe7\xe3o"}],o=[{widget:"dxTextBox",location:"after",locateInMenu:"auto",options:{width:"140px",placeholder:"N\xba Solicita\xe7\xe3o",value:this.state.filtro_solicitacao_numero,buttons:[{location:"before",name:"pesquisar",options:{icon:"search",disabled:!0}}],onEnterKey:function(e){var a=e.component.option("value");if(null!==a&&""!==a.trim()){var o="S"!==x.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?a:null,n="S"===x.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?a:null;t.setState({dataSource:Object(_.a)(window.SOLICITACAO_FILTROS.TODAS,o,n,t.state.modo_teste,t.state.modo_teste_responsavel_id),tipoListagem:window.SOLICITACAO_FILTROS.TODAS,filtro_solicitacao_numero:a})}else t.setState({dataSource:Object(_.a)(window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,null,null,t.state.modo_teste,t.state.modo_teste_responsavel_id),tipoListagem:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,filtro_solicitacao_numero:null})}}},{widget:"dxSelectBox",visible:!0===this.state.modo_teste,name:"selectResponsavelTeste",locateInMenu:"auto",options:{dataSource:new S.default({store:this.listResponsaveisModoTeste,paginate:!0,pageSize:10}),valueExpr:"id",displayExpr:"nome",searchEnabled:!0,searchModeOption:"contains",searchExprOption:"nome",width:"250px",placeholder:"Respons\xe1vel (Modo Teste)",value:this.state.modo_teste_responsavel_id,onValueChanged:function(e){var a=e.value,o=e.component.option("text");t.setState({modo_teste_responsavel_id:a,modo_teste_responsavel_nome:o,dataSource:Object(_.a)(t.state.tipoListagem,null,null,t.state.modo_teste,a)},Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacao");case 2:t.parametrosUsuario=e.sent,x.a.set_parametro_usuario("solicitacao",Object(h.a)(Object(h.a)({},t.parametrosUsuario),{},{obj_param:Object(h.a)(Object(h.a)({},t.parametrosUsuario.obj_param),{},{modo_teste_responsavel_id:a,modo_teste_responsavel_nome:o})}));case 4:case"end":return e.stop()}}),e)}))))}}},{widget:"dxSelectBox",locateInMenu:"auto",options:{dataSource:new S.default({store:a,group:"categoria"}),width:"250px",placeholder:"Filtrar por",valueExpr:"id",displayExpr:"descricao",value:+this.state.tipoListagem,grouped:!0,onSelectionChanged:this.handleSelectBoxChange},location:"after"},{widget:"dxButton",options:{icon:"plus",hint:"Nova Solicita\xe7\xe3o",text:"Nova Solicita\xe7\xe3o",onClick:function(){w.a.load("solicitacao/nova",(function(a,o){o.onclose=e.component.refresh,o.show(null,null,null,null,null,null,null,null,t.state.modo_teste,t.state.modo_teste_responsavel_id,!1,t.state.modo_teste_responsavel_nome)}))}},location:"after",name:"BtnNovaSolicitacao",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-flask",hint:"Habilitar Modo Teste",text:"Habilitar Modo Teste",onClick:function(){t.setState({modo_teste:!t.state.modo_teste,dataSource:Object(_.a)(t.state.tipoListagem,null,null,!t.state.modo_teste,t.state.modo_teste_responsavel_id)},Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacao");case 2:t.parametrosUsuario=e.sent,x.a.set_parametro_usuario("solicitacao",Object(h.a)(Object(h.a)({},t.parametrosUsuario),{},{obj_param:Object(h.a)(Object(h.a)({},t.parametrosUsuario.obj_param),{},{modo_teste:t.state.modo_teste})}));case 4:case"end":return e.stop()}}),e)}))))},onInitialized:function(e){!0===t.state.modo_teste&&e.component.element().addClass("dx-state-active")}},showText:"inMenu",location:"after",name:"BtnModoTeste",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(o,e.toolbarOptions.items)}},{key:"onContextMenuPreparing",value:function(e){var t=this;if("header"===e.target&&Array.isArray(e.items)&&e.items.push(Object(b.itemRestaurarEstadoDasColunas)(e)),e.row&&"data"===e.row.rowType){var a=function(t){y.a.post("solicitacao/cancelar_atividades/",{atividades_selecionadas:t},(function(){window.alert_saved("Atividades canceladas com sucesso"),e.component.refresh()}))},o=function(t){y.a.post("solicitacao/restaurar_atividades/",{atividades_selecionadas:t},(function(){window.alert_saved("Atividades restauradas com sucesso"),e.component.refresh()}))},n=!1,i=!1,r=e.component.getSelectedRowsData(),s=e.component.getCombinedFilter(),c=new S.default({store:r,pageSize:0});c.filter(s),c.load().done((function(r){if(r.length>0){n=!0,i=!0;for(var s=0;s<r.length;s++){var c=r[s];(!c.supervisor_permite_edicao||c.entrega||"N"!==c.cancelada||+c.situacao===window.SOLICITACAO_STATUS.ATIVIDADE_CANCELADA||c.data_finalizacao)&&(n=!1),c.supervisor_permite_edicao&&"N"===c.cancelada&&c.situacao===window.SOLICITACAO_STATUS.ATIVIDADE_CANCELADA&&!c.data_finalizacao||(i=!1)}}e.items=[{text:"Visualizar Atividade",visible:!0,onItemClick:function(){return t.handleBtnEditarClick(e,window.FORMULARIO.EDITAR,t.state.modo_teste_responsavel_nome)}},{text:"Visualizar Processo",visible:!0,onItemClick:function(){return t.handleBtnEditarClick(e,window.FORMULARIO.VISUALIZAR,t.state.modo_teste_responsavel_nome)}},{beginGroup:!0,text:"Copiar para uma nova Solicita\xe7\xe3o",visible:!0,onItemClick:function(){var a={processo_id:e.row.data.processo_id,copiar_solicitacao_id:e.row.data.solicitacao_id,modo_teste:t.state.modo_teste,modo_teste_responsavel_id:t.state.modo_teste_responsavel_id};y.a.post("solicitacao/nova/",a,(function(a){w.a.load("solicitacao/detalhes",(function(o,n){n.onclose=e.component.refresh,n.show(a,window.FORMULARIO.NOVO,t.state.modo_teste_responsavel_nome,t.state.modo_teste)}),w.a.ABA.MULTIPLAS)}))}},{beginGroup:!0,text:"Retornar para esta Atividade e cancelar as posteriores",visible:e.row.data.supervisor_permite_edicao&&(!!e.row.data.entrega||!!e.row.data.retorno)&&"N"===e.row.data.cancelada&&e.row.data.situacao!==window.SOLICITACAO_STATUS.ATIVIDADE_CANCELADA&&!e.row.data.data_finalizacao,onItemClick:function(){window.DevExpress.ui.dialog.custom({title:"Aviso",messageHtml:"Tem certeza que deseja <strong>retornar a Solicita\xe7\xe3o para esta Atividade</strong> e cancelar as Atividades posteriores a ela? Essa a\xe7\xe3o \xe9 irrevers\xedvel!",buttons:[{text:"Sim",onClick:function(){window.alert_info("Retornando solicita\xe7\xe3o para a atividade selecionada"),y.a.post("solicitacao/retornar_atividade/",{solicitacao_atividade_id:e.row.data.solicitacao_atividade_id,solicitacao_id:e.row.data.solicitacao_id,cancelar_posteriores:!0},(function(){window.alert_saved("Atividade retornada com sucesso"),e.component.refresh()}))}},{text:"N\xe3o",onClick:function(){return!1}}]}).show()}},{text:"Cancelar Atividade",visible:e.row.data.supervisor_permite_edicao&&!e.row.data.entrega&&"N"===e.row.data.cancelada&&e.row.data.situacao!==window.SOLICITACAO_STATUS.ATIVIDADE_CANCELADA&&!e.row.data.data_finalizacao,onItemClick:function(){return a([e.row.data])}},{text:"Cancelar Atividades selecionadas",visible:n,onItemClick:function(){return a(r)}},{text:"Restaurar Atividade",visible:e.row.data.supervisor_permite_edicao&&"N"===e.row.data.cancelada&&+e.row.data.situacao===window.SOLICITACAO_STATUS.ATIVIDADE_CANCELADA,onItemClick:function(){return o([e.row.data])}},{text:"Restaurar Atividades selecionadas",visible:i,onItemClick:function(){return o(r)}}]}))}}},{key:"onContentReady",value:function(e){e.component._clearState&&(e.component.state({}),e.component._clearState=!1),e.component._clearSelectedRows&&(e.component.clearSelection(),e.component._clearSelectedRows=!1),e.component._resetPageIndex&&(e.component.pageIndex(0),e.component._resetPageIndex=!1),setTimeout((function(){return e.component.updateDimensions()}),100)}},{key:"exibirFiltrosAdicionais",value:function(){var e="Essa mensagem significa que a listagem de Solicita\xe7\xf5es de Processos foi aberta externamente com filtros pr\xe9 definidos.<br><br>Nesse caso, os filtros salvos do usu\xe1rio n\xe3o ser\xe3o carregados e nem salvos na sess\xe3o, mas ser\xe3o preservados quando a tela for aberta pelo menu do sistema.<br><br>Filtros aplicados:";e+="<ul>",this.filtro_tipo_listagem&&(e+="<li>Tipo de Listagem</li>"),this.filtro_solicitacao_numero&&(e+="<li>N\xfamero da Solicita\xe7\xe3o</li>"),this.filtro_solicitante&&(e+="<li>Solicitante</li>"),this.filtro_responsavel&&(e+="<li>Respons\xe1vel</li>"),this.filtro_cliente&&(e+="<li>Cliente</li>"),e+="</ul>",Object(A.alert)(e,"Filtros Externos")}},{key:"onRowClick",value:function(e){var t=this;window.onDoubleClick(e,(function(){t.handleBtnEditarClick(e,window.FORMULARIO.EDITAR,t.state.modo_teste_responsavel_nome,t.state.modo_teste)}))}},{key:"onRowPrepared",value:function(e){if(x.a.PE.Solicitacao_Listagem_onRowPrepared)try{x.a.PE.Solicitacao_Listagem_onRowPrepared(e)}catch(e){console.log(e)}}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(d.a.Component),R=a(577),I=a.n(R),T=(a(833),a(492)),k=a(420),P=a(567),D=a(526),E=a(507),M=a(63),N=a.n(M),F=[{id:"1",descricao:"Conclu\xedda"},{id:"2",descricao:"Cancelada"},{id:"3",descricao:"Andamento"},{id:"4",descricao:"Atrasada"}];var L=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o;Object(n.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(v.a)(o)),o.handleBtnEditarClick=o.handleBtnEditarClick.bind(Object(v.a)(o)),o.handleSelectBoxChange=o.handleSelectBoxChange.bind(Object(v.a)(o)),o.stateStoring=o.stateStoring.bind(Object(v.a)(o)),o.onRowClick=o.onRowClick.bind(Object(v.a)(o)),o.dataGridRef=d.a.createRef(),o.parametrosUsuario=x.a.get_parametro_usuario("solicitacoesProcesso"),o.gridStateStoring=o.stateStoring(),o.listResponsaveisModoTeste=Object(_.b)();var i=window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,r=!1,s=0,c="";return o.parametrosUsuario&&("undefined"!==typeof o.parametrosUsuario.tipoListagem&&null!==o.parametrosUsuario.tipoListagem&&""!==o.parametrosUsuario.tipoListagem&&+o.parametrosUsuario.tipoListagem!==window.SOLICITACAO_FILTROS.TODAS&&(i=+o.parametrosUsuario.tipoListagem),o.parametrosUsuario.obj_param?(r="undefined"!==typeof o.parametrosUsuario.obj_param.modo_teste&&o.parametrosUsuario.obj_param.modo_teste,s="undefined"!==typeof o.parametrosUsuario.obj_param.modo_teste_responsavel_id?o.parametrosUsuario.obj_param.modo_teste_responsavel_id:0,c="undefined"!==typeof o.parametrosUsuario.obj_param.modo_teste_responsavel_nome?o.parametrosUsuario.obj_param.modo_teste_responsavel_nome:""):o.parametrosUsuario.obj_param={}),o.state={dataSource:Object(_.c)(i,r,s),tipoListagem:i,modo_teste:r,modo_teste_responsavel_id:s,modo_teste_responsavel_nome:c,filtro_solicitacao_numero:null},o}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this,a=[].concat(Object(m.a)((e=x.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo,[Object(o.jsx)(T.a,{dataField:"S"===e?"numero":"solicitacao_id",allowGrouping:!1,caption:"#",sortIndex:0,sortOrder:"desc",width:100,dataType:"number"},"numero_solicitacao_por_processo"),Object(o.jsx)(k.a,{dataField:"processo_nome",caption:"Processo",sortIndex:1,sortOrder:"asc",width:500},"processo_nome"),Object(o.jsx)(P.a,{dataField:"usuario_solicitacao_nome",caption:"Solicitante",width:180},"usuario_solicitacao_nome"),Object(o.jsx)(D.a,{dataField:"data",caption:"In\xedcio Solicita\xe7\xe3o",width:180,allowGrouping:!1,allowHeaderFiltering:!1},"data"),Object(o.jsx)(k.a,{dataField:"cliente_nome",caption:"Cliente",width:600},"cliente_nome"),Object(o.jsx)(E.a,{dataField:"solicitacao_situacao",caption:"Situa\xe7\xe3o Solicita\xe7\xe3o",width:120,lookup:{dataSource:F,displayExpr:"descricao",valueExpr:"id"},cellTemplate:function(e,t){var a="",o="";switch(+t.data.solicitacao_situacao){case 1:a="label-success",o="Conclu\xedda";break;case 2:a="label-danger",o="Cancelada";break;case 3:a="label-info",o="Em Andamento";break;case 4:a="label-danger",o="Atrasada"}e.css({textAlign:"center"}).addClass("bg-"+a),N()("<span>").text(o).css({color:"#FFF"}).appendTo(e)}},"solicitacao_situacao")])),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(g.a,{hint:"Visualizar Solicita\xe7\xe3o",icon:"fas fa-sitemap",onClick:function(e){return t.handleBtnEditarClick(e,window.FORMULARIO.VISUALIZAR,t.state.modo_teste_responsavel_nome,t.state.modo_teste)},visible:function(e){return!0===x.a.sessao.dados.admin||!0===e.row.data.acesso_supervisor}}),","]},"buttonsSolicitacoes")]);return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsxs)(b.default,{ref:this.dataGridRef,dataSource:this.state.dataSource,style:{height:"calc(100vh - 85px)",width:"100%"},stateStoring:this.gridStateStoring,onToolbarPreparing:this.onToolbarPreparing,selection:{mode:"multiple"},pager:{showInfo:!0,showPageSizeSelector:!0,allowedPageSizes:[20,50,100]},keyExpr:"solicitacao_id",onRowClick:this.onRowClick,rowAlternationEnabled:!1,onRowExpanded:function(e){var t=e.component.getRowIndexByKey(e.key),a=e.component.getRowElement(t);a.css({background:"#DBDBDB"}),a.parent().find(".dx-master-detail-cell").css({background:"#FFF"})},onRowCollapsed:function(e){var t=e.component.getRowIndexByKey(e.key);e.component.getRowElement(t).css({background:""})},onRowPrepared:function(e){if("data"===e.rowType){var t=e.rowElement;e.isExpanded?(t.css({background:"#DBDBDB"}),t.parent().find(".dx-master-detail-row").css({background:"#FFF"})):t.css({background:""})}},showBorders:!1,children:[a,Object(o.jsx)(O.MasterDetail,{enabled:!0,template:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacoesProcesso");case 2:o=e.sent,I.a.render(d.a.createElement(window.views.solicitacao_processo.ListagemAtividadesMasterDetail.default,{data:a.data,obj_param:o.obj_param}),t[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})]})})}},{key:"handleBtnEditarClick",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=null;e.row?n=e.row.data:e.data&&(n=e.data),w.a.load("solicitacao/detalhes",(function(i,r){r.onclose=e.component.refresh,r.show(n.solicitacao_atividade_id,t,a,o)}),w.a.ABA.MULTIPLAS)}},{key:"handleSelectBoxChange",value:function(e){var t=this;if(this.dataGridRef&&this.dataGridRef.current&&e.selectedItem&&e.selectedItem.id!==this.state.tipoListagem){var a=function(a){e.component.option("value",+a),t.setState({dataSource:Object(_.c)(a,t.state.modo_teste,t.state.modo_teste_responsavel_id),tipoListagem:+a},Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacoesProcesso");case 2:t.parametrosUsuario=e.sent,+t.state.tipoListagem!==window.SOLICITACAO_FILTROS.TODAS&&x.a.set_parametro_usuario("solicitacoesProcesso",Object(h.a)(Object(h.a)({},t.parametrosUsuario),{},{tipoListagem:+t.state.tipoListagem}));case 4:case"end":return e.stop()}}),e)}))))},o=this.dataGridRef.current._instance;if(o._resetPageIndex=!0,o._clearSelectedRows=!0,+e.selectedItem.id===window.SOLICITACAO_FILTROS.TODAS)Object(A.confirm)("Listar todas as Solicita\xe7\xf5es poder\xe1 levar um tempo. Deseja continuar?","Aten\xe7\xe3o").then((function(e){a(e?window.SOLICITACAO_FILTROS.TODAS:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS)}));else a(+e.selectedItem.id)}}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{id:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,descricao:"Minhas Pend\xeancias",categoria:"Minhas"},{id:window.SOLICITACAO_FILTROS.MINHAS_SOLICITACOES_CONCLUIDA,descricao:"Minhas Solicita\xe7\xf5es Conclu\xeddas",categoria:"Minhas"},{id:window.SOLICITACAO_FILTROS.MINHAS_SOLICITACOES_EM_ABERTO,descricao:"Minhas Solicita\xe7\xf5es em Andamento",categoria:"Minhas"},{id:window.SOLICITACAO_FILTROS.SUPERVISIONADOS,descricao:"Processos Supervisionados",categoria:"Geral",visible:"S"===x.a.sessao.dados.supervisor_processo||"S"===x.a.sessao.dados.supervisor_processo_usuario||"S"===x.a.sessao.dados.supervisor_processo_grupo_usuario},{id:window.SOLICITACAO_FILTROS.ATRASADAS,descricao:"Solicita\xe7\xf5es Atrasadas",categoria:"Geral"},{id:window.SOLICITACAO_FILTROS.TODAS,descricao:"Todas Solicita\xe7\xf5es",categoria:"Geral"},{id:window.SOLICITACAO_FILTROS.TODAS_ANDAMENTO,descricao:"Solicita\xe7\xf5es em Andamento",categoria:"Situa\xe7\xe3o"},{id:window.SOLICITACAO_FILTROS.CANCELADAS,descricao:"Solicita\xe7\xf5es Canceladas",categoria:"Situa\xe7\xe3o"},{id:window.SOLICITACAO_FILTROS.CONCLUIDAS,descricao:"Solicita\xe7\xf5es Conclu\xeddas",categoria:"Situa\xe7\xe3o"}],o=[{widget:"dxTextBox",location:"after",locateInMenu:"auto",options:{width:"140px",placeholder:"N\xba Solicita\xe7\xe3o",value:this.state.filtro_solicitacao_numero,buttons:[{location:"before",name:"pesquisar",options:{icon:"search",disabled:!0}}],onEnterKey:function(e){var a=e.component.option("value");if(null!==a&&""!==a.trim()){var o="S"!==x.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?a:null,n="S"===x.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?a:null;t.setState({dataSource:Object(_.c)(window.SOLICITACAO_FILTROS.TODAS,t.state.modo_teste,t.state.modo_teste_responsavel_id,o,n),tipoListagem:window.SOLICITACAO_FILTROS.TODAS,filtro_solicitacao_numero:a})}else t.setState({dataSource:Object(_.c)(window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,t.state.modo_teste,t.state.modo_teste_responsavel_id),tipoListagem:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,filtro_solicitacao_numero:null})}}},{widget:"dxSelectBox",visible:!0===this.state.modo_teste,locateInMenu:"auto",options:{dataSource:new S.default({store:this.listResponsaveisModoTeste,paginate:!0,pageSize:10}),valueExpr:"id",displayExpr:"nome",searchEnabled:!0,searchModeOption:"contains",searchExprOption:"nome",width:"250px",placeholder:"Respons\xe1vel (Modo Teste)",value:this.state.modo_teste_responsavel_id,onValueChanged:function(e){var a=e.value,o=e.component.option("text");t.setState({modo_teste_responsavel_id:a,modo_teste_responsavel_nome:o,dataSource:Object(_.c)(t.state.tipoListagem,t.state.modo_teste,a)},Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacoesProcesso");case 2:t.parametrosUsuario=e.sent,x.a.set_parametro_usuario("solicitacoesProcesso",Object(h.a)(Object(h.a)({},t.parametrosUsuario),{},{obj_param:Object(h.a)(Object(h.a)({},t.parametrosUsuario.obj_param),{},{modo_teste_responsavel_id:a,modo_teste_responsavel_nome:o})}));case 4:case"end":return e.stop()}}),e)}))))}}},{widget:"dxSelectBox",locateInMenu:"auto",options:{dataSource:new S.default({store:a,group:"categoria"}),width:"250px",placeholder:"Filtrar por",valueExpr:"id",displayExpr:"descricao",value:+this.state.tipoListagem,grouped:!0,onSelectionChanged:this.handleSelectBoxChange},location:"after"},{widget:"dxButton",options:{icon:"plus",hint:"Nova Solicita\xe7\xe3o",text:"Nova Solicita\xe7\xe3o",onClick:function(){w.a.load("solicitacao/nova",(function(a,o){o.onclose=e.component.refresh,o.show(null,null,null,null,null,null,null,null,t.state.modo_teste,t.state.modo_teste_responsavel_id,!1,t.state.modo_teste_responsavel_nome)}))}},location:"after",name:"BtnNovaSolicitacao",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-flask",hint:"Habilitar Modo Teste",text:"Habilitar Modo Teste",onClick:function(e){t.setState({modo_teste:!t.state.modo_teste,dataSource:Object(_.c)(t.state.tipoListagem,!t.state.modo_teste,t.state.modo_teste_responsavel_id)},Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get_parametro_usuario("solicitacoesProcesso");case 2:t.parametrosUsuario=e.sent,x.a.set_parametro_usuario("solicitacoesProcesso",Object(h.a)(Object(h.a)({},t.parametrosUsuario),{},{obj_param:Object(h.a)(Object(h.a)({},t.parametrosUsuario.obj_param),{},{modo_teste:t.state.modo_teste})}));case 4:case"end":return e.stop()}}),e)}))))},onInitialized:function(e){!0===t.state.modo_teste&&e.component.element().addClass("dx-state-active")}},showText:"inMenu",location:"after",name:"BtnModoTeste",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-compress-alt",hint:"Recolher todas as linhas",text:"Recolher todas as linhas",onClick:function(t){e.component.collapseAll(-1)}},showText:"inMenu",location:"after",name:"BtnRecolherLinhas",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(o,e.toolbarOptions.items)}},{key:"stateStoring",value:function(){return{enabled:!0,type:"custom",customLoad:function(){return x.a.get_parametro_usuario("solicitacoesProcesso").datagrid},customSave:function(e){return x.a.set_parametro_usuario("solicitacoesProcesso",{datagrid:e})}}}},{key:"onRowClick",value:function(e){var t=this;if(!0===x.a.sessao.dados.admin||!0===e.data.acesso_supervisor){window.onDoubleClick(e,(function(){t.handleBtnEditarClick(e,window.FORMULARIO.VISUALIZAR,t.state.modo_teste_responsavel_nome,t.state.modo_teste)}))}}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(d.a.Component),U=a(543),B=a.n(U);var z=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsxs)(B.a,{children:[Object(o.jsx)(U.Item,{title:"Atividades",icon:"fas fa-list-alt",children:Object(o.jsx)(C,{filtro_solicitacao_numero:this.props.filtro_solicitacao_numero,filtro_tipo_listagem:this.props.filtro_tipo_listagem,filtro_solicitante:this.props.filtro_solicitante,filtro_responsavel:this.props.filtro_responsavel,filtro_cliente:this.props.filtro_cliente})}),Object(o.jsx)(U.Item,{title:"Processos",icon:"fas fa-sitemap",children:Object(o.jsx)(L,{})})]})})}}]),a}(d.a.Component);z.defaultProps={abaTitulo:"Solicita\xe7\xf5es de Processos"}},1156:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));var o=a(373),n=a(434),i=a.n(n),r=a(435),s=a(365),c=a(366),l=a(387),d=a(368),u=a(369),p=a(367),f=a(383),h=a.n(f),m=a(543),v=a.n(m),b=a(386),_=a(405),j=a(392),O=Object.freeze({agendaEvento:1,tarefaCartao:2,chamado:3,documentoAprovacaoAlcada:4,documentoDistribuicaoControlada:5,processoSolicitacaoAtividade:6,projetoAtividade:7,pdcaAtividade:9,crmOportunidade:10,crmOportunidadeOrcamento:11,crmOportunidadeAgenda:12}),g=[{id:O.agendaEvento,descricao:"Agenda Evento"},{id:O.tarefaCartao,descricao:"Tarefa Cart\xe3o"},{id:O.chamado,descricao:"Chamado"},{id:O.documentoAprovacaoAlcada,descricao:"Documento Aprova\xe7\xe3o"},{id:O.documentoDistribuicaoControlada,descricao:"Documento Distribui\xe7\xe3o"},{id:O.processoSolicitacaoAtividade,descricao:"Atividade de Processo"},{id:O.projetoAtividade,descricao:"Atividade de Projeto"},{id:O.pdcaAtividade,descricao:"Atividade de PDCA"},{id:O.crmOportunidade,descricao:"Oportunidade"},{id:O.crmOportunidadeOrcamento,descricao:"Oportunidade Or\xe7amento"},{id:O.crmOportunidadeAgenda,descricao:"Oportunidade Agenda"}],w=Object.freeze({noPrazo:"P",atrasado:"AT"}),x=[{id:w.noPrazo,descricao:"No prazo"},{id:w.atrasado,descricao:"Atrasado"}],y=function(){var e=Object(r.a)(i.a.mark((function e(){var t,a,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.MINHAS_PENDENCIAS,e.next=3,j.a.get("central_pendencias/listar_modulos/",{tipo_listagem:t},null,null,null,null,null,null,null,!0);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.MINHAS_PENDENCIAS;return new _.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"central_pendencias_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){j.a.get({route:"central_pendencias/listar/",data:Object(b.a)(Object(b.a)({},a),{},{tipo_listagem:e}),func_response:function(e){var a=window.createLoadExtra(e);t(Object(b.a)(Object(b.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){j.a.get({route:"central_pendencias/listar/",data:{central_pendencias_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},insert:function(e){},update:function(e,t){},remove:function(e){}})},S=a(393),C=a(407),R=a(507),I=a(567),T=a(826),k=a(63),P=a.n(k),D=a(811),E=a(420),M=a(823),N=a(390),F=a(569),L=a(470),U=a(105),B=a(412);var z=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var o,n;Object(s.a)(this,a),(n=t.call(this,e)).state={filtroModulo:null!==(o=n.props.filtroModulo)&&void 0!==o?o:null},n.onToolbarPreparing=n.onToolbarPreparing.bind(Object(l.a)(n)),n.handleRowClick=n.handleRowClick.bind(Object(l.a)(n)),n.stateStoring=n.stateStoring.bind(Object(l.a)(n)),n.handleAcessarRegistro=n.handleAcessarRegistro.bind(Object(l.a)(n));var i=[U.a.sessao.dados.supervisor_agenda,U.a.sessao.dados.supervisor_atendimento_relacionamento,U.a.sessao.dados.supervisor_chamado,U.a.sessao.dados.supervisor_documento,U.a.sessao.dados.supervisor_empenho,U.a.sessao.dados.supervisor_inovacao,U.a.sessao.dados.supervisor_processo,U.a.sessao.dados.supervisor_processo_grupo_usuario,U.a.sessao.dados.supervisor_processo_usuario,U.a.sessao.dados.supervisor_projeto,U.a.sessao.dados.supervisor_rede_social];return n.dataGridRef=h.a.createRef(),n.keyCount=0,n.gridStateStoring=n.stateStoring(),n.isSupervisor=i.filter((function(e){return"S"===e})),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(this.dataGridRef&&this.dataGridRef.current){var e=this.dataGridRef.current._instance;switch(e.option("stateStoring",this.gridStateStoring),+this.state.filtroModulo){case F.a.agenda:e.option("filterValue",["tipo","=",O.agendaEvento]);break;case F.a.tarefas:e.option("filterValue",["tipo","=",O.tarefaCartao]);break;case F.a.chamado:e.option("filterValue",["tipo","=",O.chamado]);break;case F.a.documento:e.option("filterValue",[[["tipo","=",O.documentoAprovacaoAlcada],"or",["tipo","=",O.documentoDistribuicaoControlada]]]);break;case F.a.processo:e.option("filterValue",["tipo","=",O.processoSolicitacaoAtividade]);break;case F.a.projeto:e.option("filterValue",["tipo","=",O.projetoAtividade]);break;case F.a.pdca:e.option("filterValue",["tipo","=",O.pdcaAtividade]);break;case F.a.crm:e.option("filterValue",[[["tipo","=",O.crmOportunidade],"or",["tipo","=",O.crmOportunidadeAgenda],"or",["tipo","=",O.crmOportunidadeOrcamento]]])}}}},{key:"render",value:function(){var e=this,t=[].concat(Object(S.a)([Object(o.jsx)(R.a,{dataField:"modulo_id",caption:"M\xf3dulo",width:200,groupIndex:0,children:Object(o.jsx)(N.Lookup,{dataSource:F.b,displayExpr:"descricao",valueExpr:"id"})},"modulo_id"),Object(o.jsx)(R.a,{dataField:"tipo",caption:"Tipo",width:200,children:Object(o.jsx)(N.Lookup,{dataSource:g,displayExpr:"descricao",valueExpr:"id"})},"tipo"),Object(o.jsx)(M.a,{dataField:"entidade_tipo",caption:"Entidade Tipo"},"entidade_tipo"),Object(o.jsx)(D.a,{dataField:"entidade_codigo",caption:"Entidade C\xf3digo"},"entidade_codigo"),Object(o.jsx)(E.a,{dataField:"entidade_nome",caption:"Entidade Nome"},"entidade_nome"),Object(o.jsx)(R.a,{dataField:"descricao",caption:"Descri\xe7\xe3o",width:200},"descricao"),Object(o.jsx)(I.a,{dataField:"usuario_responsavel_nome",caption:"Respons\xe1vel",dataFieldUsuarioId:"usuario_responsavel_id",width:200},"usuario_responsavel_nome"),Object(o.jsx)(R.a,{dataField:"grupo_responsavel_nome",caption:"Grupo Respons\xe1vel",width:200},"grupo_responsavel_nome"),Object(o.jsx)(T.a,{dataField:"prazo",caption:"Prazo",sortIndex:0,sortOrder:"asc",width:200},"prazo"),Object(o.jsx)(T.a,{dataField:"data_inicio",caption:"Data In\xedcio",sortIndex:0,sortOrder:"asc",width:200},"data_inicio"),Object(o.jsx)(R.a,{dataField:"situacao",caption:"Situa\xe7\xe3o",width:200,cellTemplate:function(e,t){var a="",o="";switch(t.data.situacao){case w.atrasado:a="label-danger",o="Atrasado";break;case w.noPrazo:default:a="label-info",o="No prazo"}e.css({textAlign:"center"}).addClass("bg-"+a),P()("<span>").text(o).css({color:"#FFF"}).appendTo(e)},children:Object(o.jsx)(N.Lookup,{dataSource:x,displayExpr:"descricao",valueExpr:"id"},"centralPendenciasSituacao")},"situacao")]),[Object(o.jsx)(N.Column,{type:"buttons",fixed:!0,fixedPosition:"right",children:Object(o.jsx)(L.a,{icon:"fa fa-external-link-square-alt",onClick:function(t){return e.handleAcessarRegistro(t,t.row.data)}})},"buttons")]);return Object(o.jsx)("div",{children:Object(o.jsx)(C.default,{ref:this.dataGridRef,style:{height:"calc(100vh - 230px)"},dataSource:A(this.props.tipoListagem),onToolbarPreparing:this.onToolbarPreparing,onRowClick:this.handleRowClick,selection:{mode:"multiple"},pager:{showInfo:!0,showPageSizeSelector:!0,allowedPageSizes:[20,50,100]},width:"100%",children:t},this.getKey())})}},{key:"getKey",value:function(){return this.keyCount++}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){t.props.listPendencias(t.props.tipoListagem)}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"user",hint:"Minhas Pend\xeancias",text:"Minhas Pend\xeancias",onClick:function(){return t.props.listPendencias(window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.MINHAS_PENDENCIAS)},onInitialized:function(e){t.props.tipoListagem===window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.MINHAS_PENDENCIAS&&e.component.element().addClass("dx-state-active")}},showText:"inMenu",location:"after",name:"BtnMinhasPendencias",locateInMenu:"auto"},{widget:"dxButton",visible:this.isSupervisor.length>0,options:{icon:"group",hint:"Pend\xeancias de Supervisionados",text:"Pend\xeancias de Supervisionados",onClick:function(){return t.props.listPendencias(window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.PENDENCIAS_SUPERVISIONADOS)},onInitialized:function(e){t.props.tipoListagem===window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.PENDENCIAS_SUPERVISIONADOS&&e.component.element().addClass("dx-state-active")}},showText:"inMenu",location:"after",name:"BtnPendenciasSupervisionados",locateInMenu:"auto"},{widget:"dxButton",visible:U.a.verifica_permissao(U.a.sessao.dados.empresa_filial_id,"admin_central_pendencias"),options:{icon:"fas fa-users",hint:"Todas Pend\xeancias",text:"Todas Pend\xeancias",onClick:function(){return t.props.listPendencias(window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.PENDENCIAS_TODOS)},onInitialized:function(e){t.props.tipoListagem===window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.PENDENCIAS_TODOS&&e.component.element().addClass("dx-state-active")}},showText:"inMenu",location:"after",name:"BtnMinhasPendencias",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items)}},{key:"stateStoring",value:function(){return{enabled:!0,type:"custom",customLoad:function(){return U.a.get_parametro_usuario("central_pendencias_grid").datagrid},customSave:function(e){U.a.set_parametro_usuario("central_pendencias_grid",{datagrid:e})}}}},{key:"handleRowClick",value:function(e){var t=this;window.onDoubleClick(e,(function(){return t.handleAcessarRegistro(e,e.data)}))}},{key:"handleAcessarRegistro",value:function(e,t){var a,o,n=this,i=function(){n.props.listPendencias(n.props.tipoListagem)};switch(+t.tipo){case O.agendaEvento:B.a.load("agenda/agenda_evento",(function(e,a){a.onsave=i,a.show({evento_id:t.agenda_evento_id})}));break;case O.tarefaCartao:B.a.load("tarefa/detalhes_cartao",(function(e,a){a.onclose=i,a.show(t.tarefa_quadro_lista_cartao_id)}),B.a.ABA.SIM);break;case O.chamado:B.a.loadReact(window.views.chamado.Detalhes.default,{chamadoId:t.chamado_id,onClose:i},(function(e,t){}),B.a.ABA.MULTIPLAS);break;case O.documentoAprovacaoAlcada:case O.documentoDistribuicaoControlada:B.a.load("central_documentos/documento",(function(e,a){a.onclose=i,a.show(t.documento_id,window.FORMULARIO.EDITAR)}),B.a.ABA.SIM);break;case O.processoSolicitacaoAtividade:B.a.load("solicitacao/detalhes",(function(e,a){a.show(t.solicitacao_atividade_id,window.FORMULARIO.EDITAR)}),B.a.ABA.MULTIPLAS);break;case O.projetoAtividade:var r=null;a=t.projeto_id,o=function(){B.a.load("atividade_projeto/detalhes",(function(e,a){a.show(t.projeto_id,t.projeto_atividade_id,window.FORMULARIO.EDITAR,t.projeto_template,r,t.descricao.substr(0,10))}),B.a.ABA.MULTIPLAS)},j.a.get("projeto/objeto/",{projeto_id:a},(function(e){r=null===e.equipe_toda||0===e.equipe_toda.length?e.equipe:window.object_to_array(e.equipe_toda),"undefined"!==typeof o&&o()}));break;case O.pdcaAtividade:B.a.load("pdca/atividades",(function(e,a){var o={pdca_id:t.pdca_id,numero:t.pdca_numero,objetivo:t.pdca_objetivo,data_inicio:t.pdca_data_inicio,data_fim:t.pdca_data_fim,progresso:t.pdca_progresso,situacao:t.pdca_situacao,situacao_id:t.pdca_situacao_id,dados_atividade:{pdca_atividade_id:t.pdca_atividade_id}};a.show(o,!0)}),B.a.ABA.MULTIPLAS);break;case O.crmOportunidade:B.a.load("oportunidade/detalhes",(function(e,a){a.onclose=i,a.show(t.oportunidade_id,window.FORMULARIO.EDITAR)}),B.a.ABA.MULTIPLAS);break;case O.crmOportunidadeAgenda:B.a.load("oportunidade/atividade",(function(e,a){var o=t.usuario_responsavel_id!==U.a.sessao.dados.usuario_id;a.onclose=i,a.show(t.oportunidade_agenda_id,window.FORMULARIO.EDITAR,null,t.oportunidade_id,null,o)}));break;case O.crmOportunidadeOrcamento:j.a.get("oportunidade_orcamento/objeto/",{oportunidade_orcamento_id:t.oportunidade_orcamento_id},(function(e){B.a.load("orcamento/detalhes",(function(a,o){o.onclose=i,o.show(window.FORMULARIO.VISUALIZAR,t.oportunidade_orcamento_id,e)}),B.a.ABA.MULTIPLAS)}))}}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(h.a.Component),V=a(879),G=a(829);var H=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var o;Object(s.a)(this,a),(o=t.call(this,e)).listPendencias=function(){var e=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:a=e.sent,o.setState({countModulos:a.count_pendencias,chartModulos:a.chart_pendencias,tipoListagem:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleCardClick=o.handleCardClick.bind(Object(l.a)(o)),o.listPendencias=o.listPendencias.bind(Object(l.a)(o));var n=window.CENTRAL_PENDENCIAS_TIPO_LISTAGEM.MINHAS_PENDENCIAS;return o.keyCount=0,o.parametrosUsuario=U.a.get_parametro_usuario("central_pendencias_grid"),o.parametrosUsuario&&"undefined"!==typeof o.parametrosUsuario.tipoListagem&&null!==o.parametrosUsuario.tipoListagem&&(n=o.parametrosUsuario.tipoListagem),o.state={dataSource:[],countModulos:{},chartModulos:[],filtroModulo:null,tipoListagem:n},o.listPendencias(n),o}return Object(c.a)(a,[{key:"render",value:function(){return Object(o.jsxs)(h.a.Fragment,{children:[Object(o.jsx)(V.default,{data:JSON.stringify(this.state.countModulos),isCentralPendencias:!0,fnHandleCardClick:this.handleCardClick}),Object(o.jsxs)(v.a,{children:[Object(o.jsx)(m.Item,{title:"Lista",icon:"bulletlist",children:Object(o.jsx)(z,{tipoListagem:this.state.tipoListagem,listPendencias:this.listPendencias,filtroModulo:this.state.filtroModulo},"listarPendencias")}),Object(o.jsx)(m.Item,{title:"Gr\xe1ficos",icon:"chart",children:Object(o.jsx)(G.a,{customHeightCalcContainer:"230px",customHeightCalcCharts:"280px",dataSource:this.state.chartModulos,argumentField:"modulo",series:[{valueField:"atrasado",name:"Atrasado",color:"#b80000"},{valueField:"noPrazo",name:"No Prazo",color:"#699"}],seriesPie:[{argumentField:"desc_situacao",valueField:"qtd_situacao",name:"Situa\xe7\xe3o"}],customizePoint:function(e){var t=null;return"atrasado"===e.data.situacao?t="#b80000":"noPrazo"===e.data.situacao&&(t="#699"),{color:t}},chartTypes:["bar","pie","donut"]})})]},this.getKey())]})}},{key:"getKey",value:function(){return this.keyCount++}},{key:"handleCardClick",value:function(e,t){this.setState({filtroModulo:e})}}]),a}(h.a.Component);H.defaultProps={abaTitulo:"Central de Pend\xeancias"}},1157:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(420),_=a(568),j=[Object(o.jsx)(b.a,{dataField:"descricao"},"descricao"),Object(o.jsx)(_.a,{dataField:"padrao_chamados",caption:"Padr\xe3o Chamados"},"padrao_chamados"),Object(o.jsx)(_.a,{dataField:"padrao_documentos",caption:"Padr\xe3o Documentos"},"padrao_documentos"),Object(o.jsx)(_.a,{dataField:"padrao_processos",caption:"Padr\xe3o Processos"},"padrao_processos"),Object(o.jsx)(_.a,{dataField:"padrao_projeto",caption:"Padr\xe3o Projeto"},"padrao_projeto"),Object(o.jsx)(_.a,{dataField:"padrao_atendimento_relacionamento",caption:"Padr\xe3o CRM"},"padrao_atendimento_relacionamento"),Object(o.jsx)(_.a,{dataField:"padrao_sistema",caption:"Padr\xe3o Sistema"},"padrao_sistema"),Object(o.jsx)(_.a,{dataField:"controle_acessos",caption:"Controle Acessos",allowEditing:!1},"controle_acessos")],O=a(390),g=a(470),w=a(444),x=a(454),y=a(412);var A=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({pageSize:20,key:"assunto_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"assunto/listar/",data:Object(h.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(j),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(g.a,{icon:"fas fa-lock",hint:"Editar permiss\xf5es",name:"editar_permissoes",visible:function(e){return!e.row.isNewRow},onClick:function(e){y.a.load("assunto/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.assunto_id,window.FORMULARIO.EDITAR)}))}}),Object(o.jsx)(w.a,{visible:function(e){return!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(x.a,{visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,stateStoring:Object(f.stateStoring)("listagem_assunto_documento"),editing:{mode:"batch",useIcons:!0,allowUpdating:!0},selection:{mode:"multiple"},onCellClick:function(e){if(e.column&&["padrao_chamados","padrao_documentos","padrao_processos","padrao_projeto","padrao_atendimento_relacionamento","padrao_sistema"].includes(e.column.dataField)&&!0===e.value){var t=[];e.row.isNewRow&&(t=e.component.getController("editing").getChanges().map((function(e){return e.data}))),e.component.getDataSource()._items.forEach((function(e){return t.push(e)})),t.forEach((function(t,a){a!==e.row.rowIndex&&(!0===e.component.cellValue(a,e.column.dataField)&&e.component.cellValue(a,e.column.dataField,!1))}))}},onInitNewRow:function(e){e.data.padrao_chamados=!1,e.data.padrao_documentos=!1,e.data.padrao_processos=!1,e.data.padrao_projeto=!1,e.data.padrao_atendimento_relacionamento=!1,e.data.padrao_sistema=!1,e.data.controle_acessos=!1},children:e})})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Assunto",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoAssunto",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=window.CircularJSON.stringify(e.component.getController("editing").getChanges());v.a.post("/assunto/salvar_dx_grid/",{data:a},(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}))})}}}]),a}(p.a.Component);A.defaultProps={abaTitulo:"Assuntos de Documentos"}},1158:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(420),_=a(568),j=[Object(o.jsx)(b.a,{}),Object(o.jsx)(_.a,{dataField:"padrao_chamados",caption:"Padr\xe3o Chamados"}),Object(o.jsx)(_.a,{dataField:"padrao_documentos",caption:"Padr\xe3o Documentos"}),Object(o.jsx)(_.a,{dataField:"padrao_processos",caption:"Padr\xe3o Processos"}),Object(o.jsx)(_.a,{dataField:"padrao_projeto",caption:"Padr\xe3o Projeto"}),Object(o.jsx)(_.a,{dataField:"padrao_atendimento_relacionamento",caption:"Padr\xe3o CRM"}),Object(o.jsx)(_.a,{dataField:"padrao_sistema",caption:"Padr\xe3o Sistema"}),Object(o.jsx)(_.a,{dataField:"controle_acessos",caption:"Controle Acessos",allowEditing:!1})],O=a(390),g=a(470),w=a(444),x=a(454),y=a(412);var A=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({pageSize:20,key:"tipo_documento_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"tipo_documento/listar/",data:Object(h.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(j),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(g.a,{icon:"fas fa-lock",hint:"Editar permiss\xf5es",name:"editar_permissoes",visible:function(e){return!e.row.isNewRow},onClick:function(e){y.a.load("tipo_documento/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.tipo_documento_id,window.FORMULARIO.EDITAR)}))}}),Object(o.jsx)(w.a,{visible:function(e){return!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(x.a,{visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,stateStoring:Object(f.stateStoring)("listagem_tipo_documento"),editing:{mode:"batch",useIcons:!0,allowUpdating:!0},selection:{mode:"multiple"},onCellClick:function(e){if(e.column&&["padrao_chamados","padrao_documentos","padrao_processos","padrao_projeto","padrao_atendimento_relacionamento","padrao_sistema"].includes(e.column.dataField)&&!0===e.value){var t=[];e.row.isNewRow&&(t=e.component.getController("editing").getChanges().map((function(e){return e.data}))),e.component.getDataSource()._items.forEach((function(e){return t.push(e)})),t.forEach((function(t,a){a!==e.row.rowIndex&&(!0===e.component.cellValue(a,e.column.dataField)&&e.component.cellValue(a,e.column.dataField,!1))}))}},onInitNewRow:function(e){e.data.padrao_chamados=!1,e.data.padrao_documentos=!1,e.data.padrao_processos=!1,e.data.padrao_projeto=!1,e.data.padrao_atendimento_relacionamento=!1,e.data.padrao_sistema=!1,e.data.controle_acessos=!1},children:e})})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Tipo",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoTipo",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=window.CircularJSON.stringify(e.component.getController("editing").getChanges());v.a.post("/tipo_documento/salvar_dx_grid/",{data:a},(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}))})}}}]),a}(p.a.Component);A.defaultProps={abaTitulo:"Tipos de Documentos"}},1159:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(895),_=a(420),j=a(105),O=a(390),g=a(444),w=a(454);var x=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({pageSize:20,key:"orcamento_template_word_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"orcamento_template_word/listar/",data:Object(h.a)({},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),oportunidadeOrcamentoId:e.oportunidadeOrcamentoId||null},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(+this.state.oportunidadeOrcamentoId>0){var t="Gerar word do or\xe7amento #".concat(this.state.oportunidadeOrcamentoId);setTimeout((function(){return j.a.titulo_aba(e.props.html_id,t)}),1e3)}}},{key:"render",value:function(){var e=this,t=function(t,a){var o=1;j.a.temp.empresa&&(o=j.a.temp.empresa);!function(e,t,o){j.a.obter_token_publico((function(n){j.a.download(window.WS_URI+"oportunidade/gerar_word/?empresa_id="+e+"&oportunidade_orcamento_id="+t+"&orcamento_template_word_id="+o+"&tipo_download="+a+"&token_publico="+n)}))}(o,e.state.oportunidadeOrcamentoId,+t.row.data.orcamento_template_word_id)},a=[].concat(Object(n.a)([Object(o.jsx)(_.a,{},"nome"),j.a.verifica_permissao(j.a.temp.empresa,"orcamento_template_word")?Object(o.jsx)(b.a,{exibirPrevisao:!1},"input_arquivo"):null]),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(O.Button,{visible:function(t){return+e.state.oportunidadeOrcamentoId>0&&+t.row.data.documento_id>0&&(!j.a.verifica_permissao(j.a.temp.empresa,"restringir_orcamento_pdf")||j.a.sessao.dados.admin)},hint:"Download",icon:"fas fa-file-word",text:"Download",onClick:function(e){t(e,"docx")}},"btn_download_word"),Object(o.jsx)(O.Button,{visible:function(t){return+e.state.oportunidadeOrcamentoId>0&&+t.row.data.documento_id>0},hint:"Download",icon:"fas fa-file-pdf",text:"Download",onClick:function(e){t(e,"pdf")}},"btn_download_pdf"),Object(o.jsx)(g.a,{visible:function(e){return!e.row.removed&&j.a.verifica_permissao(j.a.temp.empresa,"orcamento_template_word")},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}},"btn_apagar"),Object(o.jsx)(w.a,{visible:function(e){return e.row.removed&&j.a.verifica_permissao(j.a.temp.empresa,"orcamento_template_word")},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}},"btn_recuperar")]},"buttons")]);return Object(o.jsx)("div",{className:"template-word-listagem",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)",width:"100%"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,stateStoring:Object(f.stateStoring)("listagem_template_word"),editing:{mode:"batch",useIcons:!0,allowUpdating:j.a.verifica_permissao(j.a.temp.empresa,"orcamento_template_word")},selection:{mode:"multiple"},onInitNewRow:function(e){e.data={documento_id:0}},children:a},"grid_templates")})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Template Word",text:"Adicionar",visible:j.a.verifica_permissao(j.a.temp.empresa,"orcamento_template_word"),onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoTemplateWord",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-file-word",hint:"Download do arquivo de exemplo docx",text:"Exemplo DOCX",visible:j.a.verifica_permissao(j.a.temp.empresa,"orcamento_template_word"),onClick:function(){j.a.download(window.WS_ROOT+"/webservice/manual/docx/OrcamentoTemplateWord.docx")}},location:"after",name:"BtnNovoTemplateWord",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a={datagrid:e.component.getController("editing").getChanges()};v.a.post("/orcamento_template_word/salvar/",a,(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}),[],null,["datagrid.documento_id"])})}}}]),a}(p.a.Component);x.defaultProps={abaTitulo:"Templates Word de Or\xe7amentos"}},1160:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(895),_=a(420),j=a(105),O=a(390),g=a(444),w=a(454);var x=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({pageSize:20,key:"solicitacao_template_word_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"solicitacao_template_word/listar/",data:Object(h.a)({},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),solicitacaoId:e.solicitacaoId||null,numero:e.numero||null,numero_solicitacao_por_processo:e.numeroSolicitacaoPorProcesso||"N",solicitacaoAtividadeId:e.solicitacaoAtividadeId||null},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(+this.state.solicitacaoId>0){var t="S"===this.state.numero_solicitacao_por_processo&&+this.state.numero>0?this.state.numero:this.state.solicitacaoId,a="Gerar word da solicita\xe7\xe3o #".concat(t);setTimeout((function(){return j.a.titulo_aba(e.props.html_id,a)}),1e3)}}},{key:"render",value:function(){var e=this,t=function(t,a){var o=1;j.a.temp.empresa&&(o=j.a.temp.empresa);var n,i,r,s;n=o,i=e.state.solicitacaoId,r=e.state.solicitacaoAtividadeId,s=+t.row.data.solicitacao_template_word_id,j.a.obter_token_publico((function(e){j.a.download(window.WS_URI+"solicitacao/gerar_word/?empresa_id="+n+"&solicitacao_id="+i+"&solicitacao_atividade_id="+r+"&solicitacao_template_word_id="+s+"&tipo_download="+a+"&token_publico="+e)}))},a=[].concat(Object(n.a)([Object(o.jsx)(_.a,{},"nome"),j.a.verifica_permissao(j.a.temp.empresa,"solicitacao_template_word")?Object(o.jsx)(b.a,{exibirPrevisao:!1},"input_arquivo"):null]),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(O.Button,{visible:function(t){return+e.state.solicitacaoId>0&&+t.row.data.documento_id>0&&(!j.a.verifica_permissao(j.a.temp.empresa,"restringir_solicitacao_pdf")||j.a.sessao.dados.admin)},hint:"Download",icon:"fas fa-file-word",text:"Download",onClick:function(e){t(e,"docx")}},"btn_download_word"),Object(o.jsx)(O.Button,{visible:function(t){return+e.state.solicitacaoId>0&&+t.row.data.documento_id>0},hint:"Download",icon:"fas fa-file-pdf",text:"Download",onClick:function(e){t(e,"pdf")}},"btn_download_pdf"),Object(o.jsx)(g.a,{visible:function(e){return!e.row.removed&&j.a.verifica_permissao(j.a.temp.empresa,"solicitacao_template_word")},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}},"btn_apagar"),Object(o.jsx)(w.a,{visible:function(e){return e.row.removed&&j.a.verifica_permissao(j.a.temp.empresa,"solicitacao_template_word")},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}},"btn_recuperar")]},"buttons")]);return Object(o.jsx)("div",{className:"template-word-listagem",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)",width:"100%"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,stateStoring:Object(f.stateStoring)("listagem_template_word"),editing:{mode:"batch",useIcons:!0,allowUpdating:j.a.verifica_permissao(j.a.temp.empresa,"solicitacao_template_word")},selection:{mode:"multiple"},onInitNewRow:function(e){e.data={documento_id:0}},children:a},"grid_templates")})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Template Word",text:"Adicionar",visible:j.a.verifica_permissao(j.a.temp.empresa,"solicitacao_template_word"),onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoTemplateWord",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-file-word",hint:"Download do arquivo de exemplo docx",text:"Exemplo DOCX",visible:j.a.verifica_permissao(j.a.temp.empresa,"solicitacao_template_word"),onClick:function(){j.a.download(window.WS_ROOT+"/webservice/manual/docx/SolicitacaoTemplateWord.docx")}},location:"after",name:"BtnNovoTemplateWord",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a={datagrid:e.component.getController("editing").getChanges()};v.a.post("/solicitacao_template_word/salvar/",a,(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}),[],null,["datagrid.documento_id"])})}}}]),a}(p.a.Component);x.defaultProps={abaTitulo:"Templates Word de Solicita\xe7\xf5es"}},1161:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(386),m=a(405),v=a(392),b=a(492),_=a(420),j=a(507),O=[Object(o.jsx)(b.a,{dataField:"consulta_id",caption:"#"}),Object(o.jsx)(_.a,{dataField:"nome",caption:"Nome"}),Object(o.jsx)(j.a,{dataField:"banco_dados_nome",caption:"Tipo"}),Object(o.jsx)(j.a,{dataField:"database_nome",caption:"Database"})],g=a(390),w=a(470),x=a(444),y=a(825),A=a(412);var S=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:new m.default({pageSize:20,key:"consulta_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"consulta_integracao/listar/",data:Object(h.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},o.handleAcessarConsultaIntegracao=o.handleAcessarConsultaIntegracao.bind(Object(s.a)(o)),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=[].concat(Object(n.a)(O),[Object(o.jsxs)(g.Column,{type:"buttons",children:[Object(o.jsx)(y.a,{onClick:function(t){return e.handleAcessarConsultaIntegracao(t,t.row.data.consulta_id,window.FORMULARIO.VISUALIZAR)}}),Object(o.jsx)(w.a,{onClick:function(t){return e.handleAcessarConsultaIntegracao(t,t.row.data.consulta_id,window.FORMULARIO.EDITAR)}}),Object(o.jsx)(x.a,{onClick:function(t){return e.handleAcessarConsultaIntegracao(t,t.row.data.consulta_id,window.FORMULARIO.EXCLUIR)}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,stateStoring:Object(f.stateStoring)("listagem_consulta_integracao"),selection:{mode:"multiple"},pager:{showInfo:!0,showPageSizeSelector:!0,allowedPageSizes:[20,50,100]},children:t})})}},{key:"handleAcessarConsultaIntegracao",value:function(e,t,a){A.a.load("consulta_integracao/detalhes",(function(o,n){n.onclose=e.component.refresh,n.show(t,a)}))}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Consulta de Integra\xe7\xe3o",text:"Adicionar",onClick:function(e){return t.handleAcessarConsultaIntegracao(e,null,window.FORMULARIO.NOVO)}},location:"after",name:"BtnAdicionar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items)}}]),a}(p.a.Component);S.defaultProps={abaTitulo:"Consultas de Integra\xe7\xe3o"}},1162:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var o=a(373),n=a(393),i=a(386),r=a(365),s=a(366),c=a(387),l=a(368),d=a(369),u=a(367),p=a(383),f=a.n(p),h=a(412),m=a(407),v=a(405),b=a(392),_=a(390),j=a(492),O=a(420),g=a(677),w=a(838),x=a(673),y=a(839),A=[Object(o.jsx)(j.a,{dataField:"oportunidade_id"},"oportunidade_id"),Object(o.jsx)(O.a,{dataField:"nome_motivo_perda",caption:"Motivo Perda"},"nome_motivo_perda"),Object(o.jsx)(w.a,{dataField:"valor_negocio",caption:"Valor Neg\xf3cio"},"valor_negocio"),Object(o.jsx)(x.a,{dataField:"tipo_moeda_simbolo",caption:"Moeda"},"tipo_moeda_simbolo"),Object(o.jsx)(y.a,{dataField:"situacao"},"situacao"),Object(o.jsx)(g.a,{dataField:"data_situacao",caption:"Data Situa\xe7\xe3o"},"data_situacao"),Object(o.jsx)(O.a,{},"nome"),Object(o.jsx)(O.a,{dataField:"nome_entidade",caption:"Entidade"},"nome_entidade")];var S=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o,n,s,l;return Object(r.a)(this,a),(o=t.call(this,e)).state={motivoPerdaId:e.motivoPerdaId||null,diaInicio:e.diaInicio||null,diaFim:e.diaFim||null},o.state=Object(i.a)(Object(i.a)({},o.state),{},{dataSource:(n=o.state.motivoPerdaId,s=o.state.diaInicio,l=o.state.diaFim,new v.default({pageSize:20,key:"oportunidade_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){b.a.get({route:"motivo_perda_negocio_relatorio/listar/",data:Object(i.a)(Object(i.a)({},t),{},{dx_grid:!0,motivo_perda_id:n,dia_inicio:s,dia_fim:l}),func_response:function(t){var a=window.createLoadExtra(t);e(Object(i.a)(Object(i.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}))}),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(c.a)(o)),o}return Object(s.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(A),[Object(o.jsx)(_.Column,{type:"buttons",children:Object(o.jsx)(_.Button,{visible:function(e){return+e.row.data.oportunidade_id>0},hint:"Visualizar Oportunidade",icon:"fa fa-pencil-alt",text:"Ver oportunidade",onClick:function(e){h.a.load("oportunidade/detalhes",(function(t,a){a.show(+e.row.data.oportunidade_id,window.FORMULARIO.EDITAR)}),h.a.ABA.MULTIPLAS)}},"btn_visualizar")},"buttons")]);return Object(o.jsx)(m.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,editing:{allowUpdating:!1,allowDeleting:!1,allowAdding:!1},selection:{mode:"none"},children:e},"grid_relatorio")}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}}]),a}(f.a.Component);S.defaultProps={abaTitulo:"Relat\xf3rio Motivo de Perda de Neg\xf3cio",motivoPerdaId:null}},1163:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var o=a(373),n=a(393),i=a(386),r=a(365),s=a(366),c=a(387),l=a(368),d=a(369),u=a(367),p=a(383),f=a.n(p),h=a(412),m=a(407),v=a(405),b=a(392),_=a(390),j=a(492),O=a(420),g=a(677),w=a(838),x=a(673),y=a(839),A=[Object(o.jsx)(j.a,{dataField:"oportunidade_id"},"oportunidade_id"),Object(o.jsx)(O.a,{dataField:"nome_origem",caption:"Origem"},"nome_origem"),Object(o.jsx)(w.a,{dataField:"valor_negocio",caption:"Valor Neg\xf3cio"},"valor_negocio"),Object(o.jsx)(x.a,{dataField:"tipo_moeda_simbolo",caption:"Moeda"},"tipo_moeda_simbolo"),Object(o.jsx)(y.a,{dataField:"situacao"},"situacao"),Object(o.jsx)(g.a,{dataField:"data_situacao",caption:"Data Situa\xe7\xe3o"},"data_situacao"),Object(o.jsx)(O.a,{},"nome"),Object(o.jsx)(O.a,{dataField:"nome_entidade",caption:"Entidade"},"nome_entidade")];var S=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o,n,s,l;return Object(r.a)(this,a),(o=t.call(this,e)).state={oportunidadeOrigemId:e.oportunidadeOrigemId||null,diaInicio:e.diaInicio||null,diaFim:e.diaFim||null},o.state=Object(i.a)(Object(i.a)({},o.state),{},{dataSource:(n=o.state.oportunidadeOrigemId,s=o.state.diaInicio,l=o.state.diaFim,new v.default({pageSize:20,key:"oportunidade_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){b.a.get({route:"oportunidade_origem_relatorio/listar/",data:Object(i.a)(Object(i.a)({},t),{},{dx_grid:!0,oportunidade_origem_id:+n,dia_inicio:s,dia_fim:l}),func_response:function(t){var a=window.createLoadExtra(t);e(Object(i.a)(Object(i.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}))}),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(c.a)(o)),o}return Object(s.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(A),[Object(o.jsx)(_.Column,{type:"buttons",children:Object(o.jsx)(_.Button,{visible:function(e){return+e.row.data.oportunidade_id>0},hint:"Visualizar Oportunidade",icon:"fa fa-pencil-alt",text:"Ver oportunidade",onClick:function(e){h.a.load("oportunidade/detalhes",(function(t,a){a.show(+e.row.data.oportunidade_id,window.FORMULARIO.EDITAR)}),h.a.ABA.MULTIPLAS)}},"btn_visualizar")},"buttons")]);return Object(o.jsx)(m.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,editing:{allowUpdating:!1,allowDeleting:!1,allowAdding:!1},selection:{mode:"none"},children:e},"grid_relatorio")}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}}]),a}(f.a.Component);S.defaultProps={abaTitulo:"Relat\xf3rio Oportunidades por Origem",oportunidadeOrigemId:null}},1164:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(434),r=a.n(i),s=a(435),c=a(365),l=a(366),d=a(387),u=a(368),p=a(369),f=a(367),h=a(383),m=a.n(h),v=a(412),b=a(392),_=a(105),j=a(407),O=a(390),g=a(840),w=a(420);var x=function(e){Object(u.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(f.a)(e);if(t()){var n=Object(f.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(p.a)(this,a)}}(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return a}(O.Column);x.defaultProps={dataField:"consulta_integracao_id",caption:"Consulta Integra\xe7\xe3o"};var y=a(526),A=a(470),S=a(444),C=a(454),R=a(880),I=a(841);var T=function(e){Object(u.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(f.a)(e);if(t()){var n=Object(f.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(p.a)(this,a)}}(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).getDatasourceConsultaIntegracao=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("consulta_integracao/listar/",null,null,null,null,null,null,null,null,!0);case 2:t=e.sent,this.setState({datasourceConsultaIntegracao:t});case 4:case"end":return e.stop()}}),e,this)}))),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(d.a)(o)),o.dataGrid=null,o.state={datasourceConsultaIntegracao:[]},o.getDatasourceConsultaIntegracao(),o}return Object(l.a)(a,[{key:"onToolbarPreparing",value:function(e){this.dataGrid=e.component;var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Cubo",text:"Adicionar",visible:_.a.verifica_permissao(_.a.temp.empresa,"cricao_cubos"),onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=e.component.getController("editing").getChanges();Object(g.c)(a,(function(t){e.component.saveEditData()}))})}}},{key:"render",value:function(){var e,t=this,a=[].concat(Object(n.a)((e=this.state.datasourceConsultaIntegracao,[Object(o.jsx)(w.a,{},"nome"),Object(o.jsx)(x,{lookup:{dataSource:e,displayExpr:"nome",valueExpr:"consulta_id"}},"consulta_id"),Object(o.jsx)(y.a,{allowEditing:!1,dataField:"ultima_execucao",caption:"Ultima Execu\xe7\xe3o",width:180,allowGrouping:!1,allowHeaderFiltering:!1},"ultima_execucao")])),[Object(o.jsxs)(O.Column,{type:"buttons",children:[Object(o.jsx)(O.Button,{icon:"event",hint:"Job Scheduler",visible:function(e){return!e.row.isNewRow&&(_.a.sessao.dados.admin||+e.row.data.tipo_permissao===window.TAREFA_QUADRO_TIPO_PERMISSAO.GERENTE)},onClick:function(e){v.a.load("job_scheduler/detalhes",(function(t,a){a.onclose=function(){e.component.refresh()},a.show(e.row.data.job_scheduler_id,e.row.data.job_scheduler_id?window.FORMULARIO.EDITAR:window.FORMULARIO.NOVO,e.row.key)}))}}),Object(o.jsx)(O.Button,{icon:"pulldown",hint:"Executar Job",visible:function(e){return!e.row.isNewRow&&+e.row.data.situacao===window.JOB_SCHEDULER_SITUACAO.AGUARDANDO&&"S"===e.row.data.ativo&&(_.a.sessao.dados.admin||+e.row.data.tipo_permissao===window.TAREFA_QUADRO_TIPO_PERMISSAO.GERENTE)},onClick:function(e){b.a.post("job_scheduler/executar/",{job_scheduler_id:e.row.data.job_scheduler_id},(function(t){e.component.refresh(),window.alert_modal("Valida\xe7\xe3o",window.nl2br(t.log_ultima_execucao))})),window.setTimeout(e.component.refresh())}}),Object(o.jsx)(O.Button,{icon:"group",hint:_.a.lang.tarefa.gerenciar_equipe,visible:function(e){return!e.row.isNewRow&&(_.a.sessao.dados.admin||+e.row.data.tipo_permissao===window.TAREFA_QUADRO_TIPO_PERMISSAO.GERENTE)},onClick:function(e){v.a.loadReact(R.default,{cubo_id:e.row.data.cubo_id,abaTitulo:"Equipe "+e.row.data.nome,onClose:function(){e.component.refresh()}},(function(e){}),v.a.ABA.MULTIPLAS)}}),Object(o.jsx)(A.a,{icon:"dx-icon dx-icon-datafield",hint:"Visualizar Cubo",name:"visualizar_cubo",visible:function(e){return!e.row.isNewRow},onClick:function(e){v.a.loadReact(I.default,{cubo_id:e.row.data.cubo_id,abaTitulo:e.row.data.nome},(function(e){}),v.a.ABA.SIM)}}),Object(o.jsx)(S.a,{visible:function(e){return!e.row.removed&&!e.row.data.padrao&&(_.a.sessao.dados.admin||+e.row.data.tipo_permissao===window.TAREFA_QUADRO_TIPO_PERMISSAO.GERENTE)},onClick:function(e){t.dataGrid.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(C.a,{visible:function(e){return e.row.removed&&(_.a.sessao.dados.admin||+e.row.data.tipo_permissao===window.TAREFA_QUADRO_TIPO_PERMISSAO.GERENTE)},onClick:function(e){t.dataGrid.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]},"buttons")]);return Object(o.jsx)(m.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(j.default,{style:{height:"calc(100vh - 46px)"},stateStoring:Object(j.stateStoring)("ListagemDataGridCubo"),onToolbarPreparing:this.onToolbarPreparing,dataSource:Object(g.b)({dx_grid:!0}),editing:{mode:"batch",allowUpdating:_.a.verifica_permissao(_.a.temp.empresa,"cricao_cubos"),allowAdding:!1,allowDeleting:!1},children:a})})})})}}]),a}(m.a.Component);T.defaultProps={abaTitulo:"Cubo"};t.default=T},1165:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(420),f=a(526),h=[Object(o.jsx)(p.a,{dataField:"versao",caption:"Vers\xe3o"},"versao"),Object(o.jsx)(f.a,{dataField:"execucao",caption:"Execu\xe7\xe3o",sortIndex:0,sortOrder:"desc"},"execucao")],m=a(386),v=a(405),b=a(392),_=a(105);var j=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(u.default,{style:{height:"calc(100vh - 150px)",width:"100%"},dataSource:new v.default({pageSize:20,key:"versao",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){b.a.get({route:"dbu/listar_historico_de_atualizacoes/",data:Object(m.a)({session_id:_.a.sessao},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(m.a)(Object(m.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),searchPanel:!1,groupPanel:!1,selection:{mode:"multiple"},children:h})})})})}}]),a}(d.a.Component);j.defaultProps={abaTitulo:"Hist\xf3rico de Atualiza\xe7\xf5es"};t.default=j},1166:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var o=a(434),n=a.n(o),i=a(373),r=a(386),s=a(435),c=a(428),l=a(383),d=a(541),u=a.n(d),p=a(365),f=a(366),h=a(368),m=a(369),v=a(367),b=a(432),_=a(405),j=a(392),O=function(e,t,a){j.a.post({route:"/apontamento_projeto/salvar_tela_apontamento_simples/",data:{apontamentos:e,usuario_id:t},func_response:function(e){"function"===typeof a&&a()},func_fail:function(e){}})};var g=function(e){Object(h.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(v.a)(e);if(t()){var n=Object(v.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(m.a)(this,a)}}(a);function a(e){var o;return Object(p.a)(this,a),(o=t.call(this,e)).state=Object(r.a)(Object(r.a)({},o.state),o.propsToObjState()),o}return Object(f.a)(a,[{key:"propsToObjState",value:function(){return{dataSource:new _.default({paginate:!0,pageSize:20,key:"tecnico_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){j.a.get({route:"/tecnico/listar/",data:Object(r.a)({dx_grid:!0,apontamento_rapido:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(r.a)(Object(r.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){j.a.get({route:"/tecnico/listar/",data:{dx_grid:!0,tecnico_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),dataGridExportEnabled:!1,dataGridColumnChooserEnabled:!1,dataGridSearchPanelEnabled:!1,selecionado:this.props.selecionado?[this.props.selecionado]:null,aoAlterar:this.props.aoAlterar?this.props.aoAlterar:null,readOnly:null!==this.props.readOnly&&this.props.readOnly,dropDownBoxStyle:null!==this.props.dropDownBoxStyle?this.props.dropDownBoxStyle:{},columns:[{dataField:"nome",caption:"Nome"}]}}}]),a}(b.default);g.defaultProps={valueExpr:"tecnico_id",displayExpr:"nome"};var w=a(407),x=a(63),y=a.n(x),A=a(105);function S(){var e=null,t=null,a=null,o=null;"S"===A.a.sessao.dados.tecnico&&(e=A.a.sessao.dados.tecnico_id.toString(),t=A.a.sessao.dados.usuario_id);var d=new Date;d.setDate(1);var p=window.pad(d.getMonth()+1,2),f=d.getFullYear(),h=new Date(f,p,1),m=new Date(f,p,0);a=f+"-"+p+"-"+window.pad(h.getDate(),2),o=f+"-"+p+"-"+window.pad(m.getDate(),2);var v=A.a.get_parametro_usuario("apontamento_simples");Object.keys(v).length&&(t=+v.usuario_id>0?v.usuario_id:t,a=v.data_inicio?v.data_inicio:a,o=v.data_fim?v.data_fim:o,e=v.tecnico_id?v.tecnico_id:e);var b=Object(l.useState)(a),_=Object(c.a)(b,2),x=_[0],S=_[1],C=Object(l.useState)(o),R=Object(c.a)(C,2),I=R[0],T=R[1],k=Object(l.useState)(t),P=Object(c.a)(k,2),D=P[0],E=P[1],M=Object(l.useState)(e),N=Object(c.a)(M,2),F=N[0],L=N[1],U=Object(l.useState)([]),B=Object(c.a)(U,2),z=B[0],V=B[1],G=Object(l.useState)([]),H=Object(c.a)(G,2),q=H[0],K=H[1],W=Object(l.useState)({}),J=Object(c.a)(W,2),Z=J[0],X=J[1];function Q(){return $.apply(this,arguments)}function $(){return($=Object(s.a)(n.a.mark((function e(){var t,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x&&I&&x>I)){e.next=6;break}window.alertaPopUp("Valida\xe7\xe3o","A <strong>Data In\xedcio</strong> n\xe3o pode ser maior que a <strong>Data Fim</strong>"),S(a),T(o),e.next=13;break;case 6:if(!(x&&I&&D)){e.next=13;break}return t=A.a.get_parametro_usuario("apontamento_simples"),A.a.set_parametro_usuario("apontamento_simples",Object(r.a)(Object(r.a)({},t),{},{data_inicio:x,data_fim:I,usuario_id:D,tecnico_id:F})),e.next=11,j.a.get({route:"/apontamento_projeto/buscar_dados_listagem_apontamento_simples/",data:{data_inicio:x,data_fim:I,usuario_id:D},awaitReturn:!0});case 11:i=e.sent,V(i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){Q()}),[x,I,D]),Object(l.useEffect)((function(){!function(){if(z.length){for(var e=[{dataField:"projeto_codigo",caption:"C\xf3d. Projeto",width:150,allowEditing:!1,allowFixing:!1,allowReordering:!1,fixed:!0},{dataField:"projeto_nome",caption:"Projeto",width:200,allowEditing:!1,allowFixing:!1,allowReordering:!1,fixed:!0},{dataField:"projeto_atividade_nome",caption:"Atividade",width:200,allowEditing:!1,allowFixing:!1,allowReordering:!1,fixed:!0},{dataField:"soma_horas_atividade_periodo",caption:"Total Atividade",dataType:"number",alignment:"left",width:200,allowEditing:!1,allowFixing:!1,allowReordering:!1,fixed:!0}],t={totalItems:[{column:"soma_horas_atividade_periodo",summaryType:"sum",skipEmptyValues:!0,displayFormat:"{0}"}]},a=z[0],o=Object.keys(a).filter((function(e){if(e.indexOf("-")>-1){var t=e.split("-");if(4===t[0].length&&2===t[1].length&&2===t[2].length)return e}})),n=function(a){var n=o[a],i=window.formatar_data_humano(n);e.push({dataField:n,caption:i,width:120,allowEditing:!0,allowHeaderFiltering:!1,allowFiltering:!1,allowGrouping:!1,allowReordering:!1,allowSorting:!1,allowFixing:!1,dataType:"number",headerCellTemplate:function(e,t){y()(e).text(i);var a=t.column.dataField,o=new Date(a+" 00:00:00"),n=window.getDateNow(!0),r=o.getDay(),s=[],c=null;if(A.a.sessao.dados.feriados.length&&(s=A.a.sessao.dados.feriados.filter((function(e){return e.data_feriado===a}))).length&&(c=s[0].nome),a===n){var l="Hoje"+(c?" ("+c+")":"");6===r&&(l="Hoje (S\xe1bado"+(c?" | "+c+")":")")),0===r&&(l="Hoje (Domingo"+(c?" | "+c+")":")")),y()(e).addClass("text-info").css({fontWeight:"bold"}).parent().css({backgroundColor:"rgba(49, 112, 143, 0.2)"}).attr("title",l)}else if(6===r||0===r){var d="";6===r&&(d="S\xe1bado"+(c?" ("+c+")":"")),0===r&&(d="Domingo"+(c?" ("+c+")":"")),y()(e).addClass("text-muted").css({fontWeight:"bold"}).parent().css({backgroundColor:"rgba(119, 119, 119, 0.2)"}).attr("title",d)}else s.length&&y()(e).addClass("text-danger").css({fontWeight:"bold"}).parent().css({backgroundColor:"rgba(169, 68, 66, 0.2)"}).attr("title","Feriado ("+c+")")},cellTemplate:function(e,t){if(y()(e).css({borderLeft:"1px solid rgba(119, 119, 119, 0.2)",borderRight:"1px solid rgba(119, 119, 119, 0.2)"}),"data"===t.rowType&&t.value){y()(e).text(t.value);for(var a=t.column.dataField,o=t.data,n=Object.keys(o),i=Object.values(o),r=null,s=0;s<n.length;s++){var c=n[s],l=i[s],d=c.indexOf("__")>-1?c.split("__"):[];if(d[0]===a&&"apontamento_padrao"==d[1]){r=l;break}}"S"===r&&y()(e).addClass("text-warning").css({fontWeight:"bolder",backgroundColor:"rgba(138, 109, 0, 0.2)",border:"1px solid rgba(138, 109, 0)"}).attr("title","Apontamento bloqueado para edi\xe7\xe3o, pois foi realizado pela tela de Apontamento de Atividades")}},validationRules:[{type:"custom",validationCallback:function(e){for(var t=e.value,a=Object.keys(e.data),o=Object.values(e.data),n=e.column.dataField,i=!0,r=0;r<a.length;r++){var s=a[r],c=o[r],l=s.indexOf("__")>-1?s.split("__"):[];if(l[0]===n&&"apontamento_padrao"===l[1]&&"S"===c){i=!1;break}}if(i&&t&&!Number.isInteger(t)){var d=t.toString().split(".");if(0!==+d[1]&&5!==+d[1])return!1}return!0},message:"Permitido somente valores inteiros ou exatos"},{type:"custom",validationCallback:function(e){for(var t=e.value,a=Object.keys(e.data),o=Object.values(e.data),n=e.column.dataField,i=!0,r=0;r<a.length;r++){var s=a[r],c=o[r],l=s.indexOf("__")>-1?s.split("__"):[];if(l[0]===n&&"apontamento_padrao"===l[1]&&"S"===c){i=!1;break}}return!(i&&t&&parseInt(t)>24)},message:"Apontamento maior que 24h n\xe3o permitido."}]}),t.totalItems.push({column:n,summaryType:"sum",skipEmptyValues:!0,displayFormat:"{0}"})},i=0;i<o.length;i++)n(i);X(t),K(e)}}()}),[z]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-md-2",children:[Object(i.jsx)("label",{children:"Data In\xedcio"}),Object(i.jsx)(u.a,{type:"date",displayFormat:"dd/MM/yyyy",showClearButton:!0,value:x,onValueChanged:function(e){var t=window.formatDate(e.value,!0);S(t)},style:{backgroundColor:"#FFF"}})]}),Object(i.jsxs)("div",{className:"col-md-2",children:[Object(i.jsx)("label",{children:"Data Fim"}),Object(i.jsx)(u.a,{type:"date",displayFormat:"dd/MM/yyyy",showClearButton:!0,value:I,onValueChanged:function(e){var t=window.formatDate(e.value,!0);T(t)},style:{backgroundColor:"#FFF"}})]}),Object(i.jsxs)("div",{className:"col-md-4",children:[Object(i.jsx)("label",{children:"T\xe9cnico"}),Object(i.jsx)(g,{selecionado:F,aoAlterar:function(e,t){L(e),E(t.usuario_id)},dropDownBoxStyle:{backgroundColor:"#FFF"}})]})]}),Object(i.jsx)("div",{className:"row",style:{marginTop:10},children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsx)(w.default,{remoteOperations:{groupPaging:!0,paging:!0,filtering:!0,sorting:!0,grouping:!0,summary:!1},dataSource:z,style:{height:"calc(100vh - 110px)"},keyExpr:"projeto_atividade_id",columns:q,summary:Z,columnChooser:{enabled:!1},editing:{mode:"batch",allowAdding:!1,allowDeleting:!1,useIcons:!1,allowUpdating:!0},stateStoring:{enabled:!1,type:"custom",customSave:function(e){for(var t=[],a=0;a<e.columns.length;a++){-1===e.columns[a].dataField.indexOf("-")&&t.push(e.columns[a])}e.columns=t;var o=A.a.get_parametro_usuario("apontamento_simples");A.a.set_parametro_usuario("apontamento_simples",Object(r.a)(Object(r.a)({},o),{},{dataGrid:e}))},customLoad:function(){var e=A.a.get_parametro_usuario("apontamento_simples");if(e&&e.dataGrid)return e.dataGrid}},onToolbarPreparing:function(e){var t=[{widget:"dxButton",options:{icon:"help",hint:"Ajuda",text:"Ajuda",onClick:function(e){window.open(A.a.manual_link("log/BPM8214"),"_blank").focus()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(e){return Q()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=e.component.getController("validating")._validationState,o=!1;if(a.length)for(var n=0;n<a.length;n++){if(!1===a[n].isValid){o=!0;break}}if(o)window.alertaPopUp("Valida\xe7\xe3o","Realize os ajustes dos valores inv\xe1lidos antes de continuar");else{var i=window.CircularJSON.stringify(e.component.getController("editing").getChanges());O(i,D,Q)}})}},onEditingStart:function(e){for(var t=Object.keys(e.data),a=Object.values(e.data),o=e.column.dataField,n={},i=0;i<t.length;i++){var r=t[i],s=a[i],c=r.indexOf("__")>-1?r.split("__"):[];c[0]===o&&("apontamento_padrao"===c[1]&&(n.apontamento_padrao=s),"apontamento_projeto_simples_id"===c[1]&&(n.apontamento_projeto_simples_id=s))}"S"===n.apontamento_padrao&&(e.cancel=!0)}})})})]})}S.defaultProps={abaTitulo:"Apontamento Simples"}},1167:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(432),d=a(392),u=a(405),p=a(373),f=a(492),h=a(420),m=(f.a,Object(p.jsx)(h.a,{caption:"Nome do Formul\xe1rio",width:"100%"}));var v=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{dataSource:(t=window.TIPO_FORMULARIO.CADASTRO_PERSONALIZADO,new u.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"formulario_id",load:function(e){var a=window.loadOptionsToActionParams(e);return new Promise((function(e,n){d.a.get({route:"formulario/listar/",data:Object(o.a)({dx_grid:!0,tipo_formulario:t},a),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&n(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){d.a.get({route:"formulario/objeto/",data:{formulario_id:e},func_response:function(e){e.formulario_id=e.id.toString(),t(e)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(l.default);v.defaultProps={placeholder:"Pesquisar Formul\xe1rio",displayExpr:function(e){return e&&e.id+" - "+e.nome},children:m}},1168:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(386),f=a(392),h=a(405),m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new h.default({paging:{pageSize:20},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},load:function(o){var n=window.loadOptionsToActionParams(o);return new Promise((function(o,i){f.a.get({route:"entidade_historico/listar_historico_cadastral/",data:Object(p.a)({entidade_tipo:e,entidade_id:t,data_hora:a},n),func_response:function(e){var t=window.createLoadExtra(e);o(Object(p.a)(Object(p.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},v=a(390),b=a(420),_=a(507),j=[Object(o.jsx)(b.a,{dataField:"elemento_nome",caption:"Campo"},"elemento_nome"),Object(o.jsx)(_.a,{caption:"Antes",dataField:"valor_anterior",width:150},"valor_anterior"),Object(o.jsx)(_.a,{caption:"Depois",dataField:"valor_atualizado",width:150},"valor_atualizado"),Object(o.jsx)(b.a,{dataField:"grupo_nome",caption:"Grupo"},"grupo_nome"),Object(o.jsx)(b.a,{dataField:"tabela_nome",caption:"Tabela"},"tabela_nome"),Object(o.jsx)(v.Column,{dataField:"tabela_linha",caption:"Linha",width:60},"tabela_linha"),Object(o.jsx)(b.a,{dataField:"id_elemento",caption:"ID Elemento"},"id_elemento"),Object(o.jsx)(b.a,{dataField:"usuario_nome",caption:"Usu\xe1rio"},"usuario_nome")];var O=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(u.default,{elementAttr:{style:"max-height: 300px"},dataSource:m(this.props.entidade_tipo,this.props.entidade_id,this.props.data_hora),groupPanel:{visible:!1},columnChooser:{enabled:!1},searchPanel:{visible:!1},export:{enabled:!1},filterPanel:{visible:!1},filterRow:{visible:!1},children:j})})}}]),a}(d.a.Component);O.defaultProps={entidade_tipo:null,entidade_id:null,data_hora:null}},1169:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(543),p=a.n(u),f=a(386),h=a(393),m=a(387),v=a(407),b=a(443),_=a(889),j=a(390),O=a(470),g=a(412),w=a(105),x=a(452),y=a(405),A=a(849);var S=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o;Object(n.a)(this,a),(o=t.call(this,e)).getKey=o.getKey.bind(Object(m.a)(o)),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(m.a)(o)),o.onContextMenuPreparing=o.onContextMenuPreparing.bind(Object(m.a)(o)),o.stateStoring=o.stateStoring.bind(Object(m.a)(o)),o.handleSelectBoxChange=o.handleSelectBoxChange.bind(Object(m.a)(o)),o.onContentReady=o.onContentReady.bind(Object(m.a)(o)),o.onRowClick=o.onRowClick.bind(Object(m.a)(o)),o.dataGridRef=d.a.createRef(),o.keyCount=0,o.parametrosUsuario=w.a.get_parametro_usuario("listagem_chamados"),o.gridStateStoring=o.stateStoring(),o.filtro_tipo_listagem="string"===typeof o.props.filtro_tipo_listagem||"number"===typeof o.props.filtro_tipo_listagem?o.props.filtro_tipo_listagem:null;var i=window.CHAMADO_FILTRO.MEUS_CHAMADOS;return o.parametrosUsuario&&"undefined"!==typeof o.parametrosUsuario.tipoListagem&&null!==o.parametrosUsuario.tipoListagem&&(i=o.parametrosUsuario.tipoListagem),null!==o.filtro_tipo_listagem&&(i=o.filtro_tipo_listagem),o.state={dataSource:Object(b.a)(i,null,!0,-1),tipoListagem:i},o}return Object(i.a)(a,[{key:"getKey",value:function(){return this.keyCount++}},{key:"render",value:function(){var e=this,t=[].concat(Object(h.a)(Object(_.b)(this.props.html_id)),[Object(o.jsx)(j.Column,{type:"buttons",children:Object(o.jsx)(O.a,{icon:"fa fa-comments",onClick:function(t){return e.handleAcessarChamado(t,t.row.data.id)}},"btn_acessar_chamado")},"coluna_botoes")]);return Object(o.jsx)("div",{children:Object(o.jsx)(v.default,{ref:this.dataGridRef,style:{height:"calc(100vh - 80px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,onContextMenuPreparing:this.onContextMenuPreparing,onContentReady:this.onContentReady,stateStoring:this.gridStateStoring,selection:{mode:"multiple"},pager:{showInfo:!0,showPageSizeSelector:!0,allowedPageSizes:[20,50,100]},onRowClick:this.onRowClick,children:t},this.getKey())})}},{key:"stateStoring",value:function(){return{enabled:!0,type:"custom",customLoad:function(){return w.a.get_parametro_usuario("listagem_chamados").datagrid},customSave:function(e){w.a.set_parametro_usuario("listagem_chamados",{datagrid:e})}}}},{key:"handleSelectBoxChange",value:function(e){var t=this;if(this.dataGridRef&&this.dataGridRef.current&&this.dataGridRef.current._instance&&e.selectedItem&&+e.selectedItem.id!==+this.state.tipoListagem){var a=function(a){e.component.option("value",a),t.setState({dataSource:Object(b.a)(a,null,!0,-1),tipoListagem:a},(function(){+t.state.tipoListagem!==window.CHAMADO_FILTRO.TODOS&&w.a.set_parametro_usuario("listagem_chamados",Object(f.a)(Object(f.a)({},t.parametrosUsuario),{},{tipoListagem:t.state.tipoListagem}))}))},o=this.dataGridRef.current._instance;o._resetPageIndex=!0,o._clearSelectedRows=!0;var n=null;switch(e.selectedItem.id){case 1:n=window.CHAMADO_FILTRO.MEUS_CHAMADOS,a(n);break;case 2:n=window.CHAMADO_FILTRO.EM_ABERTO,a(n);break;case 3:n=window.CHAMADO_FILTRO.ENCERRADOS,a(n);break;case 8:n=window.CHAMADO_FILTRO.MINHAS_SOLICITACOES_EM_ABERTO,a(n);break;case 9:n=window.CHAMADO_FILTRO.MINHAS_SOLICITACOES_ENCERRADAS,a(n);break;case 10:Object(x.confirm)("Listar todos os Chamados poder\xe1 levar um tempo. Deseja continuar?","Aten\xe7\xe3o").then((function(e){e?(n=window.CHAMADO_FILTRO.TODOS,a(n)):(n=window.CHAMADO_FILTRO.MEUS_CHAMADOS,a(n))}));break;case 11:n=window.CHAMADO_FILTRO.MEUS_RASCUNHOS,a(n);break;default:n=window.CHAMADO_FILTRO.MEUS_CHAMADOS,a(n)}}}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{widget:"dxTextBox",location:"after",locateInMenu:"auto",options:{width:"140px",placeholder:"N\xba Chamado",buttons:[{location:"before",name:"pesquisar",options:{icon:"search",disabled:!0}}],onEnterKey:function(e){var t,a=e.component.option("value");if(null!==a&&""!==a.trim())for(var o=a.replace(/\r\n/g,"\r").replace(/\n/g,"\r").replace(/\r/g," ").split(" "),n=0;n<o.length;n++)""!==(t=o[n]).trim()&&g.a.loadReact(A.default,{chamadoId:t.trim()},(function(){}),g.a.ABA.MULTIPLAS)}}},{widget:"dxSelectBox",locateInMenu:"auto",options:{dataSource:new y.default({store:[{id:1,descricao:"Minhas P\xeandencias",categoria:"Meus"},{id:2,descricao:"Chamados em Aberto",categoria:"Geral"},{id:3,descricao:"Chamados Encerrados",categoria:"Geral"},{id:8,descricao:"Meus Chamados em Aberto",categoria:"Meus"},{id:9,descricao:"Meus Chamados Encerrados",categoria:"Meus"},{id:10,descricao:"Todos Chamados",categoria:"Geral"},{id:11,descricao:"Meus Rascunhos",categoria:"Meus"}],group:"categoria"}),width:"250px",placeholder:"Filtrar por",valueExpr:"id",displayExpr:"descricao",value:this.state.tipoListagem,grouped:!0,onSelectionChanged:this.handleSelectBoxChange},location:"after"},{widget:"dxButton",options:{icon:"plus",hint:"Novo Chamado",text:"Novo Chamado",onClick:function(){setTimeout((function(){return g.a.loadReact(A.default,{},(function(e,t){}),g.a.ABA.MULTIPLAS)}))}},showText:"always",location:"after",name:"BtnNovoChamado",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"preferences",hint:"Configura\xe7\xf5es",text:"Configura\xe7\xf5es",onClick:function(){g.a.load("chamado/configuracoes",(function(e,t){t.show()}))},visible:w.a.sessao.dados.admin},showText:"inMenu",location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-tasks",hint:"Reclassificar Chamados Selecionados",text:"Reclassificar Chamados Selecionados",onClick:function(){if(t.dataGridRef&&t.dataGridRef.current){var a=t.dataGridRef.current._instance.getSelectedRowsData();new y.default({store:a,pageSize:0}).load().done((function(a){t.handleReclassificarChamado(e,a)}))}},visible:w.a.verifica_permissao(w.a.sessao.dados.empresa_filial_id,"reclassificar_chamado")},showText:"inMenu",location:"after",name:"BtnReclassificarSelecionados",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items)}},{key:"onContextMenuPreparing",value:function(e){var t=this;"header"===e.target&&Array.isArray(e.items)&&e.items.push(Object(v.itemRestaurarEstadoDasColunas)(e));var a=e.component.getSelectedRowsData();new y.default({store:a,pageSize:0}).load().done((function(a){e.row&&"data"===e.row.rowType&&(e.items=[{text:"Visualizar chamado",onItemClick:function(){t.handleAcessarChamado(e,e.row.data.id)}},{text:"Reclassificar chamado",visible:w.a.verifica_permissao(w.a.sessao.dados.empresa_filial_id,"reclassificar_chamado"),onItemClick:function(){t.handleReclassificarChamado(e,[e.row.data])}},{text:"Visualizar chamados selecionados",visible:a.length,onItemClick:function(){for(var o=0;o<a.length;o++){var n=a[o];t.handleAcessarChamado(e,n.id)}}},{text:"Reclassificar chamados selecionados",visible:w.a.verifica_permissao(w.a.sessao.dados.empresa_filial_id,"reclassificar_chamado")&&a.length,onItemClick:function(){t.handleReclassificarChamado(e,a)}}])}))}},{key:"onContentReady",value:function(e){e.component._clearState&&(e.component.state({}),e.component._clearState=!1),e.component._clearSelectedRows&&(e.component.clearSelection(),e.component._clearSelectedRows=!1),e.component._resetPageIndex&&(e.component.pageIndex(0),e.component._resetPageIndex=!1),setTimeout((function(){return e.component.updateDimensions()}),100)}},{key:"handleAcessarChamado",value:function(e,t){g.a.loadReact(A.default,{chamadoId:t,onClose:e.component.refresh},(function(e,t){}),g.a.ABA.MULTIPLAS)}},{key:"handleReclassificarChamado",value:function(e,t){if(t.length){for(var a=!0,o=null,n=0;n<t.length;n++){var i=t[n];o&&+o!==+i.tipo_gestao_tempo?a=!1:o=+i.tipo_gestao_tempo}a?g.a.load("chamado/reprogramar",(function(a,n){n.onclose=function(){e.component._clearSelectedRows=!0,e.component.refresh()},n.show(t,o)})):Object(x.alert)("Falha ao reclassificar!<br><br>N\xe3o \xe9 poss\xedvel reclassificar chamados de tipo de previs\xe3o de retorno diferentes (horas e dias)","Aviso")}else Object(x.alert)("Nenhum chamado selecionado para reclassifica\xe7\xe3o","Aviso")}},{key:"onRowClick",value:function(e){var t=this;window.onDoubleClick(e,(function(){t.handleAcessarChamado(e,e.data.id)}))}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(d.a.Component);var C=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(this.props.html_id&&w.a.PE.Chamado_Listagem_show_antes)try{w.a.PE.Chamado_Listagem_show_antes(document.getElementById(this.props.html_id))}catch(e){console.log(e)}}},{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsx)(p.a,{children:Object(o.jsx)(u.Item,{title:"Chamados",icon:"comment",children:Object(o.jsx)(S,{html_id:this.props.html_id,filtro_tipo_listagem:this.props.filtro_tipo_listagem})})})})}}]),a}(d.a.Component);C.defaultProps={abaTitulo:"Chamados"}},1170:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(105),u=a(392),p=a(412),f=a(383),h=a.n(f),m=a(490),v=a.n(m),b=a(390),_=a.n(b),j=a(612),O=a(593),g=[{id:"amarelo",nome:"Amarelo",corPrimaria:"#debb00"},{id:"azul_escuro",nome:"Azul Escuro",corPrimaria:"#002245"},{id:"azul",nome:"Azul",corPrimaria:"#030394"},{id:"cinza",nome:"Cinza",corPrimaria:"#474747"},{id:"laranja_escuro",nome:"Laranja Escuro",corPrimaria:"#944e03"},{id:"laranja",nome:"Laranja",corPrimaria:"#de6f00"},{id:"preto",nome:"Preto",corPrimaria:"#000"},{id:"roxo",nome:"Roxo",corPrimaria:"#4e0394"},{id:"roxo_escuro",nome:"Roxo Escuro",corPrimaria:"#270843"},{id:"verde_claro",nome:"Verde Claro",corPrimaria:"#289403"},{id:"verde_escuro",nome:"Verde Escuro",corPrimaria:"#174308"},{id:"vermelho",nome:"Vermelho",corPrimaria:"#be0101"},{id:"vermelho_escuro",nome:"Vermelho Escuro",corPrimaria:"#6b0606"}];var w=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={temaSelecionadoId:"",temaSelecionadoNome:"",temaSelecionadoCorPrimaria:"",loaderBloqueio:!1,menuLateral:!1,buscaAutomatica:!1},o.tema_inicial="preto",o.menuLateralChanged=o.menuLateralChanged.bind(Object(r.a)(o)),o.loaderBloqueioChanged=o.loaderBloqueioChanged.bind(Object(r.a)(o)),o.buscaAutomaticaChanged=o.buscaAutomaticaChanged.bind(Object(r.a)(o)),o.onSelectionChanged=o.onSelectionChanged.bind(Object(r.a)(o)),o.obterParametros=o.obterParametros.bind(Object(r.a)(o)),o.salvar=o.salvar.bind(Object(r.a)(o)),o.obterParametros(),o}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t={icon:"fas fa-save",text:"Salvar",onClick:function(){e.salvar()}},a={icon:"fas fa-times",text:"Cancelar",onClick:function(){d.a.aplicar_tema(e.tema_inicial),p.a.unload(e.props.html_id)}};return Object(o.jsx)(h.a.Fragment,{children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)("div",{className:"panel panel-default",children:Object(o.jsxs)(_.a,{dataSource:g,selection:{mode:"single"},selectedRowKeys:[this.state.temaSelecionadoId],showBorders:!0,hoverStateEnabled:!0,keyExpr:"id",onSelectionChanged:this.onSelectionChanged,rowAlternationEnabled:!1,children:[Object(o.jsx)(b.Column,{dataField:"nome",caption:"Nome"}),Object(o.jsx)(b.Column,{dataField:"corPrimaria",caption:"Cor",cellRender:function(t){return e.renderCorPrimaria(t.data.corPrimaria)}})]})})}),Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsxs)("div",{className:"panel panel-default",children:[Object(o.jsx)("div",{className:"panel-heading",children:Object(o.jsx)("h3",{className:"panel-title",children:"Configura\xe7\xf5es"})}),Object(o.jsxs)("div",{className:"panel-body",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-md-12",children:["Tema: ",this.state.temaSelecionadoNome]}),Object(o.jsxs)("div",{className:"col-md-12",style:{display:"inline-flex"},children:["Cor prim\xe1ria:\xa0 ",this.renderCorPrimaria(this.state.temaSelecionadoCorPrimaria)]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(j.CheckBox,{value:this.state.menuLateral,onValueChanged:this.menuLateralChanged,text:"Menu Lateral"})})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(j.CheckBox,{value:this.state.loaderBloqueio,onValueChanged:this.loaderBloqueioChanged,text:"Loader com bloqueio de tela"})})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(j.CheckBox,{value:this.state.buscaAutomatica,onValueChanged:this.buscaAutomaticaChanged,text:"Busca autom\xe1tica no combobox"})})})]}),Object(o.jsx)("div",{className:"panel-footer",children:Object(o.jsxs)(v.a,{style:{backgroundColor:"transparent"},children:[Object(o.jsx)(m.Item,{location:"before",widget:"dxButton",options:t}),Object(o.jsx)(m.Item,{location:"before",widget:"dxButton",options:a})]})})]})})]})})}},{key:"renderCorPrimaria",value:function(e){return Object(o.jsx)("div",{style:{width:"100px",height:"100%",backgroundColor:e},children:"\xa0"})}},{key:"obterParametros",value:function(){var e=this;u.a.get("tema/get_parametros/",null,(function(t){e.tema_inicial=t.tema,e.setState({temaSelecionadoId:t.tema,temaSelecionadoNome:g.find((function(e){return e.id===t.tema})).nome,temaSelecionadoCorPrimaria:g.find((function(e){return e.id===t.tema})).corPrimaria,loaderBloqueio:"S"===t.loader_bloqueio,menuLateral:"S"===t.menu_lateral,buscaAutomatica:"S"===t.busca_automatica})}))}},{key:"salvar",value:function(){var e=this;u.a.post("tema/salvar",{tema:this.state.temaSelecionadoId,loader_bloqueio:this.state.loaderBloqueio,menu_lateral:this.state.menuLateral,busca_automatica:this.state.buscaAutomatica},(function(t){Object(O.default)("Tema alterado com sucesso."),p.a.unload(e.props.html_id)}))}},{key:"menuLateralChanged",value:function(e){this.setState({menuLateral:e.value})}},{key:"loaderBloqueioChanged",value:function(e){this.setState({loaderBloqueio:e.value})}},{key:"buscaAutomaticaChanged",value:function(e){this.setState({buscaAutomatica:e.value})}},{key:"onSelectionChanged",value:function(e){var t=e.selectedRowsData;if(!t||0===t.length)return!1;var a=t[0];if(!a)return!1;d.a.aplicar_tema(a.id),this.setState({temaSelecionadoId:a.id,temaSelecionadoNome:a.nome,temaSelecionadoCorPrimaria:a.corPrimaria})}}]),a}(h.a.Component);w.defaultProps={abaTitulo:"Temas"};t.default=w},1171:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var o=a(373),n=a(428),i=a(383),r=a(392),s=a(105),c=a(365),l=a(368),d=a(369),u=a(367),p=a(614);var f=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return a}(a.n(p).a);f.defaultProps={allowSortingBySummary:!1,allowSorting:!1,allowFiltering:!0,showBorders:!0,showColumnTotals:!1,showColumnGrandTotals:!1,showRowTotals:!1,showRowGrandTotals:!1,allowExpandAll:!0};var h=a(615),m=a.n(h),v=a(1070),b=a(1071),_=a(866),j=a(656),O=a(541),g=a.n(O),w=a(491),x=a(1072),y=a.n(x);function A(e){s.a.titulo_aba(e.html_id,"Aloca\xe7\xe3o de executores");var t=Object(i.useState)([]),a=Object(n.a)(t,2),c=a[0],l=a[1],d=Object(i.useState)(null),u=Object(n.a)(d,2),O=u[0],x=u[1],A=Object(i.useState)(null),S=Object(n.a)(A,2),C=S[0],R=S[1],I=Object(i.useState)(null),T=Object(n.a)(I,2),k=T[0],P=T[1],D=Object(i.useState)(null),E=Object(n.a)(D,2),M=E[0],N=E[1];function F(){r.a.get({route:"/atividade_projeto/relatorio_alocacao_executores/",data:{data_inicio:window.formatDate(k,!0),data_fim:window.formatDate(M,!0)},func_response:function(e){for(var t=0;t<e.length;t++)e[t].dia_alocado=new Date("".concat(e[t].dia_alocado," 23:59:59"));l(e)},func_fail:function(e){}})}Object(i.useEffect)((function(){!function(){var e=new Date,t=e.getDate()-e.getDay(),a=t+6,o=new Date(new Date(e).setDate(t)),n=new Date(new Date(e).setDate(a));P(o),N(n)}()}),[]),Object(i.useEffect)((function(){k&&M&&F()}),[k,M]),Object(i.useEffect)((function(){O&&C&&(O.bindChart(C,{dataFieldsDisplayMode:"splitPanes",alternateDataFields:!1}),setTimeout((function(){C.refresh(),O._$element.css("height","calc(100vh - 332px)")})))}),[O,C]);var L=new j.default({fields:[{caption:"Executor",dataField:"usuario_executor_nome",area:"row",sortBySummaryField:"HorasAlocadas",width:200,isMeasure:!1},{caption:"Projeto",dataField:"projeto_nome",area:"row"},{caption:"C\xf3digo do Projeto",dataField:"projeto_codigo",area:"row"},{caption:"Horas Alocadas",dataField:"horas_alocadas",dataType:"number",summaryType:"sum",area:"data"},{caption:"Dia Alocado",dataField:"dia_alocado",dataType:"date",area:"column",isMeasure:!1},{groupName:"dia_alocado",groupInterval:"day",visible:!0}],store:c});return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:y.a.filtrosData,children:[Object(o.jsx)(g.a,{applyValueMode:"useButtons",value:k,min:new Date(1900,1,1),max:M,onValueChanged:function(e){return P(e.value)}}),Object(o.jsx)(g.a,{applyValueMode:"useButtons",value:M,min:k,max:new Date(2222,12,31),onValueChanged:function(e){return N(e.value)}}),Object(o.jsx)(w.Button,{icon:"refresh",style:{cursor:"pointer"},onClick:function(){return F()}})]}),Object(o.jsx)("div",{className:y.a.pivotChart,children:Object(o.jsxs)(m.a,{ref:function(e){return R(e?e.instance:null)},children:[Object(o.jsx)(h.Size,{height:200}),Object(o.jsx)(h.Tooltip,{enabled:!0}),Object(o.jsx)(h.CommonSeriesSettings,{type:"bar"}),Object(o.jsx)(h.AdaptiveLayout,{width:450})]})}),Object(o.jsxs)(f,{id:"pivotgrid_alocao_executores",dataSource:L,onExporting:function(e){var t=new v.Workbook,a=t.addWorksheet("Alocacao_Executores");Object(_.exportPivotGrid)({component:e.component,worksheet:a}).then((function(){t.xlsx.writeBuffer().then((function(e){Object(b.saveAs)(new Blob([e],{type:"application/octet-stream"}),"Alocacao_Executores_".concat(window.formatDate(new Date,!0),".xlsx"))}))})),e.cancel=!0},ref:function(e){return x(e?e.instance:null)},children:[Object(o.jsx)(p.FieldChooser,{enabled:!0}),Object(o.jsx)(p.FieldPanel,{showColumnFields:!1,showDataFields:!1,showFilterFields:!1,showRowFields:!0,allowFieldDragging:!0,visible:!0}),Object(o.jsx)(p.Export,{enabled:!0}),Object(o.jsx)(p.StateStoring,{enabled:!0,type:"custom",customLoad:function(){return s.a.get_parametro_usuario("alocacao_executores_pivotgrid")},customSave:function(e){return s.a.set_parametro_usuario("alocacao_executores_pivotgrid",e)}})]})]})}},1172:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(386),f=a(392),h=a(405),m={dataField:"logo_id",caption:"Logo",cellTemplate:function(e,t){var a=t.data.logo_id;if(a){var o=window.WS_URI+"documento/midia/?documento_id="+a+"&token_midia="+window.App.sessao.token_midia;e.html('<div style="text-align: center; margin-top: 3px;"><img style="border-radius: 50%; height: 50px; width: 50px" class="imagem_responsavel" src="'+o+'"></div>')}else o="assets/img/img.svg",e.html('<div style="text-align: center; margin-top: 3px;"><img style="border-radius: 50%; height: 50px; width: 50px" class="imagem_responsavel" src="'+o+'"></div>')}};var v={dataField:"codigo",caption:"C\xf3digo"},b={dataField:"unidade",caption:"Unidade"},_={dataField:"nome_fantasia",caption:"Nome Fantasia"},j={dataField:"razao_social",caption:"Raz\xe3o Social"},O={dataField:"telefone1",caption:"Telefone 1"},g={dataField:"telefone2",caption:"Telefone 2"},w={dataField:"telefone3",caption:"Telefone 3"},x={dataField:"telefone4",caption:"Telefone 4"},y={enabled:!0,type:"custom",customLoad:function(e){return window.App.get_parametro_usuario("listarFornecedores")},customSave:function(e){window.App.set_parametro_usuario("listarFornecedores",e)}};var A=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={fornecedorLogo:"",fornecedorCodigo:"",fornecedorUnidade:"",fornecedorNomeFantasia:"",fornecedorRazaoSocial:"",fornecedorTelefone1:"",fornecedorTelefone2:"",fornecedorTelefone3:"",fornecedorTelefone4:""},o}return Object(i.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Novo fornecedor",text:"Novo fornecedor",onClick:function(){window.View.load("fornecedor/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"fornecedor")},location:"after",name:"BtnNovoFornecedor",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar listagem de fornecedores",text:"Recarregar fornecedores",onClick:function(){this.listarFornecedores=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-cog",hint:"Configura\xe7\xf5es",onClick:function(){window.View.load("fornecedor/configuracoes",(function(e,t){t.onclose=onclose,t.show()}))},visible:window.App.sessao.dados.admin},location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(u.default,{style:{height:"calc(100vh - 46px)"},onToolbarPreparing:this.onToolbarPreparing,dataSource:(e={dx_grid:!0},new h.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"fornecedor_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){f.a.get({route:"fornecedor/listar/",data:Object(p.a)(Object(p.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(p.a)(Object(p.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){f.a.get({route:"fornecedor/listar/",data:{dx_grid:!0,fornecedor_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),stateStoring:y,columns:[m,v,b,_,j,O,g,w,x,{type:"buttons",buttons:[{hint:"Editar",icon:"fas fa-pencil-alt",cssClass:"icon_black",onClick:function(e){window.View.load("fornecedor/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.fornecedor_id,window.FORMULARIO.EDITAR)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"fornecedor")},{hint:"Criar Unidade",icon:"fas fa-plus",cssClass:"icon_black",onClick:function(e){window.View.load("fornecedor/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.fornecedor_id,window.FORMULARIO.CRIAR_UNIDADE)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"fornecedor")},{hint:"Hist\xf3rico Entidade",icon:"fas fa-file",cssClass:"icon_black",onClick:function(e){window.View.load("entidade_historico/listar",(function(t,a){a.show(e.row.data.fornecedor_id,"F")}),window.View.ABA.MULTIPLAS)}},{hint:"Visualizar",icon:"fas fa-eye",cssClass:"icon_black",onClick:function(e){window.View.load("fornecedor/detalhes",(function(t,a){a.show(e.row.data.fornecedor_id,window.FORMULARIO.VISUALIZAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Excluir",icon:"fas fa-trash-alt",cssClass:"icon_black",onClick:function(e){window.View.load("fornecedor/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.fornecedor_id,window.FORMULARIO.EXCLUIR)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"fornecedor")}]}]})})})});var e}}]),a}(d.a.Component);A.defaultProps={abaTitulo:"Fornecedores"};t.default=A},1173:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(386),f=a(392),h=a(405),m={dataField:"codigo",caption:"C\xf3digo"},v={dataField:"unidade",caption:"Unidade"},b={dataField:"nome_fantasia",caption:"Nome Fantasia"},_={dataField:"razao_social",caption:"Raz\xe3o Social"},j={dataField:"telefone1",caption:"Telefone 1"},O={dataField:"telefone2",caption:"Telefone 2"},g={dataField:"telefone3",caption:"Telefone 3"},w={dataField:"telefone4",caption:"Telefone 4"},x=function(){var e="icon_black";return{type:"buttons",buttons:[{hint:"Editar",icon:"fas fa-pencil-alt",cssClass:e,onClick:function(e){window.View.load("prospect/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.prospect_id,window.FORMULARIO.EDITAR)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"prospect")},{hint:"Criar Unidade",icon:"fas fa-plus",cssClass:e,onClick:function(e){window.View.load("prospect/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.prospect_id,window.FORMULARIO.CRIAR_UNIDADE)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"prospect")},{hint:"Efetivar Organiza\xe7\xe3o",icon:"fas fa-check",cssClass:e,visible:function(e){return"N"===e.row.data.efetivado&&window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"prospect")},onClick:function(e){var t=new window.Validation;t.add(new window.ValidationMessage(window.Validation.CODES.ERR_FIELD,"Deseja efetivar "+e.row.data.nome_fantasia)),window.alert_modal("Organiza\xe7\xe3o",t,"Efetivar",(function(){f.a.post("prospect/efetivar",{prospect_id:e.row.data.prospect_id},(function(t){window.alert_saved(t.nome_fantasia+" efetivado com sucesso"),e.component.refresh()}))}),!0)}},{hint:"Hist\xf3rico Entidade",icon:"fas fa-file",cssClass:e,onClick:function(e){window.View.load("entidade_historico/listar",(function(t,a){a.show(e.row.data.prospect_id,"O")}),window.View.ABA.MULTIPLAS)}},{hint:"Visualizar",icon:"fas fa-eye",cssClass:e,onClick:function(e){window.View.load("prospect/detalhes",(function(t,a){a.show(e.row.data.prospect_id,window.FORMULARIO.VISUALIZAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Excluir",icon:"fas fa-trash-alt",cssClass:e,onClick:function(e){window.View.load("prospect/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.prospect_id,window.FORMULARIO.EXCLUIR)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"prospect")}]}},y={stateStoring:{enabled:!0,type:"custom",customLoad:function(e){return window.App.get_parametro_usuario("listarProspects")},customSave:function(e){window.App.set_parametro_usuario("listarProspects",e)}},export:{enabled:!0,fileName:"Relat\xf3rio de usu\xe1rios "+window.agora(),allowExportSelectedData:!0}};var A=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={prospectCodigo:"",prospectUnidade:"",prospectNomeFantasia:"",prospectRazaoSocial:"",prospectTelefone1:"",prospectTelefone2:"",prospectTelefone3:"",prospectTelefone4:""},o}return Object(i.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Nova organiza\xe7\xe3o",text:"Nova organiza\xe7\xe3o",onClick:function(){window.View.load("prospect/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"prospect")},location:"after",name:"BtnNovaOrganizacao",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar listagem de organiza\xe7\xf5es",text:"Recarregar organiza\xe7\xf5es",onClick:function(){this.listarProspects=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-file-import",hint:"Importar",onClick:function(){window.View.load("prospect/importar",(function(e,t){t.onclose=onclose,t.show()}))},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"prospect")},location:"after",name:"BtnImportar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-cog",hint:"Configura\xe7\xf5es",onClick:function(){window.View.load("prospect/configuracoes",(function(e,t){t.onclose=onclose,t.show()}))},visible:window.App.sessao.dados.admin},location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(u.default,{style:{height:"calc(100vh - 46px)"},onToolbarPreparing:this.onToolbarPreparing,dataSource:(e={dx_grid:!0},new h.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"prospect_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){f.a.get({route:"prospect/listar/",data:Object(p.a)(Object(p.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(p.a)(Object(p.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){f.a.get({route:"prospect/listar/",data:{dx_grid:!0,prospect_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),dataGridConfig:y,columns:[m,v,b,_,j,O,g,w,x()]})})})});var e}}]),a}(d.a.Component);A.defaultProps={abaTitulo:"Organiza\xe7\xf5es"};t.default=A},1174:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(407),f=a(386),h=a(392),m=a(405),v={dataField:"logo_id",caption:"Logo",cellTemplate:function(e,t){var a=t.data.logo_id;if(a){var o=window.WS_URI+"documento/midia/?documento_id="+a+"&token_midia="+window.App.sessao.token_midia;e.html('<div style="text-align: center; margin-top: 3px;"><img style="border-radius: 50%; height: 50px; width: 50px" class="imagem_responsavel" src="'+o+'"></div>')}else o="assets/img/img.svg",e.html('<div style="text-align: center; margin-top: 3px;"><img style="border-radius: 50%; height: 50px; width: 50px" class="imagem_responsavel" src="'+o+'"></div>')}};var b={dataField:"codigo",caption:"C\xf3digo"},_={dataField:"unidade",caption:"Unidade"},j={dataField:"nome_fantasia",caption:"Nome Fantasia"},O={dataField:"razao_social",caption:"Raz\xe3o Social"},g={dataField:"telefone1",caption:"Telefone 1"},w={dataField:"telefone2",caption:"Telefone 2"},x={dataField:"telefone3",caption:"Telefone 3"},y={dataField:"telefone4",caption:"Telefone 4"},A=function(e){return{type:"buttons",buttons:[{hint:"Editar",icon:"fas fa-pencil-alt",cssClass:"icon_black",onClick:function(e){window.View.load("cliente/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.cliente_id,window.FORMULARIO.EDITAR)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"cliente")&&e&&"N"===e.somente_consulta_cliente},{hint:"Criar Unidade",icon:"fas fa-plus",cssClass:"icon_black",onClick:function(e){window.View.load("cliente/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.cliente_id,window.FORMULARIO.CRIAR_UNIDADE)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"cliente")&&e&&"N"===e.somente_consulta_cliente},{hint:"Hist\xf3rico Entidade",icon:"fas fa-file",cssClass:"icon_black",onClick:function(e){window.View.load("entidade_historico/listar",(function(t,a){a.show(e.row.data.cliente_id,"C")}),window.View.ABA.MULTIPLAS)}},{hint:"Visualizar",icon:"fas fa-eye",cssClass:"icon_black",onClick:function(e){window.View.load("cliente/detalhes",(function(t,a){a.show(e.row.data.cliente_id,window.FORMULARIO.VISUALIZAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Excluir",icon:"fas fa-trash-alt",cssClass:"icon_black",onClick:function(e){window.View.load("cliente/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.cliente_id,window.FORMULARIO.EXCLUIR)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"cliente")&&e&&"N"===e.somente_consulta_cliente}]}},S={enabled:!0,type:"custom",customLoad:function(e){return window.App.get_parametro_usuario("listarClientes")},customSave:function(e){window.App.set_parametro_usuario("listarClientes",e)}};var C=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={clienteLogo:"",clienteCodigo:"",clienteUnidade:"",clienteNomeFantasia:"",clienteRazaoSocial:"",clienteTelefone1:"",clienteTelefone2:"",clienteTelefone3:"",clienteTelefone4:"",clienteParametros:null},o.getParametrosCliente=o.getParametrosCliente.bind(Object(r.a)(o)),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(r.a)(o)),o}return Object(i.a)(a,[{key:"getParametrosCliente",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this;h.a.get("cliente/get_parametros/",null,(function(o){a.setState({clienteParametros:o},(function(){t&&e.component.repaint()}))}))}},{key:"componentDidMount",value:function(){this.getParametrosCliente()}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Novo cliente",text:"Novo cliente",onClick:function(){window.View.load("cliente/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"cliente")&&this.state.clienteParametros&&"N"===this.state.clienteParametros.somente_consulta_cliente},location:"after",name:"BtnNovoCliente",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar listagem de clientes",text:"Recarregar clientes",onClick:function(){this.listarClientes=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-file-import",hint:"Importar",onClick:function(){window.View.load("cliente/importar",(function(t,a){a.onclose=e.component.refresh,a.show()}))},visible:window.App.verifica_permissao(window.App.sessao.dados.empresa_filial_id,"cliente")},location:"after",name:"BtnImportar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-cog",hint:"Configura\xe7\xf5es",onClick:function(){window.View.load("cliente/configuracoes",(function(a,o){o.onclose=function(){t.getParametrosCliente(e,!0)},o.show()}))},visible:window.App.sessao.dados.admin},location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items)}},{key:"render",value:function(){return null!==this.state.clienteParametros&&Object(o.jsx)(u.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(p.default,{style:{height:"calc(100vh - 46px)"},onToolbarPreparing:this.onToolbarPreparing,dataSource:(t={dx_grid:!0},new m.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"cliente_id",load:function(e){var a=window.loadOptionsToActionParams(e);return new Promise((function(e,o){h.a.get({route:"cliente/listar/",data:Object(f.a)(Object(f.a)({},a),t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(f.a)(Object(f.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){h.a.get({route:"cliente/listar/",data:{dx_grid:!0,cliente_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),stateStoring:S,columns:(e=this.state.clienteParametros,[v,b,_,j,O,g,w,x,y,A(e)])})})})});var e,t}}]),a}(u.a.Component);C.defaultProps={abaTitulo:"Clientes"};t.default=C},1175:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(386),f=a(392),h=a(405),m=a(452),v=[{dataField:"formulario_id",caption:"ID"},{dataField:"nome",caption:"Nome"},{dataField:"tipo_formulario_descritivo",caption:"Tipo Formul\xe1rio"},{type:"buttons",buttons:[{hint:"Editar",icon:"edit",cssClass:"icon_black",onClick:function(e){window.View.load("formulario/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.formulario_id,window.FORMULARIO.EDITAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Visualizar",icon:"fas fa-eye",cssClass:"icon_black",onClick:function(e){window.View.load("formulario/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.formulario_id,window.FORMULARIO.VISUALIZAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Clonar",icon:"copy",cssClass:"icon_black",onClick:function(e){window.View.load("formulario/clonar",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.nome,e.row.data.formulario_id)}))}},{hint:"Exportar",icon:"export",cssClass:"icon_black",onClick:function(e){f.a.get("formulario/objeto/",{formulario_id:e.row.data.formulario_id},(function(t){var a=encodeURIComponent(JSON.stringify(t)),o=document.createElement("a");o.setAttribute("download",e.row.data.nome+".nbpf"),o.setAttribute("href","data:application/json;charset=utf-8,"+a),o.click()}))}},{hint:"Excluir",icon:"trash",cssClass:"icon_black",onClick:function(e){var t=!1,a="",o="";f.a.get("formulario/get_parametros/",null,(function(n){n.formulario_cliente_id===e.row.data.formulario_id&&null!=n.formulario_cliente_id&&(t=!0,o="Cliente"),n.formulario_prospect_id===e.row.data.formulario_id&&null!=n.formulario_prospect_id&&(t=!0,a="Organiza\xe7\xe3o",o=""!==o?o+" e "+a:a),t?Object(m.alert)("Este formul\xe1rio est\xe1 sendo utilizado em cadastros de <strong>"+o+"</strong>. Por gentileza, desfa\xe7a o v\xednculo antes de prosseguir com a exclus\xe3o.","Aviso"):window.View.load("formulario/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.formulario_id,window.FORMULARIO.EXCLUIR)}),window.View.ABA.MULTIPLAS)}))}}]}];var b=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Novo Formul\xe1rio",text:"Novo Formul\xe1rio",onClick:function(){window.View.load("formulario/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)}},location:"after",name:"BtnNovoFormulario",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-upload",hint:"Importar Formul\xe1rio",text:"Importar",onClick:function(){window.View.load("formulario/importacao",(function(t,a){a.onclose=e.component.refresh,a.show()}))}},location:"after",name:"BtnImportarFormulario",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(u.default,{style:{height:"calc(100vh - 50px)"},dataSource:(e={dx_grid:!0},new h.default({key:"formulario_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){f.a.get({route:"formulario/listar/",data:Object(p.a)(Object(p.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(p.a)(Object(p.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),columns:v,pager:{showPageSizeSelector:!0,allowedPageSizes:[25,50,100],showInfo:!0},onToolbarPreparing:this.onToolbarPreparing,export:{enabled:!0,fileName:"Listagem_Formularios_"+window.agora(),allowExportSelectedData:!1},stateStoring:{enabled:!0,type:"custom",customLoad:function(e){return window.App.get_parametro_usuario("listagemModelagemFormulario")},customSave:function(e){window.App.set_parametro_usuario("listagemModelagemFormulario",e)}}})})})});var e}}]),a}(d.a.Component);b.defaultProps={abaTitulo:"Formul\xe1rios"}},1176:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(386),f=a(392),h=a(405),m=[{dataField:"processo_id",caption:"Id"},{dataField:"nome",caption:"Nome"},{dataField:"categoria_processos_nome",caption:"Categoria"},{dataField:"ativo",caption:"Ativo"},{dataField:"versao_processo",caption:"Vers\xe3o"},{dataField:"versao_publicacao",caption:"Publica\xe7\xe3o"},{dataField:"sequencia_solicitacoes",caption:"Solicita\xe7\xf5es"},function(){var e="icon_black";return{type:"buttons",buttons:[{hint:"Editar",icon:"fas fa-pencil-alt",cssClass:e,onClick:function(e){window.View.load("processo/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.processo_id,window.FORMULARIO.EDITAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Clonar processo",icon:"copy",cssClass:e,onClick:function(e){window.View.load("processo/clonar",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.nome,e.row.data.processo_id)}),window.View.ABA.MULTIPLAS)}},{hint:"Exportar",icon:"export",cssClass:e,onClick:function(e){f.a.get("processo/objeto/",{processo_id:e.row.data.processo_id,exportacao:!0},(function(t){var a=encodeURIComponent(JSON.stringify(t)),o=document.createElement("a");o.setAttribute("download",e.row.data.nome+".nbpm"),o.setAttribute("href","data:application/json;charset=utf-8,"+a),o.click()}))}},{hint:"Visualizar",icon:"fas fa-eye",cssClass:e,onClick:function(e){window.View.load("processo/detalhes",(function(t,a){a.show(e.row.data.processo_id,window.FORMULARIO.VISUALIZAR)}),window.View.ABA.MULTIPLAS)}},{hint:"Excluir",icon:"fas fa-trash-alt",cssClass:e,onClick:function(e){window.View.load("processo/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.processo_id,window.FORMULARIO.EXCLUIR)}),window.View.ABA.MULTIPLAS)}}]}}()],v={enabled:!0,type:"custom",customLoad:function(e){return window.App.get_parametro_usuario("listarProcessos")},customSave:function(e){window.App.set_parametro_usuario("listarProcessos",e)}};var b=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={processoId:"",processoNome:"",processoCategoria:"",processoAtivo:"",processoVersao:"",processoPublicacao:"",processoSolicitacoes:""},o}return Object(i.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Novo processo",text:"Novo processo",onClick:function(){window.View.load("processo/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)}},location:"after",name:"BtnNovoProcesso",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-upload",hint:"Importar Processo",onClick:function(){window.View.load("processo/importacao",(function(t,a){a.onclose=e.component.refresh,a.show()}))}},location:"after",name:"BtnImportarProcesso",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar listagem de processos",text:"Recarregar processos",onClick:function(){this.listarProcessos=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fas fa-cog",hint:"Configura\xe7\xf5es",onClick:function(){window.View.load("processo/configuracoes",(function(e,t){t.onclose=onclose,t.show()}))},visible:window.App.sessao.dados.admin},location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(u.default,{style:{height:"calc(100vh - 46px)"},onToolbarPreparing:this.onToolbarPreparing,dataSource:(e={dx_grid:!0},new h.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"processo_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){f.a.get({route:"processo/listar/",data:Object(p.a)(Object(p.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(p.a)(Object(p.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){f.a.get({route:"processo/listar/",data:{dx_grid:!0,processo_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),stateStoring:v,columns:m,export:{enabled:!0,fileName:"Listagem_Processos_"+window.agora(),allowExportSelectedData:!1}})})})});var e}}]),a}(d.a.Component);b.defaultProps={abaTitulo:"Processos"};t.default=b},1177:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(667),m=a(420),v=[Object(o.jsx)(m.a,{caption:"Grupo Motivo"})],b=a(105),_=a(412),j=a(390),O=a(470),g=a(444);var w=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Grupo de Motivos",text:"Adicionar",onClick:function(){_.a.loadReact(window.views.grupoMotivoChamado.Detalhes.default,{grupoMotivoChamadoId:null,onClose:e.component.refresh},(function(e){}),_.a.ABA.SIM)}},location:"after",name:"BtnNovoMotivoChamado",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){this.listarMotivoChamado=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"preferences",hint:"Configura\xe7\xf5es",text:"Configura\xe7\xf5es",onClick:function(){if(!b.a.sessao.dados.admin)return window.alert_modal("Valida\xe7\xe3o","Sem permiss\xe3o para alterar as configura\xe7\xf5es!","Ok",(function(){return!1})),!1;_.a.load("grupo_motivo_chamado/configuracao",(function(e,t){t.show()}))},visible:window.App.sessao.dados.admin},showText:"inMenu",location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"render",value:function(){var e=[].concat(Object(n.a)(v),[Object(o.jsxs)(j.Column,{type:"buttons",children:[Object(o.jsx)(O.a,{onClick:function(e){_.a.loadReact(window.views.grupoMotivoChamado.Detalhes.default,{grupoMotivoChamadoId:e.row.data.grupo_id,onClose:e.component.refresh},(function(e){}),_.a.ABA.SIM)}}),Object(o.jsx)(g.a,{onClick:function(e){Object(h.d)(e.row.data.grupo_id,(function(){return e.component.refresh()}),(function(){return e.component.refresh()}))}})]})]);return Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)",width:"100%"},stateStoring:Object(f.stateStoring)("DataGridGrupoMotivoList"),onToolbarPreparing:this.onToolbarPreparing,dataSource:Object(h.a)({dx_grid:!0}),children:e})})})})}}]),a}(p.a.Component);w.defaultProps={abaTitulo:"Grupos de Motivos"};t.default=w},1178:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(818),m=a(420),v=a(568),b=[Object(o.jsx)(m.a,{caption:"Avalia\xe7\xe3o",width:200}),Object(o.jsx)(v.a,{width:200}),Object(o.jsx)(v.a,{dataField:"avaliacao_cliente",caption:"Habilitar para Clientes",width:200}),Object(o.jsx)(v.a,{dataField:"avaliacao_colaborador",caption:"Habilitar para Colaboradores",width:200}),Object(o.jsx)(v.a,{dataField:"avaliacao_fornecedor",caption:"Habilitar para Fornecedores",width:200}),Object(o.jsx)(v.a,{dataField:"avaliacao_organizacao",caption:"Habilitar para Organiza\xe7\xf5es",width:200})],_=a(412),j=a(390),O=a(444),g=a(454);var w=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o.dataGrid=null,o}return Object(r.a)(a,[{key:"onToolbarPreparing",value:function(e){this.dataGrid=e.component;var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Avalia\xe7\xe3o",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){this.listarMotivoChamado=e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"preferences",hint:"Configura\xe7\xf5es",text:"Configura\xe7\xf5es",onClick:function(){_.a.load("nota_avaliacao/configuracoes",(function(e,t){t.show()}))},visible:window.App.sessao.dados.admin},showText:"inMenu",location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=e.component.getController("editing").getChanges();Object(h.b)(a,(function(t){e.component.saveEditData()}))})}}},{key:"render",value:function(){var e=this,t=[].concat(Object(n.a)(b),[Object(o.jsxs)(j.Column,{type:"buttons",children:[Object(o.jsx)(O.a,{visible:function(e){return!e.row.removed&&!e.row.data.padrao},onClick:function(t){return e.dataGrid.deleteRow(t.row.rowIndex)}}),Object(o.jsx)(g.a,{visible:function(e){return e.row.removed},onClick:function(t){e.dataGrid.undeleteRow(t.row.rowIndex),t.event.preventDefault()}})]})]);return Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 46px)"},stateStoring:Object(f.stateStoring)("DataGridNotaAvaliacao"),onToolbarPreparing:this.onToolbarPreparing,dataSource:Object(h.a)({dx_grid:!0}),editing:{mode:"batch",allowUpdating:!0,allowAdding:!1,allowDeleting:!0},onInitNewRow:function(e){e.data.padrao=!1,e.data.avaliacao_cliente=!1,e.data.avaliacao_colaborador=!1,e.data.avaliacao_fornecedor=!1,e.data.avaliacao_organizacao=!1},onCellClick:function(e){if(e.column&&"padrao"===e.column.dataField&&!0===e.value){var t=[];e.row.isNewRow&&(t=e.component.getController("editing").getChanges().map((function(e){return e.data}))),e.component.getDataSource()._items.forEach((function(e){return t.push(e)})),t.forEach((function(t,a){a!==e.row.rowIndex&&(!0===e.component.cellValue(a,e.column.dataField)&&e.component.cellValue(a,e.column.dataField,!1))}))}},children:t})})})})}}]),a}(p.a.Component);w.defaultProps={abaTitulo:"Classifica\xe7\xe3o de Avalia\xe7\xe3o"};t.default=w},1179:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var o=a(373),n=a(393),i=a(386),r=a(365),s=a(366),c=a(387),l=a(368),d=a(369),u=a(367),p=a(383),f=a.n(p),h=a(407),m=a(392),v=a(405),b=a(390),_=a(593);var j=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(i.a)(Object(i.a)({},o.state),o.propsToObjState()),o.onReorder=o.onReorder.bind(Object(c.a)(o)),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){return{dataSource:(e={dx_grid:!0},new v.default({key:"id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){m.a.get({route:"menu_personalizado/listar/",data:Object(i.a)(Object(i.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(i.a)(Object(i.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),allowReordering:!0};var e}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"fas fa-plus",hint:"Novo Menu Personalizado",text:"Novo Menu Personalizado",onClick:function(){window.View.load("menu_personalizado/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(null,window.FORMULARIO.NOVO)}))}},location:"after",name:"BtnNovoMenuPersonalizado",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"fa fa-sync",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items)}},{key:"onReorder",value:function(e){var t=e.component.getVisibleRows(),a=Object(n.a)(this.state.dataSource._items),o=t[e.fromIndex].data,i=o.ordem,r=a.indexOf(t[e.toIndex].data);m.a.post({route:"/menu_personalizado/alterar_ordem/",data:{menu_personalizado_id:o.id,old_ordem:i,new_ordem:r},func_response:function(t){e.component.refresh(),Object(_.default)("Recarregue a p\xe1gina para que a ordena\xe7\xe3o tenha efeito no Menu Lateral")}})}},{key:"render",value:function(){return Object(o.jsx)(f.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",id:"teste",children:Object(o.jsx)(h.default,{style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,stateStoring:{enabled:!0,type:"custom",customLoad:function(){return window.App.get_parametro_usuario("listagem_menu_personalizado")},customSave:function(e){window.App.set_parametro_usuario("listagem_menu_personalizado",e)}},columns:[{caption:"Nome",dataField:"nome",allowHiding:!1,cellTemplate:function(e,t){var a=t.data.nome;if(a){var o=t.data.imagem_id,n=null!==t.data.url_menu_img&&""!==t.data.url_menu_img?t.data.url_menu_img:"assets/img/integracao.svg",i=o?window.WS_URI+"documento/midia/?&tamanho=20&documento_id="+o+"&token_midia="+window.App.sessao.token_midia:n;e.html('<div style="margin-top: 3px;"><img style="height: 20px; width: 20px" class="imagem_responsavel" src="'+i+'"><span style="margin-left: 5px;">'+a+"</span></div>")}}},{caption:"URL",dataField:"url_menu_personalizado"},{caption:"Permiss\xe3o",dataField:"permissao_necessaria"},{caption:"Ativo",dataField:"menu_personalizado_ativo"},{type:"buttons",buttons:[{hint:"Editar",icon:"fas fa-pencil-alt",cssClass:"icon_black",onClick:function(e){window.View.load("menu_personalizado/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.id,window.FORMULARIO.EDITAR)}))}},{hint:"Visualizar",icon:"fas fa-eye",cssClass:"icon_black",onClick:function(e){window.View.load("menu_personalizado/detalhes",(function(t,a){a.show(e.row.data.id,window.FORMULARIO.VISUALIZAR)}))}},{hint:"Excluir",icon:"fas fa-trash-alt",cssClass:"icon_black",onClick:function(e){window.View.load("menu_personalizado/detalhes",(function(t,a){a.onclose=e.component.refresh,a.show(e.row.data.id,window.FORMULARIO.EXCLUIR)}))}}]}],onToolbarPreparing:this.onToolbarPreparing,groupPanel:{visible:!1},sorting:{mode:"none"},children:Object(o.jsx)(b.RowDragging,{allowReordering:this.state.allowReordering,onReorder:this.onReorder,dropFeedbackMode:"push"})})})})})}}]),a}(f.a.Component);j.defaultProps={abaTitulo:"Menus Personalizados"}},1180:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var o=a(373),n=a(393),i=a(386),r=a(365),s=a(366),c=a(387),l=a(368),d=a(369),u=a(367),p=a(383),f=a.n(p),h=a(407),m=a(390),v=a(813),b=a(420),_=a(568),j=[Object(o.jsx)(b.a,{}),Object(o.jsx)(_.a,{})],O=a(392),g=a(444),w=a(454);var x=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(i.a)(Object(i.a)({},o.state),o.propsToObjState()),o.onReorder=o.onReorder.bind(Object(c.a)(o)),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(c.a)(o)),o.listRef=f.a.createRef(),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){return{allowReordering:!0,dataSource:Object(v.a)()}}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Prioridade",text:"Adicionar",onClick:function(){t.setState({allowReordering:!1}),e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items);for(var o=0;o<e.toolbarOptions.items.length;o++){var n=e.toolbarOptions.items[o];"saveButton"===n.name&&(n.options.onClick=function(t){var a=window.CircularJSON.stringify(e.component.getController("editing").getChanges());O.a.post("/chamado_prioridades/salvar_dxdatagrid/",{data:a},(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}))}),"revertButton"===n.name&&(n.options.onClick=function(a){t.setState({allowReordering:!0}),e.component.cancelEditData()})}}},{key:"onReorder",value:function(e){var t=e.component.getVisibleRows(),a=Object(n.a)(this.state.dataSource._items),o=t[e.fromIndex].data,i=o.ordem,r=null;r=-1===a.indexOf(t[e.toIndex].data)?a.indexOf(a[e.toIndex])+1:a.indexOf(t[e.toIndex].data)+1,O.a.post({route:"/chamado_prioridades/alterar_ordem/",data:{chamado_prioridade_id:o.chamado_prioridade_id,old_ordem:i,new_ordem:r},func_response:function(t){e.component.refresh()}})}},{key:"render",value:function(){var e=[].concat(Object(n.a)(j),[Object(o.jsxs)(m.Column,{type:"buttons",children:[Object(o.jsx)(g.a,{visible:function(e){return!e.row.removed&&!1===e.row.data.padrao},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(w.a,{visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]})]);return Object(o.jsx)("div",{children:Object(o.jsxs)(h.default,{ref:this.listRef,style:{height:"calc(100vh - 46px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,columnChooser:{visible:!1},groupPanel:{visible:!1},selection:{mode:"multiple"},stateStoring:Object(v.b)(),editing:{mode:"batch",allowUpdating:!0,useIcons:!0},onCellClick:function(e){if(e.column&&"padrao"===e.column.dataField&&!0===e.value){var t=[];e.row.isNewRow&&(t=e.component.getController("editing").getChanges().map((function(e){return e.data}))),e.component.getDataSource()._items.forEach((function(e){return t.push(e)})),t.forEach((function(t,a){a!==e.row.rowIndex&&(!0===e.component.cellValue(a,e.column.dataField)&&e.component.cellValue(a,e.column.dataField,!1))}))}},onInitNewRow:function(e){e.data.padrao=!1},children:[e,Object(o.jsx)(m.RowDragging,{allowReordering:this.state.allowReordering,onReorder:this.onReorder,dropFeedbackMode:"push"})]})})}},{key:"list",get:function(){return this.listRef.current?this.listRef.current.instance:null}}]),a}(f.a.Component);x.defaultProps={abaTitulo:"Prioridades de Chamados"}},1181:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(831),m=a(492),v=a(507),b=[Object(o.jsx)(m.a,{dataField:"categoria_pdca_id",caption:"#",allowEditing:!1,fixed:!0,fixedPosition:"left",width:60}),Object(o.jsx)(v.a,{dataField:"nome",caption:"Nome"})],_=a(390),j=a(444),O=a(454),g=a(392);var w=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:Object(h.a)()},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"render",value:function(){var e=[].concat(Object(n.a)(b),[Object(o.jsxs)(_.Column,{type:"buttons",children:[Object(o.jsx)(j.a,{visible:function(e){return!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(O.a,{visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,editing:{mode:"batch",useIcons:!0,allowUpdating:!0},selection:{mode:"multiple"},style:{height:"calc(100vh - 45px)"},children:e})})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar \xc1rea de PDCA",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnAdicionar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.onClick=function(t){var a=window.CircularJSON.stringify(e.component.getController("editing").getChanges());g.a.post("/categoria_pdca/salvar/",{data:a},(function(t){var a=!0===t?"success":"error",o=!0===t?"Altera\xe7\xf5es salvas com sucesso":"Falha ao salvar altera\xe7\xf5es";window.alert_tooltip(o,a),!0===t&&(e.component.cancelEditData(),setTimeout((function(){e.component.refresh()})))}))})}}}]),a}(p.a.Component);w.defaultProps={abaTitulo:"Categorias de PDCA"}},1182:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(420),m=a(568),v=a(812),b=a(507),_=a(677),j=a(63),O=a.n(j),g=[Object(o.jsx)(h.a,{dataField:"nome_fantasia",caption:"Nome Fantasia"},"nome_fantasia"),Object(o.jsx)(h.a,{dataField:"razao_social",caption:"Raz\xe3o Social"},"razao_social"),Object(o.jsx)(m.a,{dataField:"padrao",caption:"Empresa Padr\xe3o",width:180,calculateCellValue:function(e){return"S"==e.padrao}},"empresa_padrao"),Object(o.jsx)(v.a,{dataField:"cnpj"},"cnpj"),Object(o.jsx)(_.a,{dataField:"vigencia_de",caption:"V\xe1lida De"},"vigencia_de"),Object(o.jsx)(_.a,{dataField:"vigencia_ate",caption:"V\xe1lida At\xe9"},"vigencia_ate"),Object(o.jsx)(b.a,{caption:"Status Licen\xe7a",dataField:"licenca_valida_descricao",cellTemplate:function(e,t){var a="",o="";switch(t.data.licenca_valida){case!0:a="label-success",o="V\xe1lida";break;case!1:a="label-danger",o="Inv\xe1lida"}e.css({textAlign:"center"}).addClass("bg-"+a),O()("<label>").text(o).css({color:"#FFF"}).appendTo(e)}},"licenca")],w=a(390),x=a(470),y=a(444),A=a(412),S=a(392),C=a(105);var R=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={dataSource:[]},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o.listar_empresas=o.listar_empresas.bind(Object(s.a)(o)),o.listar_empresas(),o}return Object(r.a)(a,[{key:"listar_empresas",value:function(){var e=this;S.a.get("empresa/listar/",null,(function(t){e.setState({dataSource:t})}))}},{key:"render",value:function(){var e=this,t=[].concat(Object(n.a)(g),[Object(o.jsxs)(w.Column,{type:"buttons",children:[Object(o.jsx)(x.a,{onClick:function(t){A.a.load("empresa/detalhes",(function(a,o){o.onclose=e.listar_empresas,o.show(t.row.data.empresa_id,window.FORMULARIO.EDITAR,t.row.data.licenca_valida)}),A.a.ABA.MULTIPLAS)}}),Object(o.jsx)(y.a,{onClick:function(t){A.a.load("empresa/detalhes",(function(a,o){o.onclose=e.listar_empresas,o.show(t.row.data.empresa_id,window.FORMULARIO.EXCLUIR,t.row.data.licenca_valida)}),A.a.ABA.MULTIPLAS)}})]})]);return Object(o.jsx)("div",{children:Object(o.jsx)(f.default,{style:{height:"calc(100vh - 45px)"},dataSource:this.state.dataSource,onToolbarPreparing:this.onToolbarPreparing,stateStoring:Object(f.stateStoring)("listagem_empresa_filial"),selection:{mode:"multiple"},children:t})})}},{key:"onToolbarPreparing",value:function(e){var t=this,a=[{widget:"dxDropDownButton",options:{icon:"key",hint:"Renovar Licen\xe7as",text:"Renovar Licen\xe7as",dropDownOptions:{width:322},items:[{text:"Renovar Licen\xe7as Autom\xe1ticamente",icon:"refresh",onClick:function(e){S.a.get("empresa/licenca/renovar/",null,(function(e){var a="";e.log.forEach((function(e){return a+=e+"<br>"})),window.alert_modal("Renova\xe7\xe3o autom\xe1tica",a),t.listar_empresas()}))}},{text:"Testar Comunica\xe7\xe3o Com Servido de Licen\xe7as",icon:"link",onClick:function(e){S.a.post("empresa/licenca/testar_servidor/",null,(function(e){}))}}]},showText:"inMenu",location:"after",name:"BtnRenovar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Empresa",text:"Adicionar",onClick:function(){A.a.load("empresa/detalhes",(function(e,a){a.onclose=t.listar_empresas,a.show(null,window.FORMULARIO.NOVO,!!C.a.temp.empresa)}),A.a.ABA.MULTIPLAS)}},location:"after",name:"BtnAdicionar",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){t.listar_empresas()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items)}}]),a}(p.a.Component);R.defaultProps={abaTitulo:"Empresas"}},1183:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var o=a(373),n=a(434),i=a.n(n),r=a(435),s=a(365),c=a(366),l=a(387),d=a(368),u=a(369),p=a(367),f=a(383),h=a.n(f),m=a(842),v=a.n(m),b=a(63),_=a.n(b),j=a(392),O=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,o,n,r,s,c,l,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get({route:"/atividade_projeto/listar_todas_atividades_gantt/",data:{projeto_id:t},awaitReturn:!0});case 2:if(a=e.sent,o={tasks:[],dependencies:[],resources:[],resourceAssignments:[]},a.length)for(n=1,r=0;r<a.length;r++)if(s=a[r],c=s.previsao_inicio?new Date(s.previsao_inicio):null,l=s.prazo?new Date(s.prazo):null,d=s.conclusao?new Date(s.conclusao):null,o.tasks.push({id:"P"===s.tipo_atividade?"raiz":+s.id,parentId:"P"===s.tipo_atividade?-1:s.pai_id?+s.pai_id:"raiz",codigo:s.codigo,title:s.atividade_simplificada,start:c instanceof Date&&!isNaN(c)?c:null,end:l instanceof Date&&!isNaN(l)?l:null,conclusao:d instanceof Date&&!isNaN(d)?d:null,progress:s.porcentagem?+s.porcentagem:0,status:+s.status}),s.predecessoras.length)for(u=0;u<s.predecessoras.length;u++)p=s.predecessoras[u],o.dependencies.push({id:n,predecessorId:+p.id,successorId:+s.id,type:0}),n++;return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=a(1081),w=a.n(g);var x=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).keyCount=0,o.getKey=o.getKey.bind(Object(l.a)(o)),o.state={tasks:[],dependencies:[],resources:[],resourceAssignments:[]},o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.handleInitialRequest(),setTimeout((function(){e.forceUpdate()}),100)}},{key:"getKey",value:function(){return++this.keyCount}},{key:"handleInitialRequest",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(this.props.projeto_id);case 2:t=e.sent,this.setState({tasks:t.tasks.length?t.tasks:[],dependencies:t.dependencies.length?t.dependencies:[],resources:t.resources.length?t.resources:[],resourceAssignments:t.resourceAssignments.length?t.resourceAssignments:[]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)(v.a,{taskListWidth:900,scaleType:"days",rootValue:-1,height:"calc(100vh - 50px)",taskContentTemplate:function(e,t){var a="#3498DB",o="#2980B9";if("raiz"===e.taskData.id)switch(e.taskData.status){case window.PROJETO_STATUS.CONCLUIDO:a="#2ECC71",o="#27AE60";break;case window.PROJETO_STATUS.NAO_INICIADO:a="#FF8C00",o="#CC6600";break;case window.PROJETO_STATUS.CANCELADO:a="#FF3838",o="#c0392b";break;default:a="#3498DB",o="#2980B9"}else switch(e.taskData.status){case window.PROJETO_STATUS_ATIVIDADES.PROGRAMADO:a="#a6a6a6",o="#808080";break;case window.PROJETO_STATUS_ATIVIDADES.NAO_INICIADO:a="#FF8C00",o="#CC6600";break;case window.PROJETO_STATUS_ATIVIDADES.CONCLUIDO:a="#2ECC71",o="#27AE60";break;case window.PROJETO_STATUS_ATIVIDADES.CANCELADA:case window.PROJETO_STATUS_ATIVIDADES.ATRASADO:a="#FF3838",o="#c0392b";break;default:a="#3498DB",o="#2980B9"}var n=_()("<div>").addClass(w.a.progress).addClass("div-progress").css({width:e.taskSize.width,backgroundColor:a}),i=_()("<div>").addClass(w.a.progressBar).addClass("div-progress-bar").css({backgroundColor:o,width:"".concat(e.taskData.progress,"%")}),r=_()("<div>").addClass(w.a.progressBarText).addClass("div-progress-bar-text").text("".concat(e.taskData.progress,"%")),s=_()("<div>").css({textAlign:"right",paddingTop:2,paddingLeft:5,color:"white"}).text("".concat(e.taskData.progress,"%"));_()(i).appendTo(n),e.taskSize.width>=221&&e.taskSize.width<332&&e.taskData.progress>=14||e.taskSize.width>=332&&e.taskData.progress>0?_()(r).appendTo(i):e.taskSize.width>=35&&_()(s).appendTo(i),_()(n).appendTo(t)},children:[Object(o.jsxs)(m.Toolbar,{children:[Object(o.jsx)(m.Item,{name:"collapseAll"}),Object(o.jsx)(m.Item,{name:"expandAll"}),Object(o.jsx)(m.Item,{name:"separator"}),Object(o.jsx)(m.Item,{name:"zoomIn"}),Object(o.jsx)(m.Item,{name:"zoomOut"}),Object(o.jsx)(m.Item,{name:"separator"}),Object(o.jsx)(m.Item,{widget:"dxButton",options:{text:"Legendas",hint:"Legendas",icon:"bulletlist",stylingMode:"text",onClick:function(e){window.alertaPopUp("Legendas",(function(e){for(var t=_()("<div>"),a=_()("<ul>").appendTo(t),o=["#3498DB","#FF8C00","#2ECC71","#FF3838","#a6a6a6"],n=[" Em andamento"," N\xe3o iniciado"," Conclu\xeddo"," Cancelado/Atrasado"," Programado"],i=0;i<o.length;i++){var r=_()("<li>").appendTo(a);_()("<span>").addClass(w.a.progress).css({backgroundColor:o[i],display:"inline-block",width:50,height:12}).appendTo(r),_()("<span>").text(n[i]).css({fontSize:17}).appendTo(r)}_()(e).append(t)}),"Ok",(function(){}),null,null,500,250)}}}),Object(o.jsx)(m.Item,{widget:"dxButton",options:{hint:"Recarregar",icon:"refresh",stylingMode:"text",onClick:function(t){e.handleInitialRequest()}}})]}),Object(o.jsx)(m.Tasks,{dataSource:this.state.tasks}),Object(o.jsx)(m.Dependencies,{dataSource:this.state.dependencies}),Object(o.jsx)(m.Resources,{dataSource:this.state.resources}),Object(o.jsx)(m.ResourceAssignments,{dataSource:this.state.resourceAssignments}),Object(o.jsx)(m.Column,{dataField:"title",caption:"Nome",width:200}),Object(o.jsx)(m.Column,{dataField:"codigo",caption:"C\xf3digo",width:100}),Object(o.jsx)(m.Column,{dataField:"start",caption:"Previs\xe3o In\xedcio",width:150}),Object(o.jsx)(m.Column,{dataField:"end",caption:"Prazo",width:150}),Object(o.jsx)(m.Column,{dataField:"conclusao",caption:"Data Conclus\xe3o",width:150}),Object(o.jsx)(m.Column,{dataField:"progress",caption:"Porc. Conclus\xe3o",width:150,alignment:"left",calculateDisplayValue:function(e){return"".concat(e.progress,"%")}}),Object(o.jsx)(m.Column,{dataField:"status",caption:"Status",width:150,visible:!1})]},this.getKey())})})}}]),a}(h.a.Component);x.defaultProps={abaTitulo:"Projeto Gantt"}},1184:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(432),d=a(392);var u=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{dataSource:this.obterListaPermissoes(),columns:[{dataField:"alias",caption:"Nome"},{dataField:"modulo",caption:"M\xf3dulo",groupIndex:0},{dataField:"chave",caption:"Chave"}],displayExpr:p,selecionado:this.props.selecionado?[this.props.selecionado]:null,aoAlterar:this.props.aoAlterar?this.props.aoAlterar:null,placeholder:"Permiss\xe3o necess\xe1ria",agrupaColunas:!0,readOnly:null!==(e=this.props.readOnly)&&void 0!==e&&e,dropDownContainer:null!==(t=this.props.dropDownContainer)&&void 0!==t?t:void 0}}},{key:"obterListaPermissoes",value:function(){var e=this;new Promise((function(e){d.a.get({route:"/permissoes/todas/",data:null,func_response:function(t){e(t)}})})).then((function(t){e.setState({dataSource:t})}))}}]),a}(l.default),p=function(e){return e&&e.chave}},1185:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(407),f=a(386),h=a(405),m=a(392),v=a(665);var b=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o,i;return Object(n.a)(this,a),(o=t.call(this,e)).dataGridRef=u.a.createRef(),o.meta_id=o.props.meta_id,o.state={dataSource:(i=o.meta_id,new h.default({pageSize:20,key:"registro_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){m.a.get({route:"metas_vendas/listar_metas_eventos/",data:Object(f.a)({dx_grid:!0,metas_vendas_id:i},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(f.a)(Object(f.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),columns:[{dataField:"representante_id",caption:"Representante",lookup:{dataSource:Object(v.createStore)({key:"representante_id",loadUrl:window.WS_URI+"representante/listar/",onBeforeSend:function(e,t){t.xhrFields={withCredentials:window.XHR_WITH_CREDENTIALS},t.headers=m.a.dxHeaders(),t.data.dx_grid=!0,t.data=window.spread(t.data)}}),displayExpr:"nome_fantasia",valueExpr:"representante_id"}},{dataField:"tipo_agenda_oportunidade_id",caption:"Tipo Evento",lookup:{dataSource:Object(v.createStore)({key:"tipo_agenda_oportunidade_id",loadUrl:window.WS_URI+"tipo_agenda_oportunidade/listar/",onBeforeSend:function(e,t){t.xhrFields={withCredentials:window.XHR_WITH_CREDENTIALS},t.headers=m.a.dxHeaders(),t.data.dx_grid=!0,t.data=window.spread(t.data)}}),displayExpr:"descricao",valueExpr:"tipo_agenda_oportunidade_id"}},{dataField:"quantidade",caption:"Quantidade",dataType:"number",align:"left"},{type:"buttons",buttons:[{hint:"Excluir",icon:"trash",visible:function(e){return!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}},{hint:"Recuperar",icon:"revert",visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}}]}]},o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(r.a)(o)),o}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"function"===typeof this.props.getDataGridRef&&this.props.getDataGridRef(this.dataGridRef)}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(p.default,{ref:this.dataGridRef,dataSource:this.state.dataSource,columns:this.state.columns,onToolbarPreparing:this.onToolbarPreparing,selection:{mode:"multiple"},stateStoring:this.meta_id>0?Object(p.stateStoring)("ListagemMetaEventos_meta_".concat(this.meta_id)):null,editing:{mode:"batch",allowUpdating:!0,useIcons:!0}})})}},{key:"onToolbarPreparing",value:function(e){console.log(this.dataGridRef);var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Meta de Evento",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRecarregar",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"===o.name&&(o.options.visible=!1)}}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(u.a.Component)},1186:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l),u=a(407),p=a(432),f=a(609),h=a(386),m=a(405),v=a(392),b=a(390),_=a(483),j=a(668),O=a(444),g=a(454);var w=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o,i;return Object(n.a)(this,a),(o=t.call(this,e)).dataGridRef=d.a.createRef(),o.state={dataSource:(i=o.props.chamado_motivo_id,new m.default({key:"id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"chamado_motivo/listar_entidades_sla_motivo/",data:Object(h.a)({dx_grid:!0,chamado_motivo_id:i},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}))},o}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"function"===typeof this.props.getDataGridEntidadesMotivo&&this.props.getDataGridEntidadesMotivo(this.dataGridRef)}},{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:Object(o.jsxs)(u.default,{ref:this.dataGridRef,dataSource:this.state.dataSource,groupPanel:{visible:!1},columnChooser:{enabled:!1},searchPanel:{visible:!1},export:{enabled:!1},filterPanel:{visible:!1},onToolbarPreparing:this.onToolbarPreparing,editing:{mode:"batch",allowUpdating:!0,useIcons:!0},children:[Object(o.jsx)(b.Column,{caption:"Entidade ID",dataField:"entidade_id",allowEditing:!1,visible:!1},"entidade_id"),Object(o.jsx)(b.Column,{caption:"Entidade",dataField:"entidade_nome",editCellRender:function(e){return Object(o.jsx)(p.default,{dataSource:Object(f.a)(),valueExpr:"id",aoAlterar:function(t,a){e.component.cellValue(e.rowIndex,"entidade_id",t.id),e.component.cellValue(e.rowIndex,"entidade_tipo",a.tipo),e.component.cellValue(e.rowIndex,"entidade_nome",a.nome_fantasia?a.nome_fantasia:a.razao_social),e.component.refresh()},columns:[{caption:"Nome Fantasia",dataField:"nome_fantasia"},{caption:"Raz\xe3o Social",dataField:"razao_social"},{catpion:"Tipo",datafield:"tipo",calculateCellValue:function(e){switch(e.tipo){case"C":return"Cliente";case"O":return"Organiza\xe7\xe3o";case"F":return"Fornecedor";case"E":return"Empresa"}}}]})}},"entidade_nome"),Object(o.jsx)(b.Column,{caption:"Horas Resolu\xe7\xe3o",dataField:"horas_resolucao",calculateCellValue:function(e){return window.format_time(e.horas_resolucao)},allowFiltering:!1,allowHeaderFiltering:!0,editCellRender:function(e){return Object(o.jsx)(_.TextBox,{mask:Object(j.a)("000:00"),maskRules:{X:/[0-5]/},useMaskedValue:!0,onValueChanged:function(t){e.component.cellValue(e.rowIndex,e.column.dataField,t.value)},stylingMode:"filled",value:window.format_time(e.value)})}},"horas_resolucao"),Object(o.jsx)(b.Column,{caption:"Tipo",dataField:"entidade_tipo",allowEditing:!1,width:80},"entidade_tipo"),Object(o.jsxs)(b.Column,{type:"buttons",fixed:!0,fixedPosition:"right",children:[Object(o.jsx)(O.a,{visible:function(e){return!e.row.removed},onClick:function(e){return e.component.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(g.a,{visible:function(e){return e.row.removed},onClick:function(e){e.component.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]},"botoes")]},"datagrid_entidades")})}},{key:"onToolbarPreparing",value:function(e){var t=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Entidade",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnAddEntidade",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(t,e.toolbarOptions.items);for(var a=0;a<e.toolbarOptions.items.length;a++){var o=e.toolbarOptions.items[a];"saveButton"==o.name&&(o.options.visible=!1)}}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(d.a.Component)},1187:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(432),d=a(405),u=a(392);var p=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){return{dataSource:new d.default({paginate:!0,pageSize:20,key:"documento_pasta_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){u.a.get({route:"documento_pasta/listar/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){u.a.get({route:"documento_pasta/listar/",data:{dx_grid:!0,documento_pasta_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),selecionado:this.props.selecionado?[this.props.selecionado]:null,aoAlterar:this.props.aoAlterar?this.props.aoAlterar:null,readOnly:null!==this.props.readOnly&&this.props.readOnly,dataGridSearchPanelEnabled:!1,dataGridExportEnabled:!1,dataGridColumnChooserEnabled:!1,columns:[{dataField:"nome",caption:"Nome",dataType:"string",allowHeaderFiltering:!1,selectedFilterOperation:"contains"},{dataField:"path",caption:"Caminho",dataType:"string",allowHeaderFiltering:!1,sortIndex:0,sortOrder:"asc"}]}}}]),a}(l.default);p.defaultProps={placeholder:"Selecionar Pasta",valueExpr:"documento_pasta_id",displayExpr:"path"}},1188:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(407),f=a(390),h=a(386),m=a(405),v=a(392),b=a(105);var _=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).cellRender=function(e){var t=null;if(e.data.foto_id){var a=window.WS_URI+"documento/midia/?&tamanho=28&documento_id="+e.data.foto_id+"&token_midia="+b.a.sessao.token_midia;t=Object(o.jsx)("img",{alt:"avatar",style:{height:"28px",width:"28px",borderRadius:"25em",margin:"0 0 0 4px"},src:a,title:e.data.nome})}else t=Object(o.jsx)("div",{style:{width:"28px",height:"28px",backgroundColor:"#dfe1e6",borderRadius:"25em",color:"#172b4d",lineHeight:"28px",textAlign:"center",display:"inlineBlock",margin:"0 0 0 4px",verticalAlign:"middle"},children:Object(o.jsx)("span",{style:{fontWeight:600},title:e.data.nome,children:window.obter_iniciais(e.data.nome)})});var n=function(e){return e===window.getDateNow(!0)?"hoje - "+window.dia_semana(window.format_ToDate(e).getDay()):e===window.formatDate(window.getDateNow().addDay(1),!0)?"amanh\xe3 - "+window.dia_semana(window.format_ToDate(e).getDay()):window.formatar_data_humano(e)+" - "+window.dia_semana(window.format_ToDate(e).getDay())},i=null,r=null;return parseInt(e.data.tipo_aniversario)===window.TIPO_ANIVERSARIO.NASCIMENTO?(i=Object(o.jsxs)("div",{style:{marginLeft:"10px"},children:[e.data.nome," da \xc1rea ",e.data.area_nome," ",Object(o.jsx)("br",{})," Aniversariante ",n(e.data.data_aniversario)]}),r=Object(o.jsx)("i",{style:{marginLeft:"15px",fontSize:"24px"},className:"fas fa-birthday-cake text-primary"})):parseInt(e.data.tipo_aniversario)===window.TIPO_ANIVERSARIO.EMPRESA&&(i=Object(o.jsxs)("div",{style:{marginLeft:"10px"},children:[e.data.nome," da \xc1rea ",e.data.area_nome," ",Object(o.jsx)("br",{})," Completa ",e.data.qtde_anos," Ano(s) de empresa ",n(e.data.data_aniversario)]}),r=Object(o.jsx)("i",{style:{marginLeft:"15px",fontSize:"24px"},className:"fas fa-briefcase text-primary"})),Object(o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[t,i,r]})},i.dataGridRef=u.a.createRef(),i.cellRender=i.cellRender.bind(Object(r.a)(i)),i}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(p.default,{pager:{showPageSizeSelector:!1},elementAttr:{style:"max-height: 300px"},ref:this.dataGridRef,dataSource:new m.default({pageSize:20,load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){v.a.get({route:"aniversariantes/listar/",data:Object(h.a)({},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(h.a)(Object(h.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),groupPanel:{visible:!1},columnChooser:{enabled:!1},searchPanel:{visible:!1},export:{enabled:!1},filterPanel:{visible:!1},filterRow:{visible:!1},showColumnHeaders:!1,noDataText:"Parece que n\xe3o tem ningu\xe9m fazendo anivers\xe1rio nos pr\xf3ximos 30 dias",onInitialized:function(e){setTimeout((function(){e.component.element().find(".dx-datagrid").css("border-radius","10px"),e.component.element().find(".dx-datagrid-rowsview").css("border","none")}))},children:Object(o.jsx)(f.Column,{cellRender:this.cellRender})})})}}]),a}(u.a.Component)},1199:function(e,t,a){window.views={},window.views.chamado={},window.views.chamado.Detalhes=a(849),window.views.chamado.Listagem=a(1169),window.views.temas={},window.views.temas.SelecionarTema=a(1170),window.views.alocacaoExecutoresProjeto={},window.views.alocacaoExecutoresProjeto.ListagemAlocacoes=a(1171),window.views.fornecedores={},window.views.fornecedores.Listagem=a(1172),window.views.prospects={},window.views.prospects.Listagem=a(1173),window.views.clientes={},window.views.clientes.Listagem=a(1174),window.views.modelagemFormulario={},window.views.modelagemFormulario.Listagem=a(1175),window.views.processos={},window.views.processos.Listagem=a(1176),window.views.motivo_chamados={},window.views.motivo_chamados.Listagem=a(1149),window.views.grupoMotivoChamado={},window.views.grupoMotivoChamado.Listagem=a(1177),window.views.grupoMotivoChamado.Detalhes=a(1073),window.views.nota_avaliacao={},window.views.nota_avaliacao.Listagem=a(1178),window.views.agendaContatos={},window.views.agendaContatos.Listagem=a(1074),window.views.menuPersonalizado={},window.views.menuPersonalizado.ListagemMenuPersonalizado=a(1179),window.views.ChamadoPrioridade={},window.views.ChamadoPrioridade.ChamadoPrioridadeListagem=a(1180),window.views.ChamadoCorPercentualConclusao={},window.views.ChamadoCorPercentualConclusao.ChamadoCorPercentualConclusaoListagem=a(1151),window.views.LixeiraDocumentos={},window.views.LixeiraDocumentos.ListagemLixeiraDocumentos=a(1152),window.views.ChamadoClassificacao={},window.views.ChamadoClassificacao.Listagem=a(1075),window.views.pdca={},window.views.pdca.Listagem=a(1153),window.views.pdca.ListagemCategoriasPDCA=a(1181),window.views.assunto_documento={},window.views.assunto_documento.AssuntoDocumentoListagem=a(1157),window.views.tipo_documento={},window.views.tipo_documento.TipoDocumentoListagem=a(1158),window.views.orcamento_template_word={},window.views.orcamento_template_word.OrcamentoTemplateWordListagem=a(1159),window.views.solicitacao_template_word={},window.views.solicitacao_template_word.SolicitacaoTemplateWordListagem=a(1160),window.views.solicitacao_processo={},window.views.solicitacao_processo.Listagem=a(1155),window.views.solicitacao_processo.ListagemAtividadesMasterDetail=a(833),window.views.tipo_moeda={},window.views.tipo_moeda.Listagem=a(1078),window.views.agendaEvento={},window.views.agendaEvento.Listagem=a(1150),window.views.central_pendencias={},window.views.central_pendencias.Listagem=a(1156),window.views.consulta_integracao={},window.views.consulta_integracao.Listagem=a(1161),window.views.motivo_perda_negocio={},window.views.motivo_perda_negocio.Relatorio=a(1162),window.views.oportunidade_origem={},window.views.oportunidade_origem.Relatorio=a(1163),window.views.cubo={},window.views.cubo.Listagem=a(1164),window.views.cubo.Detalhes=a(841),window.views.cubo.ListagemEquipe=a(880),window.views.admin={},window.views.admin.AtualizacaoHistorico=a(1165),window.views.empresa={},window.views.empresa.Listagem=a(1182),window.views.projeto={},window.views.projeto.ProjetoGantt=a(1183),window.views.apontamento_simples={},window.views.apontamento_simples.Listagem=a(1166),window.components={},window.components.DataGridPadrao=a(407),window.components.SelecaoPadrao=a(432),window.components.SelecaoUsuario=a(1082),window.components.Referencias=a(856),window.components.MovimentacaoFinanceira=a(1083),window.components.SelecaoGrupoUsuarios=a(878),window.components.Cockpit=a(879),window.components.Favoritos=a(881),window.components.ListagemPermissoes=a(1184),window.components.FormularioPersonalizado=a(669),window.components.CardNotas=a(882),window.components.HomeDrawerRight=a(1140),window.components.MetasEventoCRM=a(1185),window.components.SelecaoFormulario=a(1167),window.components.SelecaoTipoMoeda=a(1141),window.components.TextBoxCPFCNPJ=a(1142),window.components.SelecaoEmails=a(1143),window.components.SelecaoChamadoMotivo=a(803),window.components.MotivoChamadoEntidades=a(1186),window.components.SelecaoCategoriaPDCA=a(1144),window.components.SelecaoProjeto=a(821),window.components.SelecaoPasta=a(1187),window.components.NovaVotacao=a(1145),window.components.Votacao=a(1146),window.components.Aniversariantes=a(1188),window.components.EntidadeHistoricoCadastral=a(1168),window.functions={},window.functions.CNPJ=a(845)},392:function(e,t,a){"use strict";t.a="undefined"!==typeof window.WS?window.WS:{}},407:function(e,t,a){"use strict";a.r(t),a.d(t,"stateStoring",(function(){return u})),a.d(t,"itemRestaurarEstadoDasColunas",(function(){return p}));var o=a(386),n=a(373),i=a(383),r=a.n(i),s=a(390),c=a.n(s),l=a(105),d=r.a.forwardRef((function(e,t){return Object(n.jsx)(c.a,Object(o.a)(Object(o.a)({export:{enabled:!0,fileName:"Exportacao_"+window.agora(),allowExportSelectedData:e.selection&&"multiple"===e.selection.mode}},e),{},{ref:t}))})),u=function(e,t){return{enabled:!0,type:"custom",customLoad:function(){if(!e)return!1;var a=l.a.get_parametro_usuario(e);return t&&(a=function(e,t){var a;return e.filterValue&&(e.filterValue=function e(a){if(Array.isArray(a)){if(a.length>1&&"string"===typeof a[0]&&"string"===typeof a[1]&&!t.includes(a[0]))return window.alert_warning('Coluna "'+a[0]+'" n\xe3o existe e estava sendo utilizada em filtros.'),!1;for(var o=0;o<a.length;o++){var n=a[o];if(Array.isArray(n)&&!e(n))return!1}}return!0}(e.filterValue)?e.filterValue:[]),e.columns&&(e.columns=(a=e.columns,Array.isArray(a)?a.filter((function(e){return e.dataField&&t.includes(e.dataField)})):a)),e}(a,t)),Object(o.a)({},a)},customSave:function(t){if(!e)return!1;l.a.set_parametro_usuario(e,t,null,!1)}}},p=function(e){return{text:"Restaurar estado das colunas",visible:!0,beginGroup:!0,onItemClick:function(t){window.DevExpress.ui.dialog.confirm("Os filtros, ordena\xe7\xf5es, agrupamentos, posi\xe7\xe3o, tamanho, sele\xe7\xe3o e visibilidade das colunas desta listagem ser\xe3o restauradas ao estado padr\xe3o. <b>Deseja continuar?</b>","Restaurar estado das colunas").done((function(t){t&&(e.component._clearState=!0,e.component._clearSelectedRows=!0,e.component.refresh())}))}}};d.defaultProps={selection:{mode:"single"},showBorders:!0,hoverStateEnabled:!0,rowAlternationEnabled:!0,remoteOperations:!0,pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},filterPanel:{visible:!0},filterRow:{visible:!0,applyFilter:"auto"},headerFilter:{visible:!0},sorting:{mode:"multiple"},groupPanel:{visible:!0},columnFixing:{enabled:!0},searchPanel:{visible:!window.detectmob(),width:200,placeholder:"Pesquisa geral"},allowColumnReordering:!0,allowColumnResizing:!0,columnResizingMode:"widget",columnChooser:{enabled:!0,allowSearch:!0,mode:window.detectmob()?"select":"dragAndDrop"},onContextMenuPreparing:function(e){"header"===e.target&&Array.isArray(e.items)&&e.items.push(p(e))},onContentReady:function(e){e.component._clearState&&(e.component.state({}),e.component._clearState=!1),setTimeout((function(){return e.component.updateDimensions()}),100)}},t.default=d},412:function(e,t,a){"use strict";t.a="undefined"!==typeof window.View?window.View:{}},420:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"nome",caption:"Nome",width:150}},432:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var o=a(434),n=a.n(o),i=a(435),r=a(386),s=a(373),c=a(365),l=a(366),d=a(387),u=a(368),p=a(369),f=a(367),h=a(383),m=a.n(h),v=a(407),b=a(809),_=a.n(b);var j=function(e){Object(u.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(f.a)(e);if(t()){var n=Object(f.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(p.a)(this,a)}}(a);function a(e){var o,n,i,r,s,l,u,p,f,h,v,b,_,j,O,g,w;return Object(c.a)(this,a),(w=t.call(this,e)).state={selecionado:e.selecionado?[e.selecionado]:null,placeholder:null!==(o=e.placeholder)&&void 0!==o?o:"",dataSource:null!==(n=e.dataSource)&&void 0!==n?n:"",stateStoring:null!==(i=e.stateStoring)&&void 0!==i?i:null,columns:null!==(r=e.columns)&&void 0!==r?r:null,children:null!==(s=e.children)&&void 0!==s?s:null,readOnly:null!==(l=e.readOnly)&&void 0!==l&&l,fieldRender:null!==(u=e.fieldRender)&&void 0!==u?u:null,valueExpr:null!==(p=e.valueExpr)&&void 0!==p?p:null,displayExpr:null!==(f=e.displayExpr)&&void 0!==f?f:null,keyExpr:null!==(h=e.keyExpr)&&void 0!==h?h:null,visible:"boolean"!==typeof e.visible||e.visible,width:null!==(v=e.width)&&void 0!==v?v:null,agrupaColunas:null!==(b=e.agrupaColunas)&&void 0!==b&&b,parametroFullScreen:null!==(_=e.parametroFullScreen)&&void 0!==_?_:null,selection:{mode:e.selectionMode?e.selectionMode:"single"},getDropDownRef:null!==(j=e.getDropDownRef)&&void 0!==j?j:null,dropDownContainer:null!==(O=e.dropDownContainer)&&void 0!==O?O:void 0,dropDownBoxStyle:null!==(g=e.dropDownBoxStyle)&&void 0!==g?g:{},dataGridSearchPanelEnabled:void 0===e.dataGridSearchPanelEnabled||e.dataGridSearchPanelEnabled,dataGridExportEnabled:void 0===e.dataGridExportEnabled||e.dataGridExportEnabled,dataGridColumnChooserEnabled:void 0===e.dataGridColumnChooserEnabled||e.dataGridColumnChooserEnabled,dataGridOnToolbarPreparing:void 0!==e.dataGridOnToolbarPreparing?e.dataGridOnToolbarPreparing:void 0,dataGridWidth:void 0!==e.dataGridWidth?e.dataGridWidth:void 0},w.dropDownBoxRef=m.a.createRef(),w.dataGridRef=m.a.createRef(),w.syncDataGridSelection=w.syncDataGridSelection.bind(Object(d.a)(w)),w.dataGrid_onSelectionChanged=w.dataGrid_onSelectionChanged.bind(Object(d.a)(w)),w.onOpened=w.onOpened.bind(Object(d.a)(w)),w.ajustarTamanhoJanela=w.ajustarTamanhoJanela.bind(Object(d.a)(w)),w.dataGridRender=w.dataGridRender.bind(Object(d.a)(w)),w}return Object(l.a)(a,[{key:"componentDidMount",value:function(){"function"===typeof this.state.getDropDownRef&&this.state.getDropDownRef(this.dropDownBoxRef)}},{key:"render",value:function(){var e;return Object(s.jsx)(_.a,{ref:this.dropDownBoxRef,dataSource:this.state.dataSource,value:this.state.selecionado,deferRendering:null===(e=this.props.deferRendering)||void 0===e||e,valueExpr:this.state.valueExpr,displayExpr:this.state.displayExpr,placeholder:this.props.placeholder,showClearButton:this.props.showClearButton,onValueChanged:this.syncDataGridSelection,contentRender:this.dataGridRender,onOpened:this.onOpened,stylingMode:this.props.stylingMode,fieldRender:this.props.fieldRender,readOnly:this.state.readOnly,visible:this.state.visible,width:this.state.width,dropDownOptions:{resizeEnabled:!0,container:this.state.dropDownContainer,width:this.state.dataGridWidth||"100%"},style:this.state.dropDownBoxStyle})}},{key:"dataGridRender",value:function(){var e={visible:!window.detectmob()&&this.state.dataGridSearchPanelEnabled,width:200,placeholder:"Pesquisa Geral"},t={enabled:this.state.dataGridExportEnabled,fileName:"Exportacao_"+window.agora(),allowExportSelectedData:!0},a={enabled:this.state.dataGridColumnChooserEnabled,allowSearch:!0,mode:window.detectmob()?"select":"dragAndDrop"},o={};return this.state.columns&&(o.columns=this.state.columns),Object(s.jsx)(v.default,Object(r.a)(Object(r.a)({ref:this.dataGridRef,dataSource:this.state.dataSource,stateStoring:this.state.stateStoring,hoverStateEnabled:!0,selectedRowKeys:this.state.selecionado,onSelectionChanged:this.dataGrid_onSelectionChanged,searchPanel:e,groupPanel:{visible:this.state.agrupaColunas}},o),{},{selection:this.state.selection,keyExpr:this.state.keyExpr,export:t,columnChooser:a,onToolbarPreparing:this.state.dataGridOnToolbarPreparing,children:this.state.children}))}},{key:"syncDataGridSelection",value:function(e){if(!window.isEquivalent(e.previousValue,e.value)&&this.props.aoAlterar){var t=this.state.selecionado&&this.state.selecionado.length>0?this.state.selecionado[0]:null,a=this.state.selecionado&&this.state.selecionadoPropriedades&&this.state.selecionadoPropriedades.length>0?this.state.selecionadoPropriedades[0]:null;this.props.aoAlterar(t,a,this.dataGridRef.current?this.dataGridRef.current._instance:null,this.dropDownBoxRef.current?this.dropDownBoxRef.current._instance:null)}}},{key:"dataGrid_onSelectionChanged",value:function(){var e=Object(i.a)(n.a.mark((function e(t){var a,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("single"!==this.state.selection.mode){e.next=7;break}if(0!==t.selectedRowKeys.length){e.next=3;break}return e.abrupt("return");case 3:this.dropDownBox&&this.dropDownBox.close(),this.setState({selecionado:t.selectedRowKeys,selecionadoPropriedades:t.selectedRowsData}),e.next=8;break;case 7:"multiple"===this.state.selection.mode&&(a=t.selectedRowKeys,o=t.selectedRowsData,t.component.option("value",a),this.setState({selecionado:a,selecionadoPropriedades:o}),this.props.aoAlterar&&this.props.aoAlterar(a,o));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ajustarTamanhoJanela",value:function(e,t){var a=window.App.get_parametro_usuario(this.state.parametroFullScreen);a.fullScreen!==e.component._popup.option("fullScreen")&&(window.App.set_parametro_usuario(this.state.parametroFullScreen,{fullScreen:e.component._popup.option("fullScreen")}),t?e.component._popup.option("fullScreen",a.fullScreen):e.component._popup.option("fullScreen",e.component._popup.option("fullScreen"))),e.component._popup.option("fullScreen")?(e.component._popup.content().parents(".dx-popup-fullscreen").css("max-height","none").css("overflow-y","scroll"),e.component._popup.content().parents(".dx-popup-wrapper").css("width","100%").css("max-height","100vh").css("height","100%"),e.component._popup.content().css("overflow","")):e.component._popup.content().css("overflow","auto"),e.component._popup.content().children().on("dxmousewheel",(function(e){e.stopPropagation()})),this.dataGrid&&this.dataGrid.refresh()}},{key:"onOpened",value:function(e){var t=this;e.component._popup.option("toolbarItems",[{widget:"dxButton",location:"after",options:{icon:"fa fa-window-restore",onClick:function(a){e.component._popup.option("fullScreen",!e.component._popup.option("fullScreen")),t.ajustarTamanhoJanela(e,!1)}}},{widget:"dxButton",location:"after",options:{icon:"fa fa-times ",onClick:function(t){e.component._popup.hide()}}}]),e.component._popup.option("showTitle",!0),this.ajustarTamanhoJanela(e,!0),setTimeout((function(){e.component._popup.content().find(".dx-toolbar .dx-texteditor-input").focus()}),300)}},{key:"dropDownBox",get:function(){return this.dropDownBoxRef.current?this.dropDownBoxRef.current.instance:null}},{key:"dataGrid",get:function(){return this.dataGridRef.current?this.dataGridRef.current.instance:null}}]),a}(m.a.Component);j.defaultProps={columns:[],dataSource:null,placeholder:"Pesquisar",aoAlterar:null,valueExpr:null,keyExpr:null,displayExpr:null,stylingMode:"filled",showClearButton:!1,readOnly:!1}},443:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return p}));var o=a(386),n=(a(105),a(392)),i=(a(412),a(405)),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"id",load:function(i){var s=window.loadOptionsToActionParams(i);return new Promise((function(i,c){n.a.get({route:"chamado/listar/",data:Object(o.a)({dx_grid:!0,situacao:e,numero_chamado:t,sla:a?"S":"N",tempo_inativo:a?"S":"N",limite:r},s),func_response:function(e){var t=window.createLoadExtra(e);i(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&c(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado/listar/",data:{dx_grid:!0,situacao:window.CHAMADO_FILTRO.TODOS,numero_chamado:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},s=function(e,t,a){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"usuario_id",load:function(i){var r=window.loadOptionsToActionParams(i);return new Promise((function(i,s){n.a.get({route:"chamado/listar_solicitantes_para_selecao/",data:Object(o.a)({dx_grid:!0,chamado_id:e,entidade_tipo:t,entidade_id:a},r),func_response:function(e){var t=window.createLoadExtra(e);i(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&s(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado/listar_solicitantes_para_selecao/",data:{dx_grid:!0,usuario_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},c={dataField:"nome",caption:"Nome"},l=function(e,t,a,r){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"usuario_id",load:function(i){var s=window.loadOptionsToActionParams(i);return new Promise((function(i,c){n.a.get({route:"chamado/listar_responsaveis_para_selecao/",data:Object(o.a)({dx_grid:!0,chamado_id:e,entidade_tipo:t,entidade_id:a,motivo_id:r},s),func_response:function(e){var t=window.createLoadExtra(e);i(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&c(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado/listar_responsaveis_para_selecao/",data:{dx_grid:!0,usuario_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},d=function(e){return new i.default({key:"id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,i){n.a.get({route:"chamado/listar_situacao_para_selecao/",data:Object(o.a)({dx_grid:!0,chamado_id:e},a),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado/listar_situacao_para_selecao/",data:{dx_grid:!0,situacao_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},u=function(e,t,a){n.a.post({route:"chamado/salvar",data:e,func_response:function(e){!0===e.chamado.rascunho?window.alert_info("Rascunho salvo com sucesso"):window.alert_saved("Reclassifica\xe7\xe3o salva com sucesso"),t&&t(e)},func_fail:function(e){window.alert_fail("Falhou"),a&&a(e)}})},p=function(e,t,a,o){n.a.post({route:"mensagem/salvar_horas_trabalhadas",data:{mensagem_id:e,horas_trabalhadas:t},func_response:function(e){window.alert_info("Horas trabalhadas salva com sucesso"),a&&a(e)},func_fail:function(e){window.alert_fail("Falhou"),o&&o(e)}})}},444:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Button);c.defaultProps={name:"excluir",hint:"Excluir",icon:"trash"}},454:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Button);c.defaultProps={name:"recuperar",hint:"Recuperar",icon:"revert"}},470:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Button);c.defaultProps={name:"editar",hint:"Editar",icon:"edit"}},492:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"id",caption:"#",width:90}},507:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataType:"string"}},525:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f}));var o=a(373),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(383),d=a.n(l);function u(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}var p=function(e){Object(r.a)(a,e);var t=u(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)("div",{style:{height:"10px"}})}}]),a}(d.a.Component),f=function(e){Object(r.a)(a,e);var t=u(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)("div",{style:{width:"10px"}})}}]),a}(d.a.Component)},526:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"datahora",caption:"Data",dataType:"date",format:"dd/MM/yyyy HH:mm",width:150}},567:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a(373),n=a(365),i=a(368),r=a(369),s=a(367),c=a(390);var l=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);l.defaultProps={dataField:"usuario_id",caption:"Usu\xe1rio",width:120,cellRender:function(e){var t="assets/img/imagem_usuario_padrao.svg";if(e.column.dataFieldUsuarioId&&e.data[e.column.dataFieldUsuarioId]){var a=+e.data[e.column.dataFieldUsuarioId];a>0&&(t=window.WS_URI+"documento/midia/?&tamanho=20&usuario_id="+a+"&token_midia="+window.App.sessao.token_midia)}var n=e.text;return n?Object(o.jsxs)("div",{style:{marginTop:"3px"},children:[Object(o.jsx)("img",{style:{height:"20px",width:"20px"},className:"imagem_responsavel",src:t,onError:function(e){e.target.onerror=null,e.target.src="assets/img/imagem_usuario_padrao.svg"},alt:n}),Object(o.jsx)("span",{style:{marginLeft:"5px"},children:n})]}):null}}},568:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={caption:"Padr\xe3o",dataField:"padrao",dataType:"boolean",alignment:"center"}},569:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return n}));var o=Object.freeze({chamado:1,processo:2,projeto:3,documento:4,crm:5,relacionamento:5,agenda:6,social:7,empenho:8,inovacao:9,pdca:10,tarefas:11}),n=[{id:o.chamado,descricao:"Chamados"},{id:o.processo,descricao:"Processos"},{id:o.projeto,descricao:"Projetos"},{id:o.documento,descricao:"Documentos"},{id:o.crm,descricao:"CRM"},{id:o.agenda,descricao:"Agenda"},{id:o.social,descricao:"Social"},{id:o.empenho,descricao:"Empenho"},{id:o.inovacao,descricao:"Inova\xe7\xe3o"},{id:o.pdca,descricao:"PDCA"},{id:o.tarefas,descricao:"Tarefas"}]},609:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));var o=a(386),n=a(392),i=a(405),r=Object.freeze({cliente:"C",organizacao:"O",empresa:"E",fornecedor:"F"}),s=[{id:r.cliente,descricao:"Cliente"},{id:r.organizacao,descricao:"Organiza\xe7\xe3o"},{id:r.empresa,descricao:"Empresa"},{id:r.fornecedor,descricao:"Fornecedor"}],c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new i.default({paging:{pageSize:20},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:["tipo","id"],load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,i){n.a.get({route:"agenda_contatos/listar/",data:Object(o.a)({dx_grid:!0,desconsiderar_contato:e},a),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){if(!e)return!1;var t=e.id,a=e.tipo;return!(!t&&!a)&&new Promise((function(e,o){n.a.get({route:"agenda_contatos/listar/",data:{dx_grid:!0,entidade_id:t,entidade_tipo:a},func_response:function(t){e(t.data)},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})}},610:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return l}));var o=a(386),n=a(392),i=a(405),r={dataField:"nome",caption:"Nome",dataType:"string"},s=[r,{dataField:"email",caption:"E-mail",dataType:"string"}],c=function(e){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"usuario_id",load:function(t){var a=window.loadOptionsToActionParams(t);return a.usuario=t.searchValue,new Promise((function(t,i){n.a.get({route:"usuario/listar_usuarios_email/",data:Object(o.a)(Object(o.a)({dx_grid:!0},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},l=function(e){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"id_usuario_grupo",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,i){n.a.get({route:"usuario/listar_usuarios_grupos/",data:Object(o.a)(Object(o.a)({},a),e),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"usuario/listar_usuarios_grupos/",data:{dx_grid:!0,id_usuario_grupo:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})}},667:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return d}));var o=a(386),n=a(392),i=a(405),r=function(e){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"grupo_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,i){n.a.get({route:"grupo_motivo_chamado/listar_grupo_motivo_usuario/",data:Object(o.a)({dx_grid:!0,chamado_id:e},a),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"grupo_motivo_chamado/listar_grupo_motivo_usuario/",data:{dx_grid:!0,grupo_motivo_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},s=function(){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"grupo_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){n.a.get({route:"grupo_motivo_chamado/listar/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},c=function(e,t){n.a.get("grupo_motivo_chamado/objeto/",{grupo_id:e},t)},l=function(e,t,a){var o=function(e){window.alert_saved("Grupo de motivos exclu\xeddo com sucesso"),t&&t(e)},i=function(e){window.alert_fail("Falhou"),a&&a(e)};window.alertaPopUp("Exclus\xe3o","Deseja continuar? Este <b>grupo de motivo</b> ser\xe1 <b>exclu\xeddo</b> permanentemente.","Sim, excluir",(function(){n.a.post({route:"grupo_motivo_chamado/excluir",data:{grupo_id:e},func_response:o,func_fail:i})}),"N\xe3o",(function(){}),null,"200px")},d=function(e,t,a){n.a.post({route:"grupo_motivo_chamado/salvar",data:Object(o.a)({},e),func_response:function(e){window.alert_saved("Grupo de motivos salvo com sucesso"),t&&t(e)},func_fail:function(e){window.alert_fail("Falhou"),a&&a(e)}})}},668:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var o=function(e){switch(e){case"00:00":return"00:X0";default:return"000:X0"}}},669:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var o=a(386),n=a(373),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(392),p=a(383),f=a.n(p),h=a(63),m=a.n(h);var v=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o,n,r,c,l;return Object(i.a)(this,a),(l=t.call(this,e)).state=l.propsToObjState(),l.main=null!==(o=l.props.main)&&void 0!==o?o:{},l.abaFormularioPersonalizado=null!==(n=l.props.abaFormularioPersonalizado)&&void 0!==n?n:null,l.callbackGetPostParams=null!==(r=l.props.callbackGetPostParams)&&void 0!==r?r:null,l.callbackValidar=null!==(c=l.props.callbackValidar)&&void 0!==c?c:null,l.formularioRef=f.a.createRef(),l.renderFormulario=l.renderFormulario.bind(Object(s.a)(l)),l}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a;return{readOnly:null!==(e=this.props.readOnly)&&void 0!==e&&e,urlGet:null!==(t=this.props.urlGet)&&void 0!==t?t:null,urlGetParams:null!==(a=this.props.urlGetParams)&&void 0!==a?a:{}}}},{key:"componentDidMount",value:function(){this.renderFormulario(),null!==this.callbackGetPostParams&&"function"===typeof this.callbackGetPostParams&&this.callbackGetPostParams(this.getPostParams.bind(this)),null!==this.callbackValidar&&"function"===typeof this.callbackValidar&&this.callbackValidar(this.validar.bind(this))}},{key:"componentDidUpdate",value:function(e,t){e.readOnly===this.props.readOnly&&e.urlGet===this.props.urlGet&&window.isEquivalent(e.urlGetParams,this.props.urlGetParams)||(this.setState(this.propsToObjState()),this.formularioRef&&this.renderFormulario())}},{key:"render",value:function(){return Object(n.jsx)("div",{ref:this.formularioRef})}},{key:"renderFormulario",value:function(){var e=this,t=this.main,a=this.abaFormularioPersonalizado;t.html=m()('<div class="aba_personalizado"><div class="titulo_formulario">Campos Personalizados</div><div class="form-editor"><div class="form-grupos panel-body" style="padding: 0px;"></div><div class="form-grupo" template-grupo template-ref="" style="display: none;"><div><h3 class="text-primary lbl_grupo_nome"></h3></div></div><div class="form-grupo-campo" template-campo template-ref="" style="display: none;"><div class="div_campo form-group"><span class="lbl_obrigatorio text-danger">* </span><label class="lbl_nome">{Nome}</label><div class="div_input"></div></div></div></div></div>'),t.html_id="html_id",t.aba_personalizado=t.html,t.titulo_formulario=t.html.find(".titulo_formulario"),t.form_editor=t.html.find(".form-editor"),t.form_grupos=t.html.find(".form-grupos"),t.template_grupo=t.html.find("[template-grupo]"),t.template_campo=t.html.find("[template-campo]"),t.lbl_nome=t.html.find(".lbl_nome"),u.a.get(this.state.urlGet+"/",this.state.urlGetParams,(function(n){n||(t.titulo_formulario.html(""),m()(e.formularioRef.current).html("")),a&&(n?a.text(n.nome):a.addClass("hidden")),t.campos_personalizados=Object(o.a)(Object(o.a)({},n),e.state.urlGetParams),t.titulo_formulario.html(n.nome),t.campos_personalizados.registros&&m.a.each(t.campos_personalizados.registros,(function(e,a){"campo_anexo"===e?a&&m.a.each(a,(function(e,a){if(a){var o=a.split(";"),n=parseInt(o[0]),i=o[1];m.a.each(t.campos_personalizados.grupos,(function(t,a){m.a.each(a.elementos,(function(t,a){e===a.id_elemento&&(a.valor=n,a.documento_revisao={},a.documento_revisao.nome_arquivo=i,a.documento_revisao.mime_type=window.extensao_to_mimetype(i.substring(i.lastIndexOf(".")+1,i.length)))}))}))}})):"selecao_documento"===e?m.a.each(a,(function(e,a){m.a.each(t.campos_personalizados.grupos,(function(t,o){m.a.each(o.elementos,(function(t,o){e===o.id_elemento&&(o.valor=a)}))}))})):"campo_tabela"===e&&m.a.each(a,(function(e,a){if("string"===typeof a)try{a=JSON.parse(a.replace(/(\"{2})(\w.+?)\"{2}/gm,'"$2"').replace(/(\r\n|\n|\r)/gm," "))}catch(o){console.warn(a,a.replace(/(\"{2})(\w.+?)\"{2}/gm,'"$2"').replace(/(\r\n|\n|\r)/gm," "))}a&&m.a.each(t.campos_personalizados.grupos,(function(t,o){m.a.each(o.elementos,(function(t,o){e===o.id_elemento&&(o.tamanho_render=a.tamanho_render,o.valor=a.valor,"undefined"!==typeof o.valor&&m.a.each(o.valor,(function(e,t){if(null!=t.revisao){var a=t.revisao.split(";"),o=parseInt(a[0]),n=a[1];t.valor=o,t.documento_revisao={},t.documento_revisao.nome_arquivo=n,t.documento_revisao.mime_type=window.extensao_to_mimetype(n.substring(n.lastIndexOf(".")+1,n.length))}})))}))}))}))})),window.require(["./assets/view/formulario/util"],(function(a){(new a).render_previsao({div_formulario:t,template_campo:t.template_campo,template_grupo:t.template_grupo,obj_formulario:t.campos_personalizados,disabled_all:e.state.readOnly,liberar_campos:!e.state.readOnly}),n.registros&&m.a.each(n.registros,(function(e,a){"campo_geral"===e?Object.keys(n.registros.campo_geral).map((function(e,a){return t.aba_personalizado.find("[id_elemento="+e+"]").val(n.registros.campo_geral[e]),t.aba_personalizado.find("[id_elemento="+e+"]").change(),t.aba_personalizado.find("[id_elemento="+e+"]").blur(),e})):"campo_decimal"===e?Object.keys(n.registros.campo_decimal).map((function(e,a){return n.registros.campo_decimal[e]&&(t.aba_personalizado.find("[id_elemento="+e+"]").val(n.registros.campo_decimal[e].replace(".",",")),t.aba_personalizado.find("[id_elemento="+e+"]").change(),t.aba_personalizado.find("[id_elemento="+e+"]").blur()),e})):"lista_opcoes"===e?Object.keys(n.registros.lista_opcoes).map((function(e,a){var o=t.aba_personalizado.find("[id_elemento="+e+"]").find("option"),i=n.registros.lista_opcoes[e];null!=i&&(i=i.split(";"));var r=0;return o&&i&&m.a.each(o,(function(e,t){m.a.each(i,(function(e,a){t.value===a&&(t.selected=!0,m()(t).change(),m()(t).blur(),r=m()(t).index(),m()(t).parent().parent().find("[data-original-index='"+r+"']").addClass("selected"))}))})),e})):"radio"===e?Object.keys(n.registros.radio).map((function(e,a){var o=t.aba_personalizado.find("[id_elemento="+e+"]");return o.parent().find("input[value='"+n.registros.radio[e]+"']").prop("checked",!0),o.parent().find("input[value='"+n.registros.radio[e]+"']").change(),e})):"checkbox"===e?Object.keys(n.registros.checkbox).map((function(e,a){var o=n.registros.checkbox[e];null!=o&&(o=o.split(";"));var i=t.aba_personalizado.find("[id_elemento="+e+"]");return o&&m.a.each(o,(function(e,t){i.parent().find("input[value='"+t+"']").prop("checked",!0)})),e})):"'caixa_verificacao'"===e?m.a.each(n.registros.caixa_verificacao,(function(e,a){"S"===a&&t.aba_personalizado.find("[id_elemento="+e+"]").prop("checked",!0)})):"editor_texto"===e?setTimeout((function(){Object.keys(n.registros.editor_texto).map((function(e,a){return window.tinyMCE.get(t.aba_personalizado.find("[id_elemento="+e+"]").attr("id")).setContent(n.registros.editor_texto[e]),e}))}),500):"campo_integracao"===e&&Object.keys(n.registros.campo_integracao).map((function(e,a){return t.aba_personalizado.find("[id_elemento="+e+"]").find(".dx-dropdownbox").dxDropDownBox("instance").option("value",n.registros.campo_integracao[e]),e}))})),m()(e.formularioRef.current).html(t.form_editor[0])}))}))}},{key:"getAnexosParams",value:function(){var e={};return this.props.main&&this.props.main.campos_personalizados?(m()(this.props.main.campos_personalizados.grupos).each((function(t,a){m()(a.elementos).each((function(t,a){+a.tipo===window.ELEMENTO_TIPO.ANEXO&&a.anexo?e[a.elem_key]=a.anexo:+a.tipo===window.ELEMENTO_TIPO.TABELA&&a.valor&&m()(a).each((function(t,a){a.valor&&m()(a.valor).each((function(t,a){e[a.elem_key+"_linha_"+a.linha]=a.anexo}))}))}))})),e):e}},{key:"getPostParams",value:function(){return Object(o.a)(Object(o.a)({},this.getAnexosParams()),{},{campos_personalizados:JSON.stringify(this.main.campos_personalizados)})}},{key:"validarCamposObrigatorios",value:function(){var e=this;if(!this.props.main||!this.props.main.form_editor)return!0;var t="";return this.props.main.form_editor.find("[required]").not(".selectpicker").each((function(a,o){var n=m()(o);"text"===n.attr("type")&&"undefined"==typeof n.attr("maskmoney")?"undefined"==typeof n.attr("readonly")&&"none"!==m()(o).css("display")||m()(o).hasClass("input_consulta_integracao")?"undefined"!==typeof n.attr("maskmoney")?""!==o.value.trim()&&0!==n.maskMoney("unmasked")[0]||(t+=e.formGetElementoById(m()(o).attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(n)):""===o.value.trim()&&(t+=e.formGetElementoById(m()(o).attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(n)):n.tooltip("destroy"):"undefined"==typeof n.attr("disabled")&&"none"!==m()(o).css("display")?"undefined"!==typeof n.attr("maskmoney")||"date"===n.attr("type")&&"undefined"==typeof n.attr("disabled")&&"undefined"==typeof n.attr("readonly")?""===o.value.trim()&&(t+=e.formGetElementoById(m()(o).attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(n)):""===o.value.trim()&&"date"!==n.attr("type")&&(t+=e.formGetElementoById(m()(o).attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(n)):n.tooltip("destroy")})),this.props.main.form_editor.find(".vld_lista_check").each((function(a,o){var n=m()(o);if(!n[0].children[0].disabled&&"none"!==n[0].children[0].style.display){var i=n.find("input:checked"),r=n.parent().find(".lbl_nome");i&&0!==i.length?r.tooltip("destroy"):(t+=e.formGetElementoById(m()(o).find("input:first").attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(r))}})),this.props.main.form_editor.find(".input_consulta_integracao").each((function(a,o){var n=m()(o);if(!n[0].children[0].disabled&&"none"!==n[0].children[0].style.display){var i=n.find(".dx-texteditor-input").val(),r=n.parent().find(".lbl_nome");""===i.trim()?(t+=e.formGetElementoById(m()(o).attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(r)):r.tooltip("destroy")}})),this.props.main.form_editor.find(".vld_lista_radio").each((function(a,o){var n=m()(o);if(!n[0].children[0].disabled&&"none"!==n[0].children[0].style.display){var i=n.find("input:checked"),r=n.parent().find(".lbl_nome");i&&0!==i.length?r.tooltip("destroy"):(t+=e.formGetElementoById(m()(o).find("input:first").attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(r))}})),this.props.main.form_editor.find("select.selectpicker[required]").each((function(a,o){var n=m()(o);if(!n[0].disabled&&"none"!==n[0].style.display){var i=n.val(),r=n.closest(".div_campo").find(".lbl_nome");i&&0!==i.length?r.tooltip("destroy"):(t+=e.formGetElementoById(m()(o).attr("id_elemento")).nome+"<br />",e.alertaCampoObrigatorio(r))}})),""===t||(window.alert_modal('<i class="fa fa-exclamation-triangle pull-left" aria-hidden="true"></i> Campos Obrigat\xf3rios !'," Por gentileza, preencha os campos abaixo: <br /><br /> "+t),!1)}},{key:"alertaCampoObrigatorio",value:function(e,t){e.tooltip({title:"Campo obrigatorio",placement:"undefined"!=typeof t?t:"auto"}),e.tooltip("show")}},{key:"validarDataForm",value:function(){if(!this.props.main||!this.props.main.form_editor)return!0;var e=new Date,t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),o=e.getFullYear()+"-"+a+"-"+t,n="";return this.props.main.form_editor.find('[type="date"]').each((function(e,t){var a=m()(t);"undefined"==typeof(a.attr("disabled")||a.attr("readonly"))&&"none"!==m()(t).css("display")&&""!==t.value&&null!=t.value&&("S"===a.attr("data_retroativa")&&(window.get_datepicker(a)<o?(a.tooltip({title:"Data Inv\xe1lida",placement:"auto"}),a.tooltip("show"),n+=this.formGetElementoById(m()(t).attr("id_elemento")).nome+"<br />"):a.tooltip("destroy")),"S"===a.attr("data_retroativa_igual")&&(window.get_datepicker(a)<=o?(a.tooltip({title:"Data Inv\xe1lida",placement:"auto"}),a.tooltip("show"),n+=this.formGetElementoById(m()(t).attr("id_elemento")).nome+"<br />"):a.tooltip("destroy")))})),""===n||(window.alert_modal('<i class="fa fa-exclamation-triangle pull-left" aria-hidden="true"></i> Data Inv\xe1lida !'," Data informada fora do per\xedodo v\xe1lido, informe corretamente para os campos abaixo: <br /><br /> "+n),!1)}},{key:"validar",value:function(){return!!(!this.main.campos_personalizados||this.validarCamposObrigatorios()&&this.validarDataForm())}},{key:"formGetElementoById",value:function(e){var t={};return this.props.main&&this.props.main.campos_personalizados&&m()(this.props.main.campos_personalizados.grupos).each((function(a,o){Array.isArray(o.elementos)&&m()(o.elementos).each((function(a,o){o.id_elemento===e&&(t=o)}))})),t=window.spread({nome:""},t)}}]),a}(f.a.Component);v.defaultProps={}},670:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return d}));var o=a(434),n=a.n(o),i=a(435),r=a(412),s=a(392),c=function(e){return{hint:"Visualizar Atividade",icon:"fa fa-pencil-alt",onClick:function(t){e&&e(),r.a.load("atividade_projeto/detalhes",(function(e,a){a.show(t.row.data.projeto_id,t.row.data.id,window.FORMULARIO.EDITAR)}),r.a.ABA.MULTIPLAS)}}},l=(c(),[{dataField:"projeto_codigo",dataType:"number",caption:"Projeto",width:100},{dataField:"projeto_nome",caption:"Projeto Nome",minWidth:100},{dataField:"codigo",caption:"C\xf3d. Ativ.",minWidth:100},{dataField:"atividade_simplificada",caption:"Atividade"},{dataField:"assunto",caption:"Assunto",minWidth:100},{dataField:"responsavel_nome",caption:"Respons\xe1vel",minWidth:100},{dataField:"prazo",caption:"Prazo",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.prazo)return e.prazo.format_date_time()}},{dataField:"conclusao",caption:"Conclus\xe3o",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.conclusao)return e.conclusao.format_date_time()}},{dataField:"status",caption:"Status",minWidth:120,lookup:{dataSource:[{ID:"1",Status:"Programado"},{ID:"2",Status:"Andamento"},{ID:"3",Status:"Conclu\xeddo"},{ID:"4",Status:"N\xe3o iniciado"},{ID:"5",Status:"Atrasado"},{ID:"6",Status:"Cancelada"}],displayExpr:"Status",valueExpr:"ID"}}]),d=function(){var e=Object(i.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("projeto/listar_movimentacao_financeira/",{projeto_atividade_id:t},null,null,null,null,null,null,null,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},672:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l}));var o=a(386),n=a(405),i=a(392),r=a(665),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return new n.default({pageSize:20,key:"solicitacao_atividade_id",load:function(n){var u=window.loadOptionsToActionParams(n);return new Promise((function(n,p){i.a.post({route:"solicitacao/listar_todas/",data:Object(o.a)({dx_grid:!0,tipo_listagem:e,solicitacao_id:t,codigo:a,modo_teste:r,modo_teste_responsavel_id:s,solicitante_id:c,responsavel_id:l,cliente_id:d},u),func_response:function(e){var t=window.createLoadExtra(e);n(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&p(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.SOLICITACAO_FILTROS.MINHAS_PENDENCIAS,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new n.default({pageSize:20,key:"solicitacao_id",load:function(n){var c=window.loadOptionsToActionParams(n);return new Promise((function(n,l){i.a.post({route:"solicitacao/listar_todas/",data:Object(o.a)({dx_grid:!0,agrupar_atividades:!0,modo_teste:t,modo_teste_responsavel_id:a,tipo_listagem:e,solicitacao_id:r,codigo:s},c),func_response:function(e){var t=window.createLoadExtra(e);n(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&l(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},l=function(){return Object(r.createStore)({key:"id",loadUrl:window.WS_URI+"usuario/listar_usuarios_grupos/",onBeforeSend:function(e,t){t.data.dx_grid=!0,t.data.limite=null,t.xhrFields={withCredentials:!1},t.headers=i.a.dxHeaders()}})}},673:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"simbolo",width:150}},674:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var o=a(373),n=a(365),i=a(366),r=a(387),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d),p=a(675),f=a.n(p);var h=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o,i,s,c,l;return Object(n.a)(this,a),(l=t.call(this,e)).state={selecionado:e.selecionado?[e.selecionado]:null,placeholder:null!==(o=e.placeholder)&&void 0!==o?o:"",readOnly:null!==(i=e.readOnly)&&void 0!==i&&i,displayExpr:null!==(s=e.displayExpr)&&void 0!==s?s:null,valueExpr:null!==(c=e.valueExpr)&&void 0!==c?c:null},l.tagBoxRef=u.a.createRef(),l.onValueChanged=l.onValueChanged.bind(Object(r.a)(l)),l}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a,n,i,r,s,c;return Object(o.jsx)(f.a,{elementAttr:this.state.elementAttr,showSelectionControls:!0,applyValueMode:"useButtons",ref:this.tagBoxRef,dataSource:null!==(e=this.props.dataSource)&&void 0!==e?e:null!==(t=this.state.dataSource)&&void 0!==t?t:null,items:null!==(a=this.props.items)&&void 0!==a?a:null,displayExpr:this.state.displayExpr,valueExpr:this.state.valueExpr,value:this.state.selecionado,placeholder:this.props.placeholder,readOnly:this.state.readOnly,onValueChanged:this.onValueChanged,deferRendering:!1,maxDisplayedTags:null!==(n=this.props.maxDisplayedTags)&&void 0!==n?n:void 0,searchEnabled:null!==(i=this.props.searchEnabled)&&void 0!==i&&i,noDataText:null!==(r=this.props.noDataText)&&void 0!==r?r:"Sem dados",label:null!==(s=this.props.label)&&void 0!==s?s:null,labelMode:null!==(c=this.props.labelMode)&&void 0!==c?c:null})}},{key:"onValueChanged",value:function(e){var t=this;this.setState({selecionado:e.value},(function(){if(t.props.aoAlterar){var e,a=null!==(e=t.state.selecionado)&&void 0!==e?e:null;t.props.aoAlterar(a)}}))}},{key:"tagBox",get:function(){return this.tagBoxRef.current?this.tagBoxRef.current.instance:null}}]),a}(u.a.Component);h.defaultProps={dataSource:null,items:null,placeholder:"Pesquisar",displayExpr:null,readOnly:!1,aoAlterar:null}},677:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"data",caption:"Data",dataType:"date",format:"dd/MM/yyyy",width:150}},803:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(432),d=a(810);var u=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{dataSource:Object(d.b)(this.props.chamadoId,this.props.grupoMotivoId,this.props.motivoVinculadoID,this.props.apenasMotivosSLA),readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,selecionado:"object"===typeof this.props.selecionado?this.props.selecionado:this.props.selecionado?[this.props.selecionado]:null,dropDownContainer:null!==(t=this.props.dropDownContainer)&&void 0!==t?t:void 0}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.grupoMotivoId===this.props.grupoMotivoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(l.default);u.defaultProps={chamadoId:null,grupoMotivoId:null,aoAlterar:null,displayExpr:function(e){return e&&e.nome},columns:d.a}},810:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var o=a(386),n=a(392),i=a(405),r=[{dataField:"nome",caption:"Motivo"}],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"chamado_motivo_id",load:function(i){var s=window.loadOptionsToActionParams(i);return new Promise((function(i,c){n.a.get({route:"chamado_motivo/listar/",data:Object(o.a)({dx_grid:!0,chamado_id:e,grupo_motivo_id:t,desconsidera_bloqueado:!0,motivo_vinculado_id:a,apenas_motivos_sla:r},s),func_response:function(e){var t=window.createLoadExtra(e);i(Object(o.a)(Object(o.a)({},t),{},{data:e.data}))},func_fail:function(e){e.validation&&c(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado_motivo/listar/",data:{dx_grid:!0,chamado_motivo_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})}},811:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"codigo",caption:"C\xf3digo",width:100}},812:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"cnpj",caption:"CNPJ",width:150}},813:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var o=a(386),n=a(392),i=a(405),r=function(){return{enabled:!0,type:"custom",customLoad:function(){return window.App.get_parametro_usuario("listagem_chamado_prioridade")},customSave:function(e){window.App.set_parametro_usuario("listagem_chamado_prioridade",e)}}},s=function(){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"chamado_prioridade_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){n.a.get({route:"chamado_prioridades/listar_para_selecao/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado_prioridades/listar_para_selecao/",data:{dx_grid:!0,chamado_prioridade_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})}},814:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var o=a(386),n=a(392),i=a(405),r=function(){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"classificacao_chamado_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){n.a.get({route:"chamado_classificacao/listar_para_selecao/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"chamado_classificacao/listar_para_selecao/",data:{dx_grid:!0,classificacao_chamado_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},insert:function(e){},update:function(e,t){},remove:function(e){}})},s=function(e,t){n.a.post("chamado_classificacao/salvar_batch",{dados:window.CircularJSON.stringify(e)},(function(a){window.alert_tooltip("Salvo com sucesso!","success",500),t&&t(e)}))}},815:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a(373),n=a(420),i=[Object(o.jsx)(n.a,{width:"100%",caption:"Classifica\xe7\xe3o"},"classificacao")]},816:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var o=a(373),n=a(386),i=a(365),r=a(366),s=a(368),c=a(369),l=a(367),d=a(383);var u=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.autoUpdate&&(this.timer=setInterval((function(){e.atualiza_dados_sla()}),3e4))}},{key:"componentWillUnmount",value:function(){this.destruirTimer&&this.destruirTimer()}},{key:"propsToObjState",value:function(){var e,t,a,o,i,r=null!==(e=this.props.detalhes)&&void 0!==e?e:null,s=r?r.id:null,c=r?r.sla_excedido:null,l=r?r.tempo_sem_resposta:null,d=r?r.percentual_tempo_sem_resposta:null,u=r?r.cor_percentual_sla:null,p=r?r.tempo_restante_resolucao:null;return Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({detalhes:null!==(t=this.props.detalhes)&&void 0!==t?t:null,chamado_id:s,sla_excedido:c,sla_percentual_tempo_sem_resposta:d,sla_cor_percentual:u,sla_tempo_restante_resolucao:p,sla_tempo_sem_resposta:l},this.state_label_sla(c)),this.state_tempo_aguardando_resolucao(l,d)),this.state_tempo_restante_resolucao(p)),{},{styleWidth:null!==(a=this.props.styleWidth)&&void 0!==a?a:null,alinhamento:null!==(o=this.props.alinhamento)&&void 0!==o?o:null,autoUpdate:null!==(i=this.props.autoUpdate)&&void 0!==i?i:null})}},{key:"componentDidUpdate",value:function(e,t){e.detalhes!==this.props.detalhes&&this.setState(this.propsToObjState()),this.state.autoUpdate||this.destruirTimer()}},{key:"destruirTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"atualiza_dados_sla",value:function(){var e=this;if(!this.state.detalhes)return null;window.chamado_fila_sla(this.state.chamado_id,this.props.viewHtmlId,(function(t){t&&e.setState(Object(n.a)(Object(n.a)(Object(n.a)({sla_excedido:t.sla_excedido,sla_percentual_tempo_sem_resposta:t.percentual_tempo_sem_resposta,sla_cor_percentual:t.cor_percentual_sla,sla_tempo_restante_resolucao:t.tempo_restante_resolucao,sla_tempo_sem_resposta:t.tempo_sem_resposta},e.state_label_sla(t.sla_excedido)),e.state_tempo_aguardando_resolucao(t.tempo_sem_resposta,t.percentual_tempo_sem_resposta)),e.state_tempo_restante_resolucao(t.tempo_restante_resolucao)))}))}},{key:"state_label_sla",value:function(e){var t=window.str_sla(e);return{sla_class:t.classe,sla_text:t.texto}}},{key:"state_tempo_aguardando_resolucao",value:function(e,t){var a={};return a={txt_tempo_aguardando_resolucao:window.format_time(e)},parseInt(t,10)>100&&(a=Object(n.a)(Object(n.a)({},a),{},{class_tempo_aguardando_resolucao:"text-danger",class_bar_progress_aguardando:"progress-bar-danger"})),a}},{key:"state_tempo_restante_resolucao",value:function(e){return{txt_tempo_restante_resolucao:window.format_time(e)}}},{key:"render",value:function(){if("S"!==this.state.detalhes.utiliza_resolucao_atendimento)return null;var e={fontWeight:"bold",paddingLeft:"0px",paddingRight:"0px"};"left"===this.state.alinhamento&&(e.paddingRight="10px"),"right"===this.state.alinhamento&&(e.paddingLeft="10px");var t=parseInt(this.state.sla_percentual_tempo_sem_resposta,10)<100?Object(o.jsx)("span",{style:e,"data-toggle":"tooltip",title:"Tempo Restante",children:window.format_time(this.state.sla_tempo_restante_resolucao)}):null,a=null;return"right"===this.state.alinhamento&&(a="row-reverse"),Object(o.jsxs)("div",{style:{width:this.state.styleWidth},children:[Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"right"===this.state.alinhamento?"text-right":"text-left",style:{whiteSpace:"nowrap"},children:Object(o.jsx)("span",{className:this.state.sla_class,children:this.state.sla_text})})}),Object(o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexFlow:a},children:[t,Object(o.jsx)("div",{className:"text-left",children:Object(o.jsx)("span",{style:{marginRight:5},className:this.state.class_tempo_aguardando_resolucao,"data-toggle":"tooltip",title:"Tempo em andamento",children:this.state.txt_tempo_aguardando_resolucao})})]}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"progress",style:{marginBottom:0,height:12},children:Object(o.jsx)("div",{className:["progress-bar",this.state.class_bar_progress_aguardando].join(" "),style:{width:parseInt(this.state.sla_percentual_tempo_sem_resposta,10)<100?parseInt(this.state.sla_percentual_tempo_sem_resposta,10)+"%":"100%",backgroundColor:this.state.sla_cor_percentual,fontSize:"xx-small"},children:Object(o.jsx)("div",{style:{marginTop:-3,backgroundColor:this.state.sla_cor_percentual},children:Math.round(this.state.sla_percentual_tempo_sem_resposta)<100?Math.round(this.state.sla_percentual_tempo_sem_resposta)+"%":"100%"})})})})]})}}]),a}(a.n(d).a.Component);u.defaultProps={autoUpdate:!1,styleWidth:"120px",alinhamento:"left"}},817:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var o=a(373),n=a(386),i=a(365),r=a(366),s=a(368),c=a(369),l=a(367),d=a(383),u=a.n(d);var p=function(e){Object(s.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(l.a)(e);if(t()){var n=Object(l.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(c.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){e.setState(e.processarDados(e.state.DataPrazo,e.state.CalendarioTrabalhoId,e.state.TipoGestaoTempo,e.state.HorasEstimadas,e.state.DiasEstimados))}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"propsToObjState",value:function(){var e,t,a,o,i,r,s,c,l,d,u,p,f,h,m,v,b=null!==(e=this.props.TipoGestaoTempo)&&void 0!==e?e:null,_=null!==(t=this.props.HorasEstimadas)&&void 0!==t?t:null,j=null!==(a=this.props.DataPrazo)&&void 0!==a?a:null,O=null!==(o=this.props.CalendarioTrabalhoId)&&void 0!==o?o:null,g=null!==(i=this.props.DiasEstimados)&&void 0!==i?i:null;return Object(n.a)({TipoGestaoTempo:b,HorasEstimadas:_,DiasEstimados:g,DataPrazo:j,CalendarioTrabalhoId:O,Concluido:null!==(r=this.props.Concluido)&&void 0!==r?r:null,TituloDataPrazo:null!==(s=this.props.TituloDataPrazo)&&void 0!==s?s:null,LabelExcedente:null!==(c=this.props.LabelExcedente)&&void 0!==c?c:null,LabelRestante:null!==(l=this.props.LabelRestante)&&void 0!==l?l:null,ExibirDataPrazo:null!==(d=this.props.ExibirDataPrazo)&&void 0!==d?d:null,TituloDataPrazoClassName:null!==(u=this.props.TituloDataPrazoClassName)&&void 0!==u?u:null,ExibirTituloDataPrazo:null!==(p=this.props.ExibirTituloDataPrazo)&&void 0!==p?p:null,ExibirBarraProgresso:null!==(f=this.props.ExibirBarraProgresso)&&void 0!==f?f:null,ExibirDiferencaHorasUteis:null!==(h=this.props.ExibirDiferencaHorasUteis)&&void 0!==h?h:null,Alinhamento:null!==(m=this.props.Alinhamento)&&void 0!==m?m:null,StyleWidth:null!==(v=this.props.StyleWidth)&&void 0!==v?v:null},this.processarDados(j,O,b,_,g))}},{key:"componentDidUpdate",value:function(e,t){e.TipoGestaoTempo===this.props.TipoGestaoTempo&&e.HorasEstimadas===this.props.HorasEstimadas&&e.DataPrazo===this.props.DataPrazo&&e.CalendarioTrabalhoId===this.props.CalendarioTrabalhoId&&e.ExibirTituloDataPrazo===this.props.ExibirTituloDataPrazo&&e.TituloDataPrazo===this.props.TituloDataPrazo||this.setState(this.propsToObjState())}},{key:"processarDados",value:function(e,t,a,o,n){if(!e)return null;var i=new Date,r=i.now(),s={DiferencaHorasUteis:"00:00",DiferencaDias:0,DiferencaHorasUteisSegundos:0,PrazoEstourado:!1,Percentual:0,DataPrazoSemHora:0};r>e&&(s.PrazoEstourado=!0);var c=0;s.PrazoEstourado?c=window.fn_segundos_uteis(t,e,r):e.substring(0,4)-r.substring(0,4)>20?(c=0,s.ExibirBarraProgresso=!1,s.ExibirDiferencaHorasUteis=!1):c=window.fn_segundos_uteis(t,r,e);if(s.DiferencaHorasUteis=window.fn_converter_segundos_para_horas(c),s.DataPrazoSemHora=window.date_create(e),s.DataPrazoSemHora.setMilliseconds(0),s.DataPrazoSemHora.setSeconds(0),s.DataPrazoSemHora.setMinutes(0),s.DataPrazoSemHora.setHours(0),i.setMilliseconds(0),i.setSeconds(0),i.setMinutes(0),i.setHours(0),s.DiferencaDias=window.date_diff(s.DataPrazoSemHora,i.getTime()),s.PrazoEstourado)s.Percentual=100;else if(+a===window.GESTAO_TEMPO.HORAS_UTEIS&&o&&"00:00:00"!==o){var l=window.fn_converter_horas_para_segundos(o);s.Percentual=(l-c)/l*100}else+a===window.GESTAO_TEMPO.DIAS_CORRIDOS&&e&&n&&(s.Percentual=(+n-s.DiferencaDias)/+n*100);return s.Percentual>100&&(s.Percentual=100),s.Percentual<0&&(s.Percentual=0),s}},{key:"renderTitulo",value:function(){if(this.state.ExibirTituloDataPrazo){var e=this.state.TituloDataPrazoClassName+("right"===this.state.Alinhamento?" text-right":"");return Object(o.jsx)("div",{style:{whiteSpace:"nowrap"},className:e,children:this.state.TituloDataPrazo})}return null}},{key:"renderDataPrazo",value:function(){var e=null;return+this.state.TipoGestaoTempo===window.GESTAO_TEMPO.DIAS_CORRIDOS?e=Object(o.jsx)("div",{style:{whiteSpace:"nowrap"},className:"right"===this.state.Alinhamento?"text-right":"",title:this.state.TituloDataPrazo,children:this.state.DataPrazo?this.state.DataPrazo.format_date():""}):+this.state.TipoGestaoTempo===window.GESTAO_TEMPO.HORAS_UTEIS&&(e=Object(o.jsx)("div",{style:{whiteSpace:"nowrap"},className:"right"===this.state.Alinhamento?"text-right":"",title:this.state.TituloDataPrazo,children:this.state.DataPrazo?this.state.DataPrazo.format_date_time():""})),Object(o.jsx)("div",{children:e})}},{key:"renderDiferencaHorasUteis",value:function(){var e=null,t=this.state.PrazoEstourado||0===this.state.DiferencaDias?"text-danger":"text-default",a={font:"inherit",width:"100%",whiteSpace:"nowrap"},n={fontWeight:"bold",paddingLeft:"0px",paddingRight:"0px"};switch("left"===this.state.Alinhamento&&(n.paddingRight="10px"),"right"===this.state.Alinhamento&&(n.paddingLeft="10px"),+this.state.TipoGestaoTempo){case window.GESTAO_TEMPO.DIAS_CORRIDOS:e=Object(o.jsx)("div",{style:a,className:"text "+t,title:this.state.TituloDataPrazo,children:window.dia_contador_str(this.state.DiferencaDias,this.state.PrazoEstourado)});break;case window.GESTAO_TEMPO.HORAS_UTEIS:e=Object(o.jsx)("div",{style:a,className:"text "+t,title:this.state.PrazoEstourado?this.state.LabelExcedente:this.state.LabelRestante,children:window.format_time(this.state.DiferencaHorasUteis)})}return Object(o.jsx)("div",{style:n,children:e})}},{key:"renderBarraProgresso",value:function(){if(+this.state.TipoGestaoTempo===window.GESTAO_TEMPO.DIAS_CORRIDOS&&this.state.DataPrazo&&!this.state.DiasEstimados)return null;var e=this.state.PrazoEstourado?"progress-bar-danger":"progress-bar-default";return Object(o.jsx)("div",{className:"progress div_progress",style:{marginBottom:"0px",height:"12px"},children:Object(o.jsx)("div",{className:"progress-bar "+e,style:{width:this.state.Percentual+"%"},children:Object(o.jsx)("div",{style:{marginTop:-3,backgroundColor:"transparent",fontSize:"xx-small"},children:Math.round(this.state.Percentual)+"%"})})})}},{key:"render",value:function(){if(this.state.Concluido)return Object(o.jsx)(u.a.Fragment,{children:Object(o.jsx)("span",{children:"-"})});var e=null;this.state.ExibirDataPrazo&&(e=this.renderDataPrazo());var t=null;this.state.ExibirDiferencaHorasUteis&&(t=this.renderDiferencaHorasUteis());var a=null;this.state.ExibirBarraProgresso&&(a=this.renderBarraProgresso());var n=null;return"right"===this.state.Alinhamento&&(n="row-reverse"),Object(o.jsxs)("div",{style:{width:this.state.StyleWidth},children:[this.renderTitulo(),Object(o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexFlow:n},children:[t,e]}),Object(o.jsx)("div",{style:{},children:a})]})}}]),a}(u.a.Component);p.defaultProps={TipoGestaoTempo:window.GESTAO_TEMPO.HORAS_UTEIS,HorasEstimadas:null,DiasEstimados:null,DataPrazo:"",CalendarioTrabalhoId:null,Alinhamento:"left",StyleWidth:"160px",LabelExcedente:"Atrasado",LabelRestante:"Tempo Restante",TituloDataPrazo:"Prazo",ExibirTituloDataPrazo:!1,TituloDataPrazoClassName:"text-muted",ExibirDataPrazo:!0,ExibirBarraProgresso:!0,ExibirDiferencaHorasUteis:!0,IntervalId:0,Concluido:!1}},818:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var o=a(386),n=a(392),i=a(405),r=function(e){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"nota_avaliacao_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,i){n.a.get({route:"nota_avaliacao/listar_para_selecao/",data:Object(o.a)({dx_grid:!0,chamado_id:e},a),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"nota_avaliacao/listar_para_selecao/",data:{dx_grid:!0,nota_avaliacao_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},insert:function(e){},update:function(e,t){},remove:function(e){}})},s=function(e,t){n.a.post("nota_avaliacao/salvar_batch",{dados:window.CircularJSON.stringify(e)},(function(a){window.alert_tooltip("Salvo com sucesso!","success",500),t&&t(e)}))}},820:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var o=a(412),n=Object.freeze({ganho:"G",perdido:"P",aberto:"A",atrasado:"AT",estagnado:"E"}),i=[{id:n.ganho,descricao:"Ganho"},{id:n.perdido,descricao:"Perdido"},{id:n.aberto,descricao:"Aberto"},{id:n.atrasado,descricao:"Atrasado"},{id:n.estagnado,descricao:"Estagnado"}],r=function(e){return{hint:"Visualizar Oportunidade",icon:"fa fa-pencil-alt",onClick:function(t){e&&e(),o.a.load("oportunidade/detalhes",(function(e,a){a.show(t.row.data.oportunidade_id,window.FORMULARIO.EDITAR)}),o.a.ABA.MULTIPLAS)}}},s=(r(),[{dataField:"id",caption:"#",dataType:"number",alignment:"right",width:80},{dataField:"funil_vendas_etapa_nome",caption:"Etapa do Funil",dataType:"string"},{dataField:"nome",caption:"Nome",dataType:"string"},{dataField:"data_abertura",caption:"Data de inclus\xe3o",dataType:"datetime"},{caption:"Tipo de Entidade",dataType:"string",calculateCellValue:function(e){var t="";switch(e.entidade_tipo){case"C":t="Cliente";break;case"O":t="Organiza\xe7\xe3o"}return t}},{dataField:"entidade_nome",caption:"Entidade",dataType:"string"},{dataField:"representante_nome",caption:"Representante",dataType:"string"},{dataField:"status",caption:"Status",dataType:"string"},{caption:"Valor do Neg\xf3cio R$",dataType:"string",calculateCellValue:function(e){}},{dataField:"situacao",caption:"Situa\xe7\xe3o da Oportunidade",dataType:"string",calculateCellValue:function(e){var t="";switch(e.situacao){case"G":t="Ganho";break;case"P":t="Perdido";break;case"A":t="Aberto";break;case"AT":t="Atrasado";break;case"E":t="Estagnado"}return t}},{dataField:"situacao_ultimo_orcamento",caption:"Situa\xe7\xe3o do Or\xe7amento",dataType:"string",calculateCellValue:function(e){var t="";if(e.situacao_ultimo_orcamento)switch(e.situacao_ultimo_orcamento){case"0":t="Or\xe7amento Aguardando Aprova\xe7\xe3o";break;case"1":t="Or\xe7amento Aprovado";break;case"2":t="Or\xe7amento Reprovado";break;case"4":t="Or\xe7amento Aprovado / Aguardando E-Mail";break;default:t="Or\xe7amento Em An\xe1lise"}return t}}])},821:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(432),d=a(822);var u=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i;return{dataSource:Object(d.c)(),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,columns:null!==(t=this.props.columns)&&void 0!==t?t:Object(d.b)(),dropDownContainer:null!==(a=this.props.dropDownContainer)&&void 0!==a?a:void 0,dataGridOnToolbarPreparing:null!==(o=this.props.dataGridOnToolbarPreparing)&&void 0!==o?o:void 0,getDropDownRef:null!==(n=this.props.getDropDownRef)&&void 0!==n?n:void 0,dataGridWidth:null!==(i=this.props.dataGridWidth)&&void 0!==i?i:void 0}}},{key:"componentDidUpdate",value:function(e,t){e.projetoId===this.props.projetoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(l.default);u.defaultProps={placeholder:"Pesquisar Projeto",displayExpr:function(e){return e&&e.codigo+" "+e.nome},visible:!0}},822:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return p}));var o=a(434),n=a.n(o),i=a(435),r=a(386),s=a(392),c=(a(412),a(405)),l=[{id:"1",descricao:"Programado"},{id:"2",descricao:"Andamento"},{id:"3",descricao:"Conclu\xeddo"},{id:"4",descricao:"N\xe3o iniciado"},{id:"5",descricao:"Atrasado"}],d=function(){return[{dataField:"codigo",width:"100px"},{dataField:"nome",caption:"Nome do projeto",width:"100px"},{dataField:"categoria",caption:"Categoria",groupIndex:0},{dataField:"status_nome",caption:"Status",width:"100px"},{dataField:"status_atividades",dataType:"number",format:"fixedPoint",precision:0,lookup:{dataSource:l,displayExpr:"descricao",valueExpr:"id"},width:"100px"},{dataField:"classificacao_nome",caption:"Classifica\xe7\xe3o",width:"100px"},{dataField:"inicio",caption:"\xcdnicio",dataType:"date",format:"dd/MM/yyyy",width:"100px"},{dataField:"fim",caption:"Fim",dataType:"date",format:"dd/MM/yyyy",width:"100px"},{dataField:"horas_previstas",calculateSortValue:function(e){return e.horas_previstas?window.fn_converter_horas_para_segundos(e.horas_previstas):null},width:"80px"},{dataField:"horas_trabalhadas",calculateSortValue:function(e){return e.horas_trabalhadas?window.fn_converter_horas_para_segundos(e.horas_trabalhadas):null},width:"80px"},{dataField:"saldo_horas",calculateSortValue:function(e){return e.saldo_horas?window.fn_converter_horas_para_segundos(e.saldo_horas):null},width:"80px"},{dataField:"percentual_horas_trabalhadas",caption:"% Trabalhado",dataType:"number",calculateSortValue:function(e){return e.percentual_horas_trabalhadas?parseInt(e.percentual_horas_trabalhadas):null},calculateDisplayValue:function(e){return e.percentual_horas_trabalhadas?e.percentual_horas_trabalhadas+" %":null},width:"80px"},{dataField:"percentual_saldo_horas",caption:"% Saldo",dataType:"number",calculateSortValue:function(e){return e.percentual_saldo_horas?parseInt(e.percentual_saldo_horas):null},calculateDisplayValue:function(e){return e.percentual_saldo_horas?e.percentual_saldo_horas+" %":null},width:"80px"},{dataField:"porcentagem_concluido",caption:"% Conclus\xe3o",dataType:"number",calculateSortValue:function(e){return e.porcentagem_concluido?parseInt(e.porcentagem_concluido):null},calculateDisplayValue:function(e){return e.porcentagem_concluido?e.porcentagem_concluido+" %":null},width:"80px"},{dataField:"percentual_estimado",caption:"% Estimado",dataType:"number",calculateSortValue:function(e){return e.percentual_estimado?parseInt(e.percentual_estimado):null},calculateDisplayValue:function(e){return e.percentual_estimado?e.percentual_estimado+" %":null},width:"80px"},{dataField:"cliente_nome",caption:"Cliente",width:"100px"},{dataField:"tipo_nome",caption:"Tipo Projeto",width:"80px"}]},u=function(e){return new c.default({paginate:!0,pageSize:20,key:"projeto_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,o){s.a.get({route:"projeto/listar/",data:Object(r.a)({template:"N",projeto_id:e,retorno_obj:!1,dx_grid:!0},a),func_response:function(e){var a=window.createLoadExtra(e);t(Object(r.a)(Object(r.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){s.a.get({route:"projeto/listar/",data:{template:"N",projeto_id:e,retorno_obj:!1,dx_grid:!0},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})},p=function(){var e=Object(i.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("projeto/listar_movimentacao_financeira/",{projeto_id:t},null,null,null,null,null,null,null,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},823:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var o=a(373),n=a(365),i=a(368),r=a(369),s=a(367),c=a(390),l=a(609);var d=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);d.defaultProps={dataField:"tipo",caption:"Tipo",width:80,children:Object(o.jsx)(c.Lookup,{dataSource:l.b,displayExpr:"descricao",valueExpr:"id"})}},824:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390),c=a(63),l=a.n(c);var d=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);d.defaultProps={dataField:"cor",caption:"Cor",cellTemplate:function(e,t){var a=!1,o="dropDownButton";null!==t.column.disabled&&""!==t.column.disabled&&"boolean"===typeof t.column.disabled&&(a=t.column.disabled),null!==t.column.dropDownButtonTemplate&&"string"===typeof t.column.dropDownButtonTemplate&&(o=t.column.dropDownButtonTemplate),l()("<div>").dxColorBox({onInitialized:function(e){e.component.option("value",t.data[t.column.dataField])},onValueChanged:function(e){t.component.cellValue(t.rowIndex,t.column.dataField,e.value)},disabled:a,dropDownButtonTemplate:o}).appendTo(e)},alignment:"center",allowEditing:!1}},825:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Button);c.defaultProps={name:"visualizar",hint:"Visualizar",icon:"fas fa-eye"}},826:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"data",caption:"Data",dataType:"datetime",format:"dd/MM/yyyy HH:mm",allowGrouping:!1,allowHeaderFiltering:!1}},829:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var o=a(373),n=a(434),i=a.n(n),r=a(435),s=a(365),c=a(366),l=a(387),d=a(368),u=a(369),p=a(367),f=a(383),h=a.n(f),m=a(542),v=a.n(m),b=a(613),_=a.n(b),j=a(615),O=a(830),g=a.n(O),w=a(392);var x=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(e){var o;Object(s.a)(this,a),(o=t.call(this,e)).requestCount=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(this.props.route,null,null,null,null,null,null,null,null,!0);case 2:t=e.sent,this.setState({dataSource:t});case 4:case"end":return e.stop()}}),e,this)}))),o.keyCount=0,o.getKey=o.getKey.bind(Object(l.a)(o));var n=o.props.dataSource;return o.state={dataSource:n,chartType:o.props.chartTypes[0],previousChartType:null},o.props.route&&o.requestCount(),o.handleChange=o.handleChange.bind(Object(l.a)(o)),o.pointClickHandler=o.pointClickHandler.bind(Object(l.a)(o)),o.legendClickHandler=o.legendClickHandler.bind(Object(l.a)(o)),o}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState({chartType:e.value,previousChartType:e.previousValue})}},{key:"pointClickHandler",value:function(e){this.toggleVisibility(e.target)}},{key:"legendClickHandler",value:function(e){var t=e.target,a=e.component.getAllSeries()[0].getPointsByArg(t)[0];this.toggleVisibility(a)}},{key:"toggleVisibility",value:function(e){e.isVisible()?e.hide():e.show()}},{key:"getKey",value:function(){return++this.keyCount}},{key:"render",value:function(){for(var e=this,t=Object(o.jsx)(j.CommonSeriesSettings,{argumentField:this.props.argumentField,type:this.state.chartType,ignoreEmptyPoints:!0}),a=function(t){var a="120px";e.props.customHeightCalcCharts&&(a=e.props.customHeightCalcCharts);var o={height:"calc(100vh - ".concat(a,")")};t.component.element().css(o),t.component.refresh()},n="pie"===this.state.chartType||"donut"===this.state.chartType?Object(o.jsxs)(g.a,{dataSource:this.state.dataSource,onInitialized:a,customizePoint:this.props.customizePoint,onPointClick:this.pointClickHandler,onLegendClick:this.legendClickHandler,children:[Object(o.jsx)(j.Export,{enabled:!0}),t,this.props.seriesPie.map((function(e,t){return Object(o.jsx)(j.Series,{argumentField:e.argumentField,valueField:e.valueField,name:e.name,children:Object(o.jsx)(j.Label,{visible:!0,children:Object(o.jsx)(j.Connector,{visible:!0,width:1})})},t)}))]}):Object(o.jsxs)(j.Chart,{dataSource:this.state.dataSource,onInitialized:a,children:[Object(o.jsx)(j.Export,{enabled:!0}),t,this.props.series.map((function(e,t){return Object(o.jsx)(j.Series,{valueField:e.valueField,name:e.name,color:e.color,children:Object(o.jsx)(j.Label,{visible:!0})},t)}))]}),i=("pie"===this.state.previousChartType||"donut"===this.state.previousChartType)!==("pie"===this.state.chartType||"donut"===this.state.chartType)?this.getKey():this.keyCount,r=JSON.parse(JSON.stringify(window.TIPO_GRAFICO_LOOKUP)),s=0;s<r.length;s++){var c=r[s];this.props.chartTypes.includes(c.id)||delete r[s]}r=r.filter((function(e){return null!=e}));var l="79px";this.props.customHeightCalcContainer&&(l=this.props.customHeightCalcContainer);var d={height:"calc(100vh - ".concat(l,")")};return Object(o.jsx)("div",{className:"dx-theme-background-color",style:d,children:Object(o.jsxs)(v.a,{className:"scrollable-board",showScrollbar:"always",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"pull-right col-md-3",children:Object(o.jsx)(_.a,{width:"auto",dataSource:r,value:this.state.chartType,onValueChanged:this.handleChange,valueExpr:"id",displayExpr:"descricao"})})}),n]})},i)}}]),a}(h.a.Component);x.defaultProps={dataSource:[],route:null,argumentField:null,series:null,seriesPie:null,chartTypes:["bar","area","fullstackedarea","fullstackedbar","fullstackedline","fullstackedspline","fullstackedsplinearea","line","scatter","spline","splinearea","stackedarea","stackedbar","stackedline","stackedspline","stackedsplinearea","steparea","stepline","pie","donut"],customizePoint:null}},831:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a(386),n=a(405),i=a(392),r=function(){return new n.default({key:"categoria_pdca_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){i.a.get({route:"/categoria_pdca/listar/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){i.a.get({route:"/categoria_pdca/listar/",data:{dx_grid:!0,categoria_pdca_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})}},832:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h}));var o=a(373),n=a(492),i=a(420),r=a(567),s=a(526),c=a(507),l=a(63),d=a.n(l),u=[{id:"0",descricao:"Andamento"},{id:"1",descricao:"Conclu\xedda"},{id:"3",descricao:"Atrasada"},{id:"4",descricao:"N\xe3o entregue"},{id:"5",descricao:"Retornada"},{id:"9",descricao:"Cancelada"}],p=[{id:"1",descricao:"Conclu\xedda"},{id:"2",descricao:"Cancelada"},{id:"3",descricao:"Andamento"},{id:"4",descricao:"Atrasada"}],f=function(e,t){return[Object(o.jsx)(n.a,{dataField:"S"===e?"numero":"solicitacao_id",allowGrouping:!1,caption:"#",sortIndex:0,sortOrder:"desc",width:100,dataType:"number",filterValue:"undefined"!==typeof t?t:null},"numero_solicitacao_por_processo"),Object(o.jsx)(i.a,{dataField:"processo_nome",caption:"Processo",sortIndex:1,sortOrder:"asc",width:180},"processo_nome"),Object(o.jsx)(i.a,{dataField:"atividade_descricao",caption:"Atividade",width:180,allowGrouping:!1},"atividade_descricao"),Object(o.jsx)(i.a,{dataField:"descricao",caption:"Descri\xe7\xe3o",width:250,allowGrouping:!1},"descricao"),Object(o.jsx)(r.a,{dataField:"usuario_solicitacao_nome",caption:"Solicitante",width:180,dataFieldUsuarioId:"usuario_solicitacao_id"},"usuario_solicitacao_nome"),Object(o.jsx)(r.a,{dataField:"usuario_responsavel_nome",caption:"Respons\xe1vel",width:180},"usuario_responsavel_nome"),Object(o.jsx)(i.a,{dataField:"cliente_nome",caption:"Cliente",width:180},"cliente_nome"),Object(o.jsx)(s.a,{dataField:"data",caption:"In\xedcio Solicita\xe7\xe3o",width:150,allowGrouping:!1,allowHeaderFiltering:!1},"data"),Object(o.jsx)(s.a,{dataField:"data_inicio_atividade",caption:"In\xedcio Atividade",width:150,allowGrouping:!1,allowHeaderFiltering:!1,sortIndex:2,sortOrder:"desc"},"data_inicio_atividade"),Object(o.jsx)(s.a,{dataField:"prazo_execucao",caption:"Prazo Atividade",width:150,allowGrouping:!1,allowHeaderFiltering:!1},"prazo_execucao"),Object(o.jsx)(s.a,{dataField:"entrega",caption:"Entrega",width:150,allowGrouping:!1,allowHeaderFiltering:!1},"entrega"),Object(o.jsx)(c.a,{dataField:"solicitacao_situacao",caption:"Situa\xe7\xe3o Solicita\xe7\xe3o",width:150,lookup:{dataSource:p,displayExpr:"descricao",valueExpr:"id"},cellTemplate:function(e,t){var a="",o="";switch(+t.data.solicitacao_situacao){case 1:a="label-success",o="Conclu\xedda";break;case 2:a="label-danger",o="Cancelada";break;case 3:a="label-info",o="Em Andamento";break;case 4:a="label-danger",o="Atrasada"}e.css({textAlign:"center"}).addClass("bg-"+a),d()("<span>").text(o).css({color:"#FFF"}).appendTo(e)}},"solicitacao_situacao"),Object(o.jsx)(c.a,{dataField:"situacao",caption:"Situa\xe7\xe3o Atividade",width:150,lookup:{dataSource:u,displayExpr:"descricao",valueExpr:"id"},cellTemplate:function(e,t){var a="",o="text-default";switch(+t.data.situacao){case 0:a="Em Andamento";break;case 1:a="Concluida",o="text-success";break;case 3:a="Atrasada",o="text-danger";break;case 4:a="N\xe3o Entregue",o="text-warning";break;case 5:a="Retornada";break;case 9:a="Cancelada"}e.css({textAlign:"center"}),d()("<span>").text(a).addClass(o).appendTo(e)}},"situacao")]},h=function(e){return[Object(o.jsx)(i.a,{dataField:"atividade_descricao",caption:"Atividade",width:180,allowGrouping:!1},"atividade_descricao_".concat(e)),Object(o.jsx)(i.a,{dataField:"descricao",caption:"Descri\xe7\xe3o",width:800,allowGrouping:!1},"descricao_".concat(e)),Object(o.jsx)(r.a,{dataField:"usuario_responsavel_nome",caption:"Respons\xe1vel",width:200},"usuario_responsavel_nome_".concat(e)),Object(o.jsx)(s.a,{dataField:"data_inicio_atividade",caption:"In\xedcio Atividade",width:180,allowGrouping:!1,allowHeaderFiltering:!1},"data_inicio_atividade_".concat(e)),Object(o.jsx)(s.a,{dataField:"prazo_execucao",caption:"Prazo Atividade",allowGrouping:!1,allowHeaderFiltering:!1},"prazo_execucao_".concat(e)),Object(o.jsx)(c.a,{dataField:"situacao",caption:"Situa\xe7\xe3o Atividade",width:150,lookup:{dataSource:u,displayExpr:"descricao",valueExpr:"id"},cellTemplate:function(e,t){var a="",o="text-default";switch(+t.data.situacao){case 0:a="Em Andamento";break;case 1:a="Concluida",o="text-success";break;case 3:a="Atrasada",o="text-danger";break;case 4:a="N\xe3o Entregue",o="text-warning";break;case 5:a="Retornada";break;case 9:a="Cancelada"}d()("<span>").text(a).addClass(o).appendTo(e)}},"situacao_".concat(e))]}},833:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var o=a(373),n=a(393),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(407),h=a(672),m=a(832),v=a(390),b=a(470),_=a(105),j=a(412);var O=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;if(Object(i.a)(this,a),(o=t.call(this,e)).getKey=o.getKey.bind(Object(s.a)(o)),o.handleBtnEditarClick=o.handleBtnEditarClick.bind(Object(s.a)(o)),o.solicitacao_id=null,o.solicitacao_numero=null,o.processo_nome=null,o.modo_teste=!1,o.modo_teste_responsavel_id=0,o.modo_teste_responsavel_nome="",o.keyCount=0,e.data){var n=e.data;o.solicitacao_id=n.solicitacao_id,o.solicitacao_numero=n.numero,o.processo_nome=n.processo_nome}return e.obj_param&&(o.modo_teste=e.obj_param.modo_teste,o.modo_teste_responsavel_id=e.obj_param.modo_teste_responsavel_id,o.modo_teste_responsavel_nome=e.obj_param.modo_teste_responsavel_nome),o.state={dataSource:Object(h.a)(window.SOLICITACAO_FILTROS.TODAS,o.solicitacao_id,o.modo_teste,o.modo_teste_responsavel_id)},o}return Object(r.a)(a,[{key:"getKey",value:function(){return this.keyCount++}},{key:"render",value:function(){var e=this,t=[].concat(Object(n.a)(Object(m.b)(this.solicitacao_id)),[Object(o.jsx)(v.Column,{type:"buttons",children:Object(o.jsx)(b.a,{hint:"Visualizar Atividade",icon:"fas fa-list-alt",onClick:function(t){return e.handleBtnEditarClick(t,window.FORMULARIO.EDITAR,e.modo_teste_responsavel_nome,e.modo_teste)}})},"buttons_".concat(this.solicitacao_id))]),a="S"===_.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?this.solicitacao_numero:this.solicitacao_id;return Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("div",{style:{padding:"0 0 5px 10px",fontSize:14,fontWeight:"bold"},children:"Atividades da Solicita\xe7\xe3o #".concat(a,": ").concat(this.processo_nome)}),Object(o.jsx)(f.default,{dataSource:this.state.dataSource,style:{width:"100%",border:"2px solid #D0D0D0"},selection:{mode:"none"},pager:{showInfo:!0,showPageSizeSelector:!0,allowedPageSizes:[20,50,100]},filterPanel:{visible:!1},columnChooser:{enabled:!1},export:{enabled:!1},groupPanel:{visible:!1},searchPanel:{visible:!1},rowAlternationEnabled:!1,showBorders:!0,children:t},this.getKey())]})}},{key:"handleBtnEditarClick",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];j.a.load("solicitacao/detalhes",(function(n,i){i.onclose=e.component.refresh,i.show(e.row.data.solicitacao_atividade_id,t,a,o)}),j.a.ABA.MULTIPLAS)}}]),a}(p.a.Component)},834:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var o=a(386),n=a(392),i=a(405),r=function(){return new i.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"tipo_moeda_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){n.a.get({route:"tipo_moeda/listar_para_selecao/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"tipo_moeda/listar_para_selecao/",data:{dx_grid:!0,tipo_moeda_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},insert:function(e){},update:function(e,t){},remove:function(e){}})},s=function(e,t){n.a.post("tipo_moeda/salvar_batch",{dados:window.CircularJSON.stringify(e)},(function(a){window.alert_tooltip("Salvo com sucesso!","success",500),t&&t(e)}))}},835:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a(373),n=a(420),i=a(673),r=[Object(o.jsx)(n.a,{width:"100%",caption:"Descri\xe7\xe3o"},"nome"),Object(o.jsx)(i.a,{},"simbolo")]},838:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(365),n=a(368),i=a(369),r=a(367),s=a(390);var c=function(e){Object(n.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(r.a)(e);if(t()){var n=Object(r.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(i.a)(this,a)}}(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(s.Column);c.defaultProps={dataField:"valor",caption:"Valor",dataType:"number",format:"#,##0.00",allowGrouping:!1,allowHeaderFiltering:!1,editorOptions:{format:"#,##0.00",showClearButton:!0}}},839:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var o=a(373),n=a(365),i=a(368),r=a(369),s=a(367),c=a(390),l=a(820);var d=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);d.defaultProps={dataField:"situacao",caption:"Situa\xe7\xe3o da Oportunidade",width:80,children:Object(o.jsx)(c.Lookup,{dataSource:l.c,displayExpr:"descricao",valueExpr:"id"})}},840:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return l}));var o=a(386),n=a(392),i=a(405),r=function(){return new i.default({paging:{pageSize:20},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"cubo_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,a){n.a.get({route:"cubo/listar/",data:Object(o.a)({dx_grid:!0},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(o.a)(Object(o.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){n.a.get({route:"cubo/listar/",data:{dx_grid:!0,cubo_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},insert:function(e){},update:function(e,t){},remove:function(e){}})},s=function(e,t){n.a.post("cubo/salvar_batch",{dados:window.CircularJSON.stringify(e)},(function(a){window.alert_tooltip("Salvo com sucesso!","success",500),t&&t(e)}))},c=function(e){return new i.default({paging:{pageSize:20},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"integrante_id",load:function(t){var a=window.loadOptionsToActionParams(t);return new Promise((function(t,i){n.a.get({route:"cubo/listar_equipe/",data:Object(o.a)({cubo_id:e,dx_grid:!0},a),func_response:function(e){var a=window.createLoadExtra(e);t(Object(o.a)(Object(o.a)({},a),{},{data:e.data}))},func_fail:function(e){e.validation&&i(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},insert:function(e){},update:function(e,t){},remove:function(e){}})},l=function(e,t,a){n.a.post("cubo/salvar_equipe",{cubo_id:e,arr_equipe:window.CircularJSON.stringify(t)},(function(e){window.alert_tooltip("Salvo com sucesso!","success",500),a&&a(t)}))}},841:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(409),i=a(434),r=a.n(i),s=a(386),c=a(435),l=a(365),d=a(366),u=a(387),p=a(368),f=a(369),h=a(367),m=a(383),v=a.n(m),b=a(392),_=a(105),j=a(543),O=a.n(j),g=a(407),w=a(656),x=a(614),y=a.n(x),A=a(615),S=a.n(A);var C=[{text:"Padr\xe3o",value:void 0},{text:"Soma",value:"sum"},{text:"Contagem",value:"count"},{text:"M\xe9dia",value:"avg"},{text:"M\xe1ximo",value:"max"},{text:"Min\xedmo",value:"min"}],R=function(e){Object(p.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(h.a)(e);if(t()){var n=Object(h.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(f.a)(this,a)}}(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).getDatasourceCubo=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,o,n,i,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("cubo/getDatasourceCubo/",{cubo_id:t},null,null,null,null,null,null,null,!0);case 2:for(a=e.sent,o=JSON.parse(a.dados),n=[],i=0;i<a.colunas.length;i++)c=a.colunas[i],l=this.handleOpcoesTipoColuna(c.tipo),n.push(Object(s.a)(Object(s.a)({dataField:c.nome,caption:c.titulo},l),{},{minWidth:"100"}));this.setState({datasource:o,columns:n,datasourcePivot:new w.default({store:o})});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.keyCount=0,o.getKey=o.getKey.bind(Object(u.a)(o)),o.onContextMenuPreparing=o.onContextMenuPreparing.bind(Object(u.a)(o)),o.handleOpcoesTipoColuna=o.handleOpcoesTipoColuna.bind(Object(u.a)(o)),o.state={datasource:[],datasourcePivot:[],columns:void 0},o.getDatasourceCubo.bind(Object(u.a)(o)),o}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatasourceCubo(this.props.cubo_id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){return this.keyCount++}},{key:"render",value:function(){var e=this,t=Object(n.a)({display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 79px)",backgroundColor:"#f8f9fa"},"height","calc(100vh - 79px)"),a=Object(o.jsx)("div",{style:t,children:Object(o.jsx)("p",{style:{fontSize:"24px",color:"#495057",textAlign:"center",padding:"20px",border:"2px dashed #ced4da",borderRadius:"5px",maxWidth:"400px"},children:"N\xe3o h\xe1 dados dispon\xedveis."})});return this.state.datasource.length>0&&(a=Object(o.jsx)(g.default,{style:{height:"calc(100vh - 79px)"},stateStoring:Object(g.stateStoring)("DataGridCubo_"+this.props.cubo_id,Array.isArray(this.state.columns)?this.state.columns.map((function(e){return e.dataField})):null),dataSource:this.state.datasource,columns:this.state.columns,remoteOperations:!1})),Object(o.jsx)(v.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)(O.a,{children:[Object(o.jsx)(j.Item,{title:"DataGrid",icon:"fas fa-list",children:a}),Object(o.jsxs)(j.Item,{title:"PivotGrid",icon:"dx-icon dx-icon-datafield",children:[Object(o.jsxs)(S.a,{ref:function(t){t&&(e.chart=t.instance)},style:{paddingTop:"10px"},className:"dx-theme-background-color",children:[Object(o.jsx)(A.Size,{height:200}),Object(o.jsx)(A.Tooltip,{enabled:!0,customizeTooltip:I}),Object(o.jsx)(A.CommonSeriesSettings,{type:"bar"}),Object(o.jsx)(A.AdaptiveLayout,{width:450})]}),Object(o.jsxs)(y.a,{style:{height:"calc(100vh - 289px)"},id:"pivotgrid",dataSource:this.state.datasourcePivot,onContextMenuPreparing:this.onContextMenuPreparing,allowSortingBySummary:!0,allowFiltering:!0,showBorders:!0,showColumnTotals:!1,showColumnGrandTotals:!1,showRowTotals:!1,showRowGrandTotals:!1,ref:function(t){t&&(e.pivotGrid=t.instance,e.pivotGrid.bindChart(e.chart,{dataFieldsDisplayMode:"splitPanes",alternateDataFields:!1}))},children:[Object(o.jsx)(x.FieldChooser,{enabled:!0,height:400}),Object(o.jsx)(x.FieldPanel,{visible:!0}),Object(o.jsx)(x.Scrolling,{mode:"virtual"}),Object(o.jsx)(x.StateStoring,{enabled:!0,type:"custom",customLoad:function(){var t=_.a.get_parametro_usuario("PivotGridCubo_"+e.props.cubo_id);return!(!t||!t.fields)&&(setTimeout((function(){for(var a=0;a<t.fields.length;a++){var o=t.fields[a];o.summaryType&&e.state.datasourcePivot.field(a,{summaryType:o.summaryType,dataType:o.summaryType&&"count"!==o.summaryType?"number":null})}e.state.datasourcePivot.load()})),t)},customSave:function(t){return _.a.set_parametro_usuario("PivotGridCubo_"+e.props.cubo_id,t)}})]},this.getKey())]})]})})})})}},{key:"onContextMenuPreparing",value:function(e){var t=this;if(e.field&&"data"===e.field.area){var a=[];C.forEach((function(o){a.push({text:o.text,selected:e.summaryType===o.value,onItemClick:function(){t.state.datasourcePivot.field(e.field?e.field.index:e.cell.dataSourceIndex,{summaryType:o.value,dataType:o.value&&"count"!==o.value?"number":null}),t.state.datasourcePivot.load()}})})),e.items.push({text:"Tipo de Resumo",items:a})}}},{key:"handleOpcoesTipoColuna",value:function(e){var t={dataType:"string"};return+e!==window.CONSULTA_INTEGRACAO_TIPO_COLUNA.COLUNA_TIPO_DATA&&+e!==window.CONSULTA_INTEGRACAO_TIPO_COLUNA.COLUNA_TIPO_DATA_HORA||(t.dataType=+e===window.CONSULTA_INTEGRACAO_TIPO_COLUNA.COLUNA_TIPO_DATA?"date":"datetime",t.format=+e===window.CONSULTA_INTEGRACAO_TIPO_COLUNA.COLUNA_TIPO_DATA?"dd/MM/yyyy":"dd/MM/yyyy HH:mm",t.allowGrouping=!1,t.allowHeaderFiltering=!1),t}}]),a}(v.a.Component);function I(e){return{html:"".concat(e.seriesName," | Total<div>").concat(e.originalValue,"</div>")}}R.defaultProps={abaTitulo:"Cubo"},t.default=R},843:function(e,t,a){e.exports={cardContainer:"CardFavorito_cardContainer__3ykse",iconeModulo:"CardFavorito_iconeModulo__2nz9V",topoTitulo:"CardFavorito_topoTitulo__2PxW8",cardCorpo:"CardFavorito_cardCorpo__3cDV-"}},845:function(e,t,a){"use strict";a.r(t),a.d(t,"consultarCNPJ",(function(){return s})),a.d(t,"preencherCampos",(function(){return c}));var o=a(434),n=a.n(o),i=a(435),r=a(392),s=function(){var e=Object(i.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.get("consulta/cnpj/",{cnpj:t},null,null,null,null,null,null,null,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e,t){var a=(e.edt_razao_social.val()&&e.edt_razao_social.val()!==t.nome?"<br /> Raz\xe3o Social de: <b>"+e.edt_razao_social.val()+"</b> para: <b>"+t.nome+"</b>":"")+(e.edt_nome.val()&&e.edt_nome.val()!==t.fantasia?"<br /> Nome Fantasia de: <b>"+e.edt_nome.val()+"</b> para: <b>"+t.fantasia+"</b>":"")+(e.edt_endereco.val()&&e.edt_endereco.val()!==t.logradouro?"<br /> Endere\xe7o de: <b>"+e.edt_endereco.val()+"</b> para: <b>"+t.logradouro+"</b>":"")+(e.edt_numero.val()&&e.edt_numero.val()!==t.numero?"<br /> N\xfamero de: <b>"+e.edt_numero.val()+"</b> para: <b>"+t.numero+"</b>":"")+(e.edt_complemento.val()&&e.edt_complemento.val()!==t.complemento?"<br /> Complemento de: <b>"+e.edt_complemento.val()+"</b> para: <b>"+t.complemento+"</b>":"")+(e.edt_bairro.val()&&e.edt_bairro.val()!==t.bairro?"<br /> Bairro de: <b>"+e.edt_bairro.val()+"</b> para: <b>"+t.bairro+"</b>":"")+(e.edt_telefone1.val()&&e.edt_telefone2.val()&&e.edt_telefone3.val()&&e.edt_telefone4.val()&&e.edt_telefone1.val()!==t.telefone?"<br /> Telefone 1 de: <b>"+e.edt_telefone1.val()+"</b> para: <b>"+t.telefone+"</b>":"")+(e.inputCEP.props.CampoCep&&e.inputCEP.props.CampoCep!==t.cep?"<br /> CEP de: <b>"+e.inputCEP.props.CampoCep+"</b> para: <b>"+t.cep+"</b><br/> Observa\xe7\xe3o: alterando o CEP o endere\xe7o atualizado com base no registro atualizado":""),o=function(){e.edt_razao_social.val(t.nome),e.edt_nome.val(t.fantasia),e.inputCEP.props.setCampoCep(t.cep),e.div_componente_cep.find(".btn_pesquisar").addClass("origem_input_cnpj",!0).trigger("click"),e.edt_endereco.val(t.logradouro),e.edt_numero.val(t.numero),e.edt_complemento.val(t.complemento),e.edt_bairro.val(t.bairro),e.edt_telefone1.val()?e.edt_telefone2.val()?e.edt_telefone3.val()?e.edt_telefone4.val()?e.edt_telefone1.val(t.telefone):e.edt_telefone4.val(t.telefone):e.edt_telefone3.val(t.telefone):e.edt_telefone2.val(t.telefone):e.edt_telefone1.val(t.telefone)};""!==a?window.alertaPopUp("Aten\xe7\xe3o","<center>Algumas informa\xe7\xf5es est\xe3o divergentes do cadastro atual</center>"+a+"<br /><br /><center>Deseja confirmar a altera\xe7\xe3o ?</center>","Sim",o,"N\xe3o",(function(){})):o()}},846:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));a(386);var o=a(392),n=function(e,t,a,n){o.a.post({route:"votacao/votar",data:{votacao_id:e,votacao_opcao_id:t},func_response:function(e){window.alert_saved("Voto realizado"),a&&a(e)},func_fail:function(e){window.alert_fail("Falha ao votar"),n&&n(e)}})},i=function(e,t,a){o.a.get({route:"votacao/resultado/",data:{votacao_id:e},func_response:function(e){t&&t(e)},func_fail:function(e){window.alert_fail("Falha ao carregar dados da vota\xe7\xe3o"),a&&a(e)}})}},849:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return We}));var o=a(373),n=a(386),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(392),h=a(105),m=a(412),v=a(443),b=a(452),_=a(803);var j=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o=null!==(e=this.props.tooltip)&&void 0!==e?e:null;return this.props.novaMensagem&&(o='As altera\xe7\xf5es ser\xe3o aplicadas ap\xf3s acionar o bot\xe3o "Confirmar"'),{label:null!==(t=this.props.label)&&void 0!==t?t:null,tooltip:o,novaMensagem:null!==(a=this.props.novaMensagem)&&void 0!==a?a:null}}},{key:"componentDidUpdate",value:function(e,t){e.label===this.props.label&&e.tooltip===this.props.tooltip&&e.novaMensagem===this.props.novaMensagem||this.setState(this.propsToObjState())}},{key:"render",value:function(){return Object(o.jsxs)("label",{className:"small text-muted",title:this.state.tooltip,children:[this.state.label,this.state.novaMensagem?Object(o.jsxs)(p.a.Fragment,{children:["\xa0",Object(o.jsx)("i",{className:"text-info fas fa-info-circle"})]}):null]})}}]),a}(p.a.Component);j.defaultProps={};var O=a(428),g=Object(u.createContext)({});function w(e){var t=e.children,a=Object(u.useState)(null),n=Object(O.a)(a,2),i=n[0],r=n[1],s=Object(u.useState)(null),c=Object(O.a)(s,2),l=c[0],d=c[1],p=Object(u.useState)(null),m=Object(O.a)(p,2),v=m[0],b=m[1],_=Object(u.useState)(null),j=Object(O.a)(_,2),w=j[0],x=j[1],y=Object(u.useState)({}),A=Object(O.a)(y,2),S=A[0],C=A[1],R=Object(u.useState)(null),I=Object(O.a)(R,2),T=I[0],k=I[1],P=Object(u.useState)(null),D=Object(O.a)(P,2),E=D[0],M=D[1],N=Object(u.useState)(null),F=Object(O.a)(N,2),L=F[0],U=F[1],B=Object(u.useState)(null),z=Object(O.a)(B,2),V=z[0],G=z[1],H=Object(u.useState)(null),q=Object(O.a)(H,2),K=q[0],W=q[1],J=Object(u.useState)(!1),Z=Object(O.a)(J,2),X=Z[0],Q=Z[1],$=Object(u.useState)(null),Y=Object(O.a)($,2),ee=Y[0],te=Y[1];return Object(o.jsx)(g.Provider,{value:{botaoPressionado:i,assuntoChamadoAnterior:l,assuntoChamadoAtual:v,novoAssuntoChamado:w,reclassificacaoMemoria:S,chamadoMotivoId:T,entidadeId:E,entidadeTipo:L,chamadoMotivoTipoGestaoTempo:V,chamadoMotivoHorasUteis:K,obterNovoPrazoChamado:X,grupoMotivoId:ee,handleSetBotaoPressionado:function(e){r(e)},handleSetAssuntoChamadoAnterior:function(e){d(e)},handleSetAssuntoChamadoAtual:function(e){b(e)},handleSetNovoAssuntoChamado:function(e){x(e)},handleSetReclassificacaoMemoria:function(e){C(e)},handleSetChamadoMotivoId:function(e){k(e)},handleSetEntidadeId:function(e){M(e)},handleSetEntidadeTipo:function(e){U(e)},handleSetChamadoMotivoGestaoTempo:function(e){G(e)},handleSetChamadoMotivoHorasUteis:function(e){W(e)},handleSetObterNovoPrazoChamado:function(e){Q(e)},handleSetGrupoMotivoId:function(e){te(e)},handlePausarApontamento:function(e,t){f.a.get("apontamento_projeto/objeto/",{apontamento_id:e.apontamento_projeto_id},(function(a){var o=a.atividade[0],n={},i=[],r=new Date,s=r.getHours()+":"+(r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes());n.atividade_id=o.projeto_atividade_id,n.descricao=o.atividade_simplificada,n.horas_atividade=null,n.porcentagem_atividade=o.porcentagem,i[0]=n,f.a.post("apontamento_projeto/salvar",{apontamento_id:a.id,usuario_id:h.a.sessao.dados.usuario_id,projeto_id:a.projeto_id,atividade:JSON.stringify(i),cliente_id:a.cliente_id,dia:a.dia,hora_inicial:a.hora_inicial,hora_final:s,apontamento_dinamico:!0,atividade_iniciada:!1,entregue:!1,apontamento_dinamico_acao:window.APONTAMENTO_DINAMICO_ACAO.PAUSAR,chamado_id:e.id},(function(e){window.alert_saved("Apontamento atualizado com sucesso"),"function"===typeof t&&t()}))}))}},children:t})}var x=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i=this.props.detalhes?this.props.detalhes.chamado_motivo_id:null,r=null!==(e=null!==(t=this.props.grupoMotivoId)&&void 0!==t?t:this.props.detalhes.grupo_motivo_id)&&void 0!==e?e:null;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&(this.props.reclassificacoesMemoria.grupo_motivo_id&&(r=this.props.reclassificacoesMemoria.grupo_motivo_id),this.props.reclassificacoesMemoria.chamado_motivo_id&&(i=this.props.reclassificacoesMemoria.chamado_motivo_id)),{detalhes:null!==(a=this.props.detalhes)&&void 0!==a?a:null,selecionado:i,novaMensagem:null!==(o=this.props.novaMensagem)&&void 0!==o&&o,reclassificacoesMemoria:null!==(n=this.props.reclassificacoesMemoria)&&void 0!==n&&n,grupoMotivoId:r}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.chamado_motivo_id===this.props.detalhes.chamado_motivo_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.grupo_motivo_id===this.props.detalhes.grupo_motivo_id&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem&&window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e,t){var a=this,o=this.state.selecionado;(+o!==+e&&this.setState({selecionado:e}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.chamado_motivo_id!==+e)?t&&"S"===t.descricao_motivo_on_assunto&&this.context.assuntoChamadoAtual!==t.nome?Object(b.confirm)("Deseja alterar o assunto do chamado para <strong>"+t.nome+"</strong>? <br><br> <small>Esta mensagem foi exibida porque o Motivo de Chamado selecionado est\xe1 configurado para que a sua descri\xe7\xe3o seja sugerida no assunto do Chamado.</small>","Aten\xe7\xe3o").then((function(n){n?Object(v.f)({chamado_id:a.state.detalhes.id,chamado_motivo_id:e,assunto:t.nome},a.props.aoAlterar?a.props.aoAlterar:null,(function(e){return a.setState({selecionado:o})})):Object(v.f)({chamado_id:a.state.detalhes.id,chamado_motivo_id:e},a.props.aoAlterar?a.props.aoAlterar:null,(function(e){return a.setState({selecionado:o})}))})):Object(v.f)({chamado_id:this.state.detalhes.id,chamado_motivo_id:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return a.setState({selecionado:o})})):this.props.aoAlterar&&this.props.aoAlterar(e,t)}},{key:"render",value:function(){var e,t,a=this.state.grupoMotivoId;this.context&&this.context.grupoMotivoId&&this.context.grupoMotivoId!=this.state.grupoMotivoId&&(a=this.context.grupoMotivoId);var i=this.state.selecionado?this.state.selecionado.toString():null,r=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao));return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(_.default,{chamadoId:this.state.detalhes.id,grupoMotivoId:null!==(e=null!==(t=a)&&void 0!==t?t:this.state.detalhes.grupo_motivo_id)&&void 0!==e?e:null,selecionado:i,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:r,motivoVinculadoID:this.state.detalhes.chamado_motivo_id})]})}}]),a}(p.a.Component);x.defaultProps={label:"Motivo"},x.contextType=g;var y=a(432),A=a(667),S=a(420);var C=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(A.c)(this.props.chamadoId),readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,selecionado:this.props.selecionado?[this.props.selecionado]:null}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default),R=[Object(o.jsx)(S.a,{width:"100%"},"nome")];C.defaultProps={aoAlterar:null,displayExpr:function(e){return e&&e.nome},children:R};var I=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a=this.props.detalhes?this.props.detalhes.grupo_motivo_id:null;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&this.props.reclassificacoesMemoria.grupo_motivo_id&&(a=this.props.reclassificacoesMemoria.grupo_motivo_id),{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:a,novaMensagem:null!==(t=this.props.novaMensagem)&&void 0!==t&&t}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.grupo_motivo_id===this.props.detalhes.grupo_motivo_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;+a!==+e&&this.setState({selecionado:e}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.grupo_motivo_id!==+e?Object(v.f)({chamado_id:this.state.detalhes.id,grupo_motivo_id:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})})):this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e=this.state.selecionado?this.state.selecionado.toString():null,t=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao));return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(C,{chamadoId:this.state.detalhes.id,selecionado:e,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:t})]})}}]),a}(p.a.Component);I.defaultProps={label:"Grupo de Motivo"},I.contextType=g;var T=a(609),k=a(407),P=a(864);var D=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),{},{stateStoring:Object(k.stateStoring)("DataGridSelecaoEntidade")}),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(T.a)(),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default);D.defaultProps={placeholder:"Pesquisar por nome/cnpj",aoAlterar:null,dataSource:T.a,displayExpr:function(e){return e&&(""===e.nome_fantasia||null===e.nome_fantasia?e.razao_social.trim():e.nome_fantasia.trim())},children:P.a,parametroFullScreen:"fullScreenSelecaoEntidade"};var E=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:this.props.detalhes?{tipo:this.props.detalhes.tipo,id:this.props.detalhes.entidade_id?this.props.detalhes.entidade_id.toString():null}:null,novaMensagem:null!==(t=this.props.novaMensagem)&&void 0!==t&&t,exibirTelefones:!1,caretIcon:"fas fa-caret-right"}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.tipo===this.props.detalhes.tipo&&e.detalhes.entidade_id===this.props.detalhes.entidade_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;!a||a.tipo===e.tipo&&+a.entidade_id===+e.id||this.setState({selecionado:e}),this.state.novaMensagem||!e||!+this.state.detalhes.id||this.state.detalhes.tipo===e.tipo&&+this.state.detalhes.entidade_id===+e.id?this.props.aoAlterar&&this.props.aoAlterar(e):Object(v.f)({chamado_id:+this.state.detalhes.id,entidade_tipo:e.tipo,entidade_id:e.id},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})}))}},{key:"handleExibirTelefones",value:function(){this.setState({exibirTelefones:!this.state.exibirTelefones,caretIcon:!0===!this.state.exibirTelefones?"fas fa-caret-down":"fas fa-caret-right"})}},{key:"render",value:function(){var e=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao));return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(D,{selecionado:this.state.selecionado,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:e}),null!==this.props.detalhes.tipo&&""!==this.props.detalhes.tipo&&"E"!==this.props.detalhes.tipo&&(this.props.detalhes.entidade_telefone1||this.props.detalhes.entidade_telefone2||this.props.detalhes.entidade_telefone3||this.props.detalhes.entidade_telefone4)&&Object(o.jsxs)("div",{style:{marginTop:10},children:[Object(o.jsxs)("p",{style:{cursor:"pointer",display:"inline-block"},onClick:this.handleExibirTelefones.bind(this),children:[Object(o.jsx)("i",{className:"fas fa-phone-square-alt"})," ",Object(o.jsx)("strong",{children:"Contato"})," ",Object(o.jsx)("i",{className:this.state.caretIcon})]}),this.state.exibirTelefones&&Object(o.jsxs)("div",{children:[this.props.detalhes.entidade_telefone1&&Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Telefone 1: "}),this.props.detalhes.entidade_telefone1]}),this.props.detalhes.entidade_telefone2&&Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Telefone 2: "}),this.props.detalhes.entidade_telefone2]}),this.props.detalhes.entidade_telefone3&&Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Telefone 3: "}),this.props.detalhes.entidade_telefone3]}),this.props.detalhes.entidade_telefone4&&Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Telefone 4: "}),this.props.detalhes.entidade_telefone4]})]})]})]})}}]),a}(p.a.Component);E.defaultProps={label:"Entidade",selecionadoTipo:null,selecionadoId:null},E.contextType=g;var M=a(610);var N=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(v.d)(this.props.chamadoId,this.props.entidadeTipo,this.props.entidadeId),readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,selecionado:this.props.selecionado?[this.props.selecionado]:null}}},{key:"componentDidUpdate",value:function(e,t){e.entidadeTipo===this.props.entidadeTipo&&e.entidadeId===this.props.entidadeId&&e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default);N.defaultProps={chamadoId:null,entidadeTipo:null,entidadeId:null,aoAlterar:null,displayExpr:function(e){return e&&e.nome},columns:[M.a]};var F=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i,r,s,c=null!==(e=null!==(t=this.props.entidadeTipo)&&void 0!==t?t:this.props.detalhes.tipo)&&void 0!==e?e:null,l=null!==(a=null!==(o=this.props.entidadeId)&&void 0!==o?o:this.props.detalhes.entidade_id)&&void 0!==a?a:null,d=this.props.detalhes?this.props.detalhes.solicitante_id:null,u=null!==(n=this.props.colaboradorPodeAlterarSolicitante)&&void 0!==n&&n;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&(this.props.reclassificacoesMemoria.entidade_tipo&&this.props.reclassificacoesMemoria.entidade_id&&(c=this.props.reclassificacoesMemoria.entidade_tipo,l=this.props.reclassificacoesMemoria.entidade_id),this.props.reclassificacoesMemoria.usuario_solicitante_id&&(d=this.props.reclassificacoesMemoria.usuario_solicitante_id),this.props.reclassificacoesMemoria.hasOwnProperty("chamado_motivo_altera_solicitante")&&(u=this.props.reclassificacoesMemoria.chamado_motivo_altera_solicitante)),{detalhes:null!==(i=this.props.detalhes)&&void 0!==i?i:null,selecionado:d,novaMensagem:null!==(r=this.props.novaMensagem)&&void 0!==r&&r,reclassificacoesMemoria:null!==(s=this.props.reclassificacoesMemoria)&&void 0!==s&&s,entidadeTipo:c,entidadeId:l,colaboradorPodeAlterarSolicitante:u}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.solicitante_id===this.props.detalhes.solicitante_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.tipo===this.props.detalhes.tipo&&e.detalhes.entidade_id===this.props.detalhes.entidade_id&&e.detalhes.situacao===this.props.detalhes.situacao&&e.colaboradorPodeAlterarSolicitante===this.props.colaboradorPodeAlterarSolicitante&&e.novaMensagem===this.props.novaMensagem&&window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;+a!==+e&&this.setState({selecionado:e}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.solicitante_id!==+e?Object(v.f)({chamado_id:this.state.detalhes.id,usuario_solicitante_id:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})})):this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e=+this.context.entidadeId>0?this.context.entidadeId:this.state.entidadeId,t=this.context.entidadeTipo?this.context.entidadeTipo:this.state.entidadeTipo,a=this.state.selecionado?this.state.selecionado.toString():null,i=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao)||!h.a.sessao.dados.admin&&h.a.sessao.dados.tipo===window.USUARIO_TIPO.ANALISTA&&!this.state.colaboradorPodeAlterarSolicitante;return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(N,{chamadoId:this.state.detalhes.id,entidadeTipo:t,entidadeId:e,selecionado:a,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:i})]})}}]),a}(p.a.Component);F.defaultProps={label:"Solicitante"},F.contextType=g;var L=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(v.b)(this.props.chamadoId,this.props.entidadeTipo,this.props.entidadeId,this.props.motivoId),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.entidadeTipo===this.props.entidadeTipo&&e.entidadeId===this.props.entidadeId&&e.motivoId===this.props.motivoId&&e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default);L.defaultProps={chamadoId:null,entidadeTipo:null,entidadeId:null,motivoId:null,aoAlterar:null,displayExpr:function(e){return e&&e.nome},columns:[M.a]};var U=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i,r,s,c,l=null!==(e=null!==(t=this.props.entidadeTipo)&&void 0!==t?t:this.props.detalhes.tipo)&&void 0!==e?e:null,d=null!==(a=null!==(o=this.props.entidadeId)&&void 0!==o?o:this.props.detalhes.entidade_id)&&void 0!==a?a:null,u=null!==(n=null!==(i=this.props.motivoId)&&void 0!==i?i:this.props.detalhes.chamado_motivo_id)&&void 0!==n?n:null,p=this.props.detalhes?this.props.detalhes.usuario_responsavel_id:null;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&(this.props.reclassificacoesMemoria.entidade_tipo&&this.props.reclassificacoesMemoria.entidade_id&&(l=this.props.reclassificacoesMemoria.entidade_tipo,d=this.props.reclassificacoesMemoria.entidade_id),this.props.reclassificacoesMemoria.chamado_motivo_id&&(u=this.props.reclassificacoesMemoria.chamado_motivo_id),this.props.reclassificacoesMemoria.usuario_responsavel_id&&(p=this.props.reclassificacoesMemoria.usuario_responsavel_id)),{detalhes:null!==(r=this.props.detalhes)&&void 0!==r?r:null,selecionado:p,novaMensagem:null!==(s=this.props.novaMensagem)&&void 0!==s&&s,reclassificacoesMemoria:null!==(c=this.props.reclassificacoesMemoria)&&void 0!==c&&c,entidadeTipo:l,entidadeId:d,motivoId:u}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.usuario_responsavel_id===this.props.detalhes.usuario_responsavel_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.tipo===this.props.detalhes.tipo&&e.detalhes.entidade_id===this.props.detalhes.entidade_id&&e.detalhes.chamado_motivo_id===this.props.detalhes.chamado_motivo_id&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem&&window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;+a!==+e&&this.setState({selecionado:e}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.usuario_responsavel_id!==+e?Object(v.f)({chamado_id:this.state.detalhes.id,usuario_responsavel_id:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})})):this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e=this.state.motivoId,t=this.state.entidadeId,a=this.state.entidadeTipo;this.context&&(this.context.chamadoMotivoId&&this.context.chamadoMotivoId!=this.state.motivoId&&(e=this.context.chamadoMotivoId),this.context.entidadeId&&this.context.entidadeId!=this.state.entidadeId&&(t=this.context.entidadeId),this.context.entidadeTipo&&this.context.entidadeTipo!=this.state.entidadeTipo&&(a=this.context.entidadeTipo));var i=this.state.selecionado?this.state.selecionado.toString():null,r=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA&&!(h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")&&h.a.verifica_permissao(h.a.temp.empresa,"altera_responsavel"))||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao);return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(L,{chamadoId:this.state.detalhes.id,entidadeTipo:a,entidadeId:t,motivoId:e,selecionado:i,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:r})]})}}]),a}(p.a.Component);U.defaultProps={label:"Respons\xe1vel"},U.contextType=g;var B=a(541),z=a.n(B);var V=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o.obtendoNovaPrevisao=!1,o}return Object(r.a)(a,[{key:"propsToObjState",value:function(e){var t,a,o=this.props.detalhes&&this.props.detalhes.data_previsao_retorno?window.date_create(this.props.detalhes.data_previsao_retorno):null,n=this.props.detalhes?this.props.detalhes.solicitante_id:null,i=this.props.detalhes?this.props.detalhes.solicitante_pode_alterar_previsao_retorno:null,r=this.props.detalhes?this.props.detalhes.tipo_gestao_tempo:null,s=this.props.detalhes?this.props.detalhes.horas_uteis:null;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&(this.props.reclassificacoesMemoria.usuario_solicitante_id&&(n=this.props.reclassificacoesMemoria.usuario_solicitante_id),this.props.reclassificacoesMemoria.chamado_motivo_solicitante_pode_alterar_previsao_retorno&&(i=this.props.reclassificacoesMemoria.chamado_motivo_solicitante_pode_alterar_previsao_retorno),this.props.reclassificacoesMemoria.chamado_motivo_tipo_gestao_tempo&&(r=this.props.reclassificacoesMemoria.chamado_motivo_tipo_gestao_tempo),this.props.reclassificacoesMemoria.chamado_motivo_horas_uteis&&(s=this.props.reclassificacoesMemoria.chamado_motivo_horas_uteis),this.props.reclassificacoesMemoria.data_previsao_retorno&&(o=window.date_create(this.props.reclassificacoesMemoria.data_previsao_retorno))),{detalhes:null!==(t=this.props.detalhes)&&void 0!==t?t:null,selecionado:o,novaMensagem:null!==(a=this.props.novaMensagem)&&void 0!==a&&a,solicitanteId:n,solicitantePodeAlterarPrevisaoRetorno:i,tipoGestaoTempo:r,tipo:+r===window.GESTAO_TEMPO.HORAS_UTEIS?"datetime":"date",horasUteis:s}}},{key:"componentDidMount",value:function(){this.obterNovoPrazo()}},{key:"componentDidUpdate",value:function(e,t){if(e.detalhes.data_previsao_retorno!==this.props.detalhes.data_previsao_retorno||e.detalhes.tipo_gestao_tempo!==this.props.detalhes.tipo_gestao_tempo||e.detalhes.solicitante_id!==this.props.detalhes.solicitante_id||e.detalhes.rascunho!==this.props.detalhes.rascunho||e.detalhes.situacao!==this.props.detalhes.situacao||e.novaMensagem!==this.props.novaMensagem||!window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)){var a=this.propsToObjState(e);a.novaMensagem&&a.detalhes&&+a.tipoGestaoTempo===window.CHAMADO_MOTIVO_TEMPO.HORAS_UTEIS&&(e.novaMensagem!==this.props.novaMensagem||e.reclassificacoesMemoria&&this.props.reclassificacoesMemoria&&e.reclassificacoesMemoria.chamado_motivo_id!==this.props.reclassificacoesMemoria.chamado_motivo_id)?this.obterNovoPrazo(a):this.setState(a)}}},{key:"obterNovoPrazo",value:function(e){var t=this,a=e||this.state;!this.obtendoNovaPrevisao&&a.novaMensagem&&a.detalhes&&+a.tipoGestaoTempo===window.CHAMADO_MOTIVO_TEMPO.HORAS_UTEIS&&(this.obtendoNovaPrevisao=!0,f.a.get("chamado/get_previsao_retorno/",{calendario_trabalho_id:h.a.sessao.dados.calendario_trabalho_id>0?h.a.sessao.dados.calendario_trabalho_id:1,horas_uteis:a.horasUteis},(function(o){var n=a.selecionado,i={previousValue:n,value:window.date_create(o.trim())||a.selecionado};a.selecionado=i.value,e&&t.setState(a),+n!==+a.selecionado.value&&a.novaMensagem&&t.aoAlterar(i),t.obtendoNovaPrevisao=!1}))),this.context&&this.context.handleSetObterNovoPrazoChamado(!1)}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;if(+a!==+e.value&&this.setState({selecionado:e.value}),!this.props.detalhes&&!this.props.detalhes.id)return!1;this.state.novaMensagem||+a===+e.value?this.props.aoAlterar&&this.props.aoAlterar(e):Object(v.f)({chamado_id:this.props.detalhes.id,data_previsao_retorno:window.formatDateTime(e.value,!0)},this.props.aoAlterar?this.props.aoAlterar:null,(function(a){return t.setState({selecionado:e.previousValue})}))}},{key:"render",value:function(){if(this.context&&!0===this.context.obterNovoPrazoChamado){var e=Object(n.a)(Object(n.a)({},this.state),{},{tipoGestaoTempo:this.context.chamadoMotivoTipoGestaoTempo,horasUteis:this.context.chamadoMotivoHorasUteis});this.obterNovoPrazo(e)}return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(z.a,{value:this.state.selecionado,type:this.state.tipo,useMaskBehavior:!0,stylingMode:"filled",onValueChanged:this.aoAlterar,readOnly:!this.state.novaMensagem&&this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA||h.a.sessao.dados.tipo===window.USUARIO_TIPO.ANALISTA&&+h.a.sessao.dados.usuario_id===+this.state.solicitanteId&&"N"===this.state.solicitantePodeAlterarPrevisaoRetorno||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao))})]})}}]),a}(p.a.Component);V.defaultProps={label:"Previs\xe3o de Retorno"},V.contextType=g;var G=a(813);var H=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(G.a)(),readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,selecionado:this.props.selecionado?[this.props.selecionado]:null}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default),q=[Object(o.jsx)(S.a,{width:"100%",caption:"Prioridade"},"nome")];H.defaultProps={aoAlterar:null,displayExpr:function(e){return e&&e.nome},children:q};var K=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a=this.props.detalhes?this.props.detalhes.chamado_prioridade_id:null;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&this.props.reclassificacoesMemoria.chamado_prioridade_id&&(a=this.props.reclassificacoesMemoria.chamado_prioridade_id),{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:a,novaMensagem:null!==(t=this.props.novaMensagem)&&void 0!==t&&t}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.chamado_prioridade_id===this.props.detalhes.chamado_prioridade_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem&&window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;+a!==+e&&this.setState({selecionado:e}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.chamado_prioridade_id!==+e?Object(v.f)({chamado_id:this.state.detalhes.id,chamado_prioridade_id:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})})):this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e=this.state.selecionado?this.state.selecionado.toString():null,t=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao));return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(H,{selecionado:e,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:t})]})}}]),a}(p.a.Component);K.defaultProps={label:"Prioridade"},K.contextType=g;var W=a(483),J=a.n(W);var Z=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:this.props.detalhes?this.props.detalhes.nota_avaliacao_nome:null}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes!==this.props.detalhes&&this.setState(this.propsToObjState())}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)("label",{className:"small text-muted",children:this.props.label}),Object(o.jsx)(J.a,{value:this.state.selecionado,stylingMode:"filled",readOnly:!0})]})}}]),a}(p.a.Component);Z.defaultProps={label:"Avalia\xe7\xe3o"};var X=a(390),Q=a(666),$=a(63),Y=a.n($);var ee=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o.btnAddClick=o.btnAddClick.bind(Object(s.a)(o)),o.btnRemoverClick=o.btnRemoverClick.bind(Object(s.a)(o)),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(s.a)(o)),o.onEditorPreparing=o.onEditorPreparing.bind(Object(s.a)(o)),o.toolbarLabelRender=o.toolbarLabelRender.bind(Object(s.a)(o)),o.dataGridRef=p.a.createRef(),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,emails_adicionais:this.props.detalhes?this.props.detalhes.emails_adicionais:null,editavel:this.props.detalhes.rascunho||h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")&&![window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.props.detalhes.situacao),novaMensagem:null!==(t=this.props.novaMensagem)&&void 0!==t&&t}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.emails_adicionais===this.props.detalhes.emails_adicionais&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem||this.setState(this.propsToObjState())}},{key:"onToolbarPreparing",value:function(e){var t=(this.context.botaoPressionado&&"reclassificar"===this.context.botaoPressionado||!this.context.botaoPressionado)&&this.state.editavel;e.toolbarOptions.items.unshift({location:"before",template:"toolbarLabel"},{location:"after",widget:"dxButton",locateInMenu:"auto",showText:"inMenu",options:{icon:"fa fa-plus",text:"Adicionar",stylingMode:"text",onClick:this.btnAddClick},visible:t})}},{key:"aoAlterar",value:function(){var e=this.state.emails_adicionais.map((function(e){return e.email})).join(";");this.state.novaMensagem?this.props.aoAlterar&&this.props.aoAlterar(e):Object(v.f)({chamado_id:this.state.detalhes.id,emails_adicionais:e},this.props.aoAlterar?this.props.aoAlterar:null)}},{key:"btnAddClick",value:function(e){this.dataGrid.addRow()}},{key:"btnRemoverClick",value:function(e){var t=this,a=this.state.emails_adicionais,o=a.map((function(e){return e.email})).sort().join(";"),n=[];a.forEach((function(t){e.row.data.email!==t.email&&n.push(t)})),this.setState({emails_adicionais:n},(function(){o!==n.map((function(e){return e.email})).sort().join(";")&&t.aoAlterar()}))}},{key:"onEditorPreparing",value:function(e){"email"===e.dataField&&"dataRow"===e.parentType&&(e.editorName="dxAutocomplete",e.editorOptions.dataSource=Object(M.b)({cliente_id:this.state.detalhes.cliente_id,prospect_id:this.state.detalhes.prospect_id,fornecedor_id:this.state.detalhes.fornecedor_id,filtra_usuario_colaborador:!0,tipo_usuario_chamado_escolhido:this.state.detalhes.cliente_id?window.USUARIO_TIPO.CLIENTE:this.state.detalhes.prospect_id?window.USUARIO_TIPO.PROSPECT:this.state.detalhes.fornecedor_id?window.USUARIO_TIPO.FORNECEDOR:window.USUARIO_TIPO.ANALISTA}),e.editorOptions.valueExpr="email",e.editorOptions.itemTemplate=function(e){return Y()("<div>"+e.nome+("grupo"!==e.tipo?" ("+e.email+")":"")+"</div>")})}},{key:"toolbarLabelRender",value:function(){return Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem})}},{key:"render",value:function(){var e=this,t=(this.context.botaoPressionado&&"reclassificar"===this.context.botaoPressionado||!this.context.botaoPressionado)&&this.state.editavel;return Object(o.jsx)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:Object(o.jsxs)(k.default,{ref:this.dataGridRef,dataSource:this.state.emails_adicionais,filterPanel:{visible:!1},filterRow:{visible:!1},headerFilter:{visible:!1},groupPanel:{visible:!1},export:{enabled:!1},allowColumnReordering:!1,columnChooser:{enabled:!1},editing:{mode:"cell",allowUpdating:t},keyExpr:"id",showBorders:!1,showColumnHeaders:!1,showColumnLines:!1,columnFixing:{enable:!1},rowAlternationEnabled:!1,onEditorPreparing:this.onEditorPreparing,onToolbarPreparing:this.onToolbarPreparing,onRowInserted:function(){return e.aoAlterar()},onRowUpdated:function(){return e.aoAlterar()},noDataText:"",searchPanel:{visible:!1},children:[Object(o.jsx)(X.Column,{dataField:"email",allowEditing:!0}),Object(o.jsx)(X.Column,{type:"buttons",width:50,alignment:"right",children:Object(o.jsx)(X.Button,{hint:"Remover e-mail",icon:"fa fa-times",onClick:this.btnRemoverClick,visible:t})}),Object(o.jsx)(Q.Template,{name:"toolbarLabel",render:this.toolbarLabelRender})]})})}},{key:"dataGrid",get:function(){return this.dataGridRef.current.instance}}]),a}(p.a.Component);ee.defaultProps={label:"E-mails adicionais"},ee.contextType=g;var te=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)("label",{className:"small text-muted",children:this.props.label}),Object(o.jsx)("div",{children:window.format_time(this.props.valor)})]})}}]),a}(p.a.Component);te.defaultProps={label:"Total horas trabalhadas"};var ae=a(814),oe=a(815);var ne=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(ae.a)(),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default);ne.defaultProps={aoAlterar:null,displayExpr:function(e){return e&&e.nome},children:oe.a};var ie=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a=this.props.detalhes?this.props.detalhes.classificacao_chamado_id:null;return this.props.novaMensagem&&this.props&&this.props.reclassificacoesMemoria&&this.props.reclassificacoesMemoria.classificacao_chamado_id&&(a=this.props.reclassificacoesMemoria.classificacao_chamado_id),{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:a,novaMensagem:null!==(t=this.props.novaMensagem)&&void 0!==t&&t}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.classificacao_chamado_id===this.props.detalhes.classificacao_chamado_id&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.detalhes.situacao===this.props.detalhes.situacao&&e.novaMensagem===this.props.novaMensagem&&window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;+a!==+e&&this.setState({selecionado:e}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.classificacao_chamado_id!==+e?Object(v.f)({chamado_id:this.state.detalhes.id,classificacao_chamado_id:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})})):this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e=this.state.selecionado?this.state.selecionado.toString():null,t=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao));return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(ne,{selecionado:e,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:t})]})}}]),a}(p.a.Component);ie.defaultProps={label:"Classifica\xe7\xe3o"},ie.contextType=g;var re=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataSource:Object(v.c)(this.props.chamadoId),readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,selecionado:this.props.selecionado?[this.props.selecionado]:null}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(y.default);re.defaultProps={chamadoId:null,aoAlterar:null,displayExpr:function(e){return e&&e.nome},columns:[v.e]};var se=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).sugerirSituacaoMotivo=!0,o.state=Object(n.a)({sugerirSituacaoMotivo:!0},o.propsToObjState()),o.sugerirSituacaoMotivo=o.state?o.state.sugerirSituacaoMotivo:o.sugerirSituacaoMotivo,o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a=this.props.detalhes?+this.props.detalhes.situacao:null,o=this.context?this.context.botaoPressionado:this.props.botaoPressionado,n=this.props.configuracoesChamado;if(this.props.novaMensagem&&this.props.detalhes)if("S"!==n.sugerir_situacao&&"S"!==n.sugerir_situacao_reclassificacao||!(this.state&&this.state.sugerirSituacaoMotivo||!this.state&&this.sugerirSituacaoMotivo)||+h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA)this.props.reclassificacoesMemoria&&this.props.reclassificacoesMemoria.situacao&&(a=this.props.reclassificacoesMemoria.situacao);else if("S"===n.sugerir_situacao_reclassificacao&&"reclassificar"==o||"S"===n.sugerir_situacao&&"escreverMensagem"==o){switch(this.props.detalhes.tipo){case window.TIPO_ENTIDADE.CLIENTE:a=window.CHAMADO_SITUACAO.AGUARDANDO_CLIENTE;break;case window.TIPO_ENTIDADE.ORGANIZACAO:a=window.CHAMADO_SITUACAO.AGUARDANDO_ORGANIZACAO;break;case window.TIPO_ENTIDADE.FORNECEDOR:a=window.CHAMADO_SITUACAO.AGUARDANDO_FORNECEDOR;break;case window.TIPO_ENTIDADE.EMPRESA:a===window.CHAMADO_SITUACAO.AGUARDANDO_EMPRESA&&+this.props.detalhes.usuario_responsavel_id!==+h.a.sessao.dados.usuario_id?a=window.CHAMADO_SITUACAO.AGUARDANDO_RESPONSAVEL:+this.props.detalhes.solicitante_id!==+h.a.sessao.dados.usuario_id&&(a=window.CHAMADO_SITUACAO.AGUARDANDO_EMPRESA)}!this.props.reclassificacoesMemoria&&a!==+this.props.detalhes.situacao&&this.props.aoAlterar&&this.props.aoAlterar(a)}return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:a,novaMensagem:null!==(t=this.props.novaMensagem)&&void 0!==t&&t,sugerirMotivo:!0,botaoPressionado:o,configuracoesChamado:n}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes.situacao===this.props.detalhes.situacao&&e.detalhes.rascunho===this.props.detalhes.rascunho&&e.novaMensagem===this.props.novaMensagem&&window.isEquivalent(e.reclassificacoesMemoria,this.props.reclassificacoesMemoria)||this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this,a=this.state.selecionado;+a!==+e&&this.setState({selecionado:e,sugerirSituacaoMotivo:!1}),!this.state.novaMensagem&&e&&+this.state.detalhes.id&&+this.state.detalhes.situacao!==+e?Object(v.f)({chamado_id:this.state.detalhes.id,situacao:e},this.props.aoAlterar?this.props.aoAlterar:null,(function(e){return t.setState({selecionado:a})})):this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e,t=this.state.selecionado?this.state.selecionado.toString():null,a=!this.state.novaMensagem&&this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")&&!this.state.novaMensagem||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao));return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:this.state.novaMensagem}),Object(o.jsx)(re,{chamadoId:this.state.detalhes.id,entidadeTipo:null!==(e=this.state.detalhes.tipo)&&void 0!==e?e:null,selecionado:t,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:a})]})}}]),a}(p.a.Component);se.defaultProps={label:"Situa\xe7\xe3o"},se.contextType=g;var ce=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.solicitarRefresh=o.solicitarRefresh.bind(Object(s.a)(o)),o.handleReclassificacaoMemoria=o.handleReclassificacaoMemoria.bind(Object(s.a)(o)),o.reclassificacaoMemoriaEntidade=o.reclassificacaoMemoriaEntidade.bind(Object(s.a)(o)),o.reclassificacaoMemoriaSolicitante=o.reclassificacaoMemoriaSolicitante.bind(Object(s.a)(o)),o.reclassificacaoMemoriaGrupoMotivo=o.reclassificacaoMemoriaGrupoMotivo.bind(Object(s.a)(o)),o.reclassificacaoMemoriaMotivo=o.reclassificacaoMemoriaMotivo.bind(Object(s.a)(o)),o.reclassificacaoMemoriaResponsavel=o.reclassificacaoMemoriaResponsavel.bind(Object(s.a)(o)),o.reclassificacaoMemoriaClassificacao=o.reclassificacaoMemoriaClassificacao.bind(Object(s.a)(o)),o.reclassificacaoMemoriaPrioridade=o.reclassificacaoMemoriaPrioridade.bind(Object(s.a)(o)),o.reclassificacaoMemoriaPrevisaoRetorno=o.reclassificacaoMemoriaPrevisaoRetorno.bind(Object(s.a)(o)),o.reclassificacaoMemoriaSituacao=o.reclassificacaoMemoriaSituacao.bind(Object(s.a)(o)),o.reclassificacaoMemoriaEmailsAdicionais=o.reclassificacaoMemoriaEmailsAdicionais.bind(Object(s.a)(o)),o.reclassificacao_memoria={},o}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.detalhes===this.props.detalhes&&e.botaoPressionadoReclassificacao===this.props.botaoPressionadoReclassificacao&&e.colaboradorPodeAlterarSolicitante===this.props.colaboradorPodeAlterarSolicitante||this.setState(this.propsToObjState())}},{key:"shouldComponentUpdate",value:function(e,t){return!!t.atualizar_componente}},{key:"propsToObjState",value:function(){var e,t,a;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,botaoPressionadoReclassificacao:null!==(t=this.props.botaoPressionadoReclassificacao)&&void 0!==t?t:null,colaboradorPodeAlterarSolicitante:null!==(a=this.props.colaboradorPodeAlterarSolicitante)&&void 0!==a&&a,atualizar_componente:!0}}},{key:"solicitarRefresh",value:function(e){this.props.aoSolicitarRefresh&&this.props.aoSolicitarRefresh(e)}},{key:"handleReclassificacaoMemoria",value:function(e){var t=Object(n.a)(Object(n.a)({},this.reclassificacao_memoria),e);this.reclassificacao_memoria=t,this.context.handleSetReclassificacaoMemoria(this.reclassificacao_memoria)}},{key:"reclassificacaoMemoriaEntidade",value:function(e){this.handleReclassificacaoMemoria({entidade_tipo:e.tipo,entidade_id:e.id}),this.context.handleSetEntidadeId(e.id),this.context.handleSetEntidadeTipo(e.tipo)}},{key:"reclassificacaoMemoriaSolicitante",value:function(e){this.handleReclassificacaoMemoria({usuario_solicitante_id:e})}},{key:"reclassificacaoMemoriaGrupoMotivo",value:function(e){this.handleReclassificacaoMemoria({grupo_motivo_id:e}),this.context.handleSetGrupoMotivoId(e)}},{key:"reclassificacaoMemoriaMotivo",value:function(e,t){var a=this,o={chamado_motivo_id:e};t&&(o=Object(n.a)(Object(n.a)({},o),{},{chamado_motivo_horas_uteis:t.horas_uteis,chamado_motivo_tipo_gestao_tempo:t.tipo_gestao_tempo,chamado_motivo_solicitante_pode_alterar_previsao_retorno:t.solicitante_pode_alterar_previsao_retorno,chamado_motivo_altera_solicitante:"S"===t.altera_solicitante}),"S"===t.descricao_motivo_on_assunto&&this.context.assuntoChamadoAtual!==t.nome&&Object(b.confirm)("Deseja alterar o assunto do chamado para <strong>"+t.nome+"</strong>? <br><br> <small>Esta mensagem foi exibida porque o Motivo de Chamado selecionado est\xe1 configurado para que a sua descri\xe7\xe3o seja sugerida no assunto do Chamado.</small>","Aten\xe7\xe3o").then((function(e){e?a.context.handleSetNovoAssuntoChamado(t.nome):a.context.handleSetNovoAssuntoChamado(null)})));this.handleReclassificacaoMemoria(o),this.context.handleSetChamadoMotivoId(e),this.context.handleSetChamadoMotivoGestaoTempo(t.tipo_gestao_tempo),this.context.handleSetChamadoMotivoHorasUteis(t.horas_uteis),this.context.handleSetObterNovoPrazoChamado(!0)}},{key:"reclassificacaoMemoriaResponsavel",value:function(e){this.handleReclassificacaoMemoria({usuario_responsavel_id:e})}},{key:"reclassificacaoMemoriaClassificacao",value:function(e){this.handleReclassificacaoMemoria({classificacao_chamado_id:e})}},{key:"reclassificacaoMemoriaPrioridade",value:function(e){this.handleReclassificacaoMemoria({chamado_prioridade_id:e})}},{key:"reclassificacaoMemoriaPrevisaoRetorno",value:function(e){var t=null;e&&e.value&&(t=window.formatDateTime(e.value,!0)),this.handleReclassificacaoMemoria({data_previsao_retorno:t})}},{key:"reclassificacaoMemoriaSituacao",value:function(e){this.handleReclassificacaoMemoria({situacao:e})}},{key:"reclassificacaoMemoriaEmailsAdicionais",value:function(e){this.handleReclassificacaoMemoria({emails_adicionais:e})}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"panel panel-default card-dados-chamado",children:Object(o.jsxs)("div",{className:"list-group",children:[Object(o.jsx)(E,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaEntidade:this.solicitarRefresh}),Object(o.jsx)(F,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaSolicitante:this.solicitarRefresh,colaboradorPodeAlterarSolicitante:this.state.colaboradorPodeAlterarSolicitante}),"S"===h.a.sessao.dados.parametro_chamado.chk_exibir_na_abertura_grupo_motivo_chamado?Object(o.jsx)(I,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaGrupoMotivo:this.solicitarRefresh}):null,Object(o.jsx)(x,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaMotivo:this.solicitarRefresh}),this.state.detalhes.rascunho&&h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA?null:Object(o.jsx)(U,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaResponsavel:this.solicitarRefresh,chamadoMotivoId:this.state.chamadoMotivoId}),"S"===h.a.sessao.dados.parametro_chamado.chamado_classificacoes?Object(o.jsx)(ie,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaClassificacao:this.solicitarRefresh}):null,Object(o.jsx)(K,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaPrioridade:this.solicitarRefresh}),this.state.detalhes.rascunho&&h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA?null:Object(o.jsx)(V,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaPrevisaoRetorno:this.solicitarRefresh}),this.state.detalhes.rascunho&&h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA?null:Object(o.jsx)(se,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaSituacao:this.solicitarRefresh,configuracoesChamado:this.props.configuracoesChamado})]})}),Object(o.jsx)("div",{className:"panel panel-default card-dados-chamado",children:Object(o.jsx)("div",{className:"list-group",children:Object(o.jsx)(ee,{detalhes:this.state.detalhes,novaMensagem:this.state.botaoPressionadoReclassificacao,reclassificacoesMemoria:this.context.reclassificacoesMemoria,aoAlterar:this.state.botaoPressionadoReclassificacao?this.reclassificacaoMemoriaEmailsAdicionais:this.solicitarRefresh})})}),this.state.detalhes.rascunho?null:Object(o.jsx)("div",{className:"panel panel-default card-dados-chamado",children:Object(o.jsxs)("div",{className:"list-group",children:[this.state.detalhes.nota_avaliacao_id?Object(o.jsx)(Z,{detalhes:this.state.detalhes}):null,!this.props.detalhes||""===this.props.detalhes.horas_trabalhadas||null===this.props.detalhes.horas_trabalhadas||"undefined"===typeof this.props.detalhes.horas_trabalhadas||"00:00:00"===this.props.detalhes.horas_trabalhadas||h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA&&!0!==h.a.sessao.dados.admin?null:Object(o.jsx)(te,{valor:this.props.detalhes.horas_trabalhadas})]})})]})}}]),a}(p.a.Component);ce.contextType=g;var le=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).onClick=o.onClick.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"onClick",value:function(){var e=this.props.url;if("#"===this.props.url.trim().substr(0,1)){var t=document.URL,a=document.URL.indexOf("#");a>=0&&(t=document.URL.substr(0,a)),e=t+this.props.url}window.copyToClipboard(e)}},{key:"render",value:function(){return Object(o.jsx)("button",{onClick:this.onClick,className:"btn btn-link",style:this.props.style,title:"Copiar link para \xe1rea de transfer\xeancia",children:this.props.children})}}]),a}(p.a.Component);le.defaultProps={url:"about:blank",children:"Copiar Link"};var de=a(525),ue=a(490),pe=a.n(ue),fe=a(611);var he=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes!==this.props.detalhes&&this.setState(this.propsToObjState())}},{key:"render",value:function(){var e="";return this.state.detalhes&&(e=this.state.detalhes&&!0===this.state.detalhes.rascunho?"Rascunho":window.ChamadoDescSituacaoHumano(this.state.detalhes.situacao,h.a.sessao.dados.tipo)),Object(o.jsx)("span",{className:"label label-default",children:e})}}]),a}(p.a.Component);he.defaultProps={};var me=a(816),ve=a(817);var be=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){return{documentoId:"undefined"!=typeof this.props.documentoId?this.props.documentoId:null,documentoRevisaoId:"undefined"!=typeof this.props.documentoRevisaoId?this.props.documentoRevisaoId:null,imgAlternativa:"undefined"!=typeof this.props.imgAlternativa?this.props.imgAlternativa:"assets/img/imagem_usuario_padrao.svg",titulo:"undefined"!=typeof this.props.titulo?this.props.titulo:null}}},{key:"componentDidUpdate",value:function(e,t){e.documentoId===this.props.documentoId&&e.documentoRevisaoId===this.props.documentoRevisaoId&&e.imgAlternativa===this.props.imgAlternativa||this.setState(this.propsToObjState())}},{key:"render",value:function(){var e=this.state.imgAlternativa;return this.state.documentoId?e=window.WS_URI+"documento/midia/?tamanho="+this.props.tamanho+"&documento_id="+this.state.documentoId+"&token_midia="+h.a.sessao.token_midia:this.state.documentoRevisaoId&&(e=window.WS_URI+"documento/midia/?tamanho="+this.props.tamanho+"&documento_revisao_id="+this.state.documentoRevisaoId+"&token_midia="+h.a.sessao.token_midia),Object(o.jsx)("img",{src:e,height:this.props.tamanho,width:this.props.tamanho,style:{borderRadius:"25em"},alt:"",title:this.state.titulo})}}]),a}(p.a.Component);be.defaultProps={tamanho:28,titulo:""};var _e=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes!==this.props.detalhes&&this.setState(this.propsToObjState())}},{key:"render",value:function(){var e=window.Colors(this.state.detalhes.motivo_cor);return Object(o.jsx)("span",{className:"label",style:{background:e.hex,color:e.nome_hex},children:this.state.detalhes.motivo})}}]),a}(p.a.Component);_e.defaultProps={};var je=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=!1;switch(this.props.tipo){case window.TIPO_ENTIDADE.CLIENTE:t=!0===h.a.sessao.dados.admin||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"cliente")||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"cliente_somente_leitura");break;case window.TIPO_ENTIDADE.EMPRESA:t=!0===h.a.sessao.dados.admin;break;case window.TIPO_ENTIDADE.FORNECEDOR:t=!0===h.a.sessao.dados.admin||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"fornecedor")||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"fornecedor_somente_leitura");break;case window.TIPO_ENTIDADE.ORGANIZACAO:t=!0===h.a.sessao.dados.admin||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"prospect")||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"prospect_somente_leitura")}var a=t?Object(o.jsx)("div",{onClick:t?function(t){var a=null;switch(e.props.tipo){case window.TIPO_ENTIDADE.CLIENTE:a=!0===h.a.sessao.dados.admin||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"cliente")?window.FORMULARIO.EDITAR:window.FORMULARIO.VISUALIZAR,m.a.load("cliente/detalhes",(function(t,o){o.show(e.props.id,a)}),window.View.ABA.MULTIPLAS);break;case window.TIPO_ENTIDADE.EMPRESA:!0===h.a.sessao.dados.admin&&m.a.load("empresa/detalhes",(function(t,a){a.show(e.props.id,window.FORMULARIO.VISUALIZAR)}),m.a.ABA.MULTIPLAS);break;case window.TIPO_ENTIDADE.FORNECEDOR:a=!0===h.a.sessao.dados.admin||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"fornecedor")?window.FORMULARIO.EDITAR:window.FORMULARIO.VISUALIZAR,m.a.load("fornecedor/detalhes",(function(t,o){o.show(e.props.id,a)}),window.View.ABA.MULTIPLAS);break;case window.TIPO_ENTIDADE.ORGANIZACAO:a=!0===h.a.sessao.dados.admin||h.a.verifica_permissao(h.a.sessao.dados.empresa_filial_id,"prospect")?window.FORMULARIO.EDITAR:window.FORMULARIO.VISUALIZAR,m.a.load("prospect/detalhes",(function(t,o){o.show(e.props.id,a)}),window.View.ABA.MULTIPLAS)}}:null,style:{cursor:"pointer",textDecoration:"underline"},children:this.props.nome}):Object(o.jsx)("div",{children:this.props.nome});return Object(o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[Object(o.jsx)(be,{tamanho:"28",documentoId:this.props.logoId,imgAlternativa:"assets/img/imagem_empresa_padrao.svg",titulo:this.props.nome}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[Object(o.jsx)(de.a,{}),a,Object(o.jsx)(de.a,{})]})})]})}}]),a}(p.a.Component);var Oe=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.assuntoChange=o.assuntoChange.bind(Object(s.a)(o)),o.btnMensagensClick=o.btnMensagensClick.bind(Object(s.a)(o)),o.btnFormularioAvaliacaoClick=o.btnFormularioAvaliacaoClick.bind(Object(s.a)(o)),o.btnFormularioAberturaClick=o.btnFormularioAberturaClick.bind(Object(s.a)(o)),o.btnReferenciasClick=o.btnReferenciasClick.bind(Object(s.a)(o)),o.btnRecarregarClick=o.btnRecarregarClick.bind(Object(s.a)(o)),o.btnToogleExibirMaisDetalhesClick=o.btnToogleExibirMaisDetalhesClick.bind(Object(s.a)(o)),o.handleGerenciarApontamento=o.handleGerenciarApontamento.bind(Object(s.a)(o)),o.handleIniciarApontamento=o.handleIniciarApontamento.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i="iniciarAtendimento",r="fas fa-play-circle",s="Iniciar Atendimento",c="Iniciar";return"S"!=this.props.detalhes.chamado_motivo_utiliza_apontamento_chamado&&!0!==this.props.detalhes.chamado_motivo_utiliza_apontamento_chamado||this.props.detalhes.status_apontamento!=window.CHAMADO_STATUS_APONTAMENTO.INICIADO||(i="pausarAtendimento",r="fas fa-pause-circle",s="Pausar Atendimento",c="Pausar"),{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,referenciasCount:this.props.detalhes.oportunidade.length+this.props.detalhes.solicitacao_atividades.length+this.props.detalhes.projeto_atividades.length+this.props.detalhes.pdca_atividades.length+this.props.detalhes.tarefa_quadro_lista_cartao.length,mensagensCount:null!==(t=this.props.mensagensCount)&&void 0!==t?t:0,assunto:this.props.detalhes?this.props.detalhes.assunto:null,assuntoOriginal:this.props.detalhes?this.props.detalhes.assunto:null,tipoGestaoTempo:this.props.detalhes?this.props.detalhes.tipo_gestao_tempo:null,horasEstimadas:this.props.detalhes?this.props.detalhes.horas_previsao_retorno:null,dataPrazo:this.props.detalhes?this.props.detalhes.data_previsao_retorno:null,calendarioTrabalhoId:this.props.detalhes?this.props.detalhes.chamado_motivo_calendario_trabalho_id:null,botaoPressionado:null!==(a=this.props.botaoPressionado)&&void 0!==a?a:null,exibirMaisDetalhes:null!==(o=this.props.exibirMaisDetalhes)&&void 0!==o?o:null,bloquearExibirMaisDetalhes:null!==(n=this.props.bloquearExibirMaisDetalhes)&&void 0!==n?n:null,btnApontamentoAcao:i,btnApontamentoIcon:r,btnApontamentoHint:s,btnApontamentoText:c}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes===this.props.detalhes&&e.exibirMaisDetalhes===this.props.exibirMaisDetalhes&&e.bloquearExibirMaisDetalhes===this.props.bloquearExibirMaisDetalhes||this.setState(this.propsToObjState())}},{key:"btnMensagensClick",value:function(){var e=this;this.setState({botaoPressionado:"mensagens"},(function(){e.props.btnMensagensClick&&e.props.btnMensagensClick()}))}},{key:"btnFormularioAvaliacaoClick",value:function(){var e=this;this.setState({botaoPressionado:"avaliacao"},(function(){e.props.btnFormularioAvaliacaoClick&&e.props.btnFormularioAvaliacaoClick()}))}},{key:"btnFormularioAberturaClick",value:function(){var e=this;this.setState({botaoPressionado:"formularioAbertura"},(function(){e.props.btnFormularioAberturaClick&&e.props.btnFormularioAberturaClick()}))}},{key:"btnReferenciasClick",value:function(){var e=this;this.setState({botaoPressionado:"referencias"},(function(){e.props.btnReferenciasClick&&e.props.btnReferenciasClick()}))}},{key:"btnRecarregarClick",value:function(){this.props.btnRecarregarClick&&this.props.btnRecarregarClick()}},{key:"btnToogleExibirMaisDetalhesClick",value:function(){this.props.btnToogleExibirMaisDetalhesClick&&this.setState({exibirMaisDetalhes:this.props.btnToogleExibirMaisDetalhesClick()})}},{key:"assuntoChange",value:function(e){var t=this;e.value!==this.state.assunto&&this.setState({assunto:e.value},(function(){e.value.trim().length>0&&"reclassificar"!==t.context.botaoPressionado&&Object(v.f)({chamado_id:t.state.detalhes.id,assunto:e.value},t.props.btnRecarregarClick?t.props.btnRecarregarClick:null)})),this.context.handleSetAssuntoChamadoAtual(e.value)}},{key:"handleGerenciarApontamento",value:function(e){var t=this;if(e==window.CHAMADO_APONTAMENTO_ACAO.INICIAR)f.a.post("/chamado/gerenciar_apontamento/",{chamado_id:this.state.detalhes.id,responsavel_id:h.a.sessao.dados.usuario_id},(function(e){if(!e)return window.alertaPopUp("Valida\xe7\xe3o","N\xe3o foi poss\xedvel criar a Atividade do Projeto para o usu\xe1rio respons\xe1vel.<br><br>Verifique se o usu\xe1rio \xe9 <strong>T\xe9cnico de Projetos</strong> e faz parte da <strong>equipe do Projeto</strong>."),!1;t.handleIniciarApontamento(e)}));else if(e==window.CHAMADO_APONTAMENTO_ACAO.PAUSAR){this.context.handlePausarApontamento(this.state.detalhes,(function(){t.setState({btnApontamentoAcao:"iniciarAtendimento",btnApontamentoIcon:"fas fa-play-circle",btnApontamentoHint:"Iniciar Atendimento",btnApontamentoText:"Iniciar"},(function(){t.btnRecarregarClick()}))}))}}},{key:"handleIniciarApontamento",value:function(e){var t=this,a={},o=[],n=new Date,i=window.getDate(),r=n.getHours()+":"+n.getMinutes();a.atividade_id=e.id,a.descricao=e.atividade_simplificada,a.horas_atividade=null,a.porcentagem_atividade=e.porcentagem,o[0]=a,f.a.post("apontamento_projeto/salvar/",{apontamento_id:null,usuario_id:h.a.sessao.dados.usuario_id,projeto_id:e.projeto_id,atividade:JSON.stringify(o),cliente_id:e.cliente_id,dia:i,hora_inicial:r,hora_final:"",apontamento_dinamico:!0,atividade_iniciada:!0,entregue:!1,apontamento_dinamico_acao:window.APONTAMENTO_DINAMICO_ACAO.INICIAR,chamado_id:this.state.detalhes.id,chamado_entidade_nome:this.state.detalhes.entidade_nome,chamado_responsavel_anterior:e.chamado_responsavel_anterior},(function(a){window.alert_saved("Atividade "+e.codigo+" salva com sucesso"),t.setState({btnApontamentoAcao:"pausarAtendimento",btnApontamentoIcon:"fas fa-pause-circle",btnApontamentoHint:"Pausar Atendimento",btnApontamentoText:"Pausar"},(function(){t.btnRecarregarClick()}))}))}},{key:"render",value:function(){var e,t=this,a=this.context.botaoPressionado&&"reclassificar"!==this.context.botaoPressionado||!this.state.detalhes.rascunho&&(!h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado")||[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.state.detalhes.situacao)),n=this.state.assunto;return this.context.novoAssuntoChamado&&(n=this.context.novoAssuntoChamado),this.context.handleSetAssuntoChamadoAtual(n),this.context.handleSetAssuntoChamadoAnterior(this.state.assunto),Object(o.jsx)("div",{className:"panel panel-default",children:Object(o.jsx)("div",{className:"list-group",children:Object(o.jsxs)("div",{className:"list-group-item",style:{padding:"10px"},children:[this.state.detalhes?Object(o.jsx)(p.a.Fragment,{children:Object(o.jsxs)(pe.a,{children:[Object(o.jsxs)(ue.Item,{location:"before",children:[Object(o.jsxs)("b",{children:["#",this.state.detalhes.id," ",Object(o.jsx)(le,{style:{padding:"0px"},url:"#/chamado/"+this.state.detalhes.id,children:Object(o.jsx)("span",{className:"far fa-copy"})})]}),Object(o.jsx)(de.a,{})]}),Object(o.jsx)(ue.Item,{location:"before",visible:+this.state.detalhes.entidade_id>0,locateInMenu:"auto",children:Object(o.jsx)(je,{tipo:this.state.detalhes.tipo,id:this.state.detalhes.entidade_id,nome:this.state.detalhes.entidade_nome,logoId:this.state.detalhes.entidade_logo_id})}),Object(o.jsx)(ue.Item,{location:"before",visible:+this.state.detalhes.solicitante_id>0,locateInMenu:"auto",children:Object(o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},title:"Solicitante",children:[Object(o.jsx)(be,{tamanho:"28",documentoId:this.state.detalhes.usuario_solicitante_foto_id,imgAlternativa:"assets/img/imagem_usuario_padrao.svg",titulo:"Solicitante"}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[Object(o.jsx)(de.a,{}),Object(o.jsx)("div",{children:this.state.detalhes.solicitante_nome}),Object(o.jsx)(de.a,{})]})})]})}),Object(o.jsx)(ue.Item,{location:"before",visible:+this.state.detalhes.usuario_responsavel_id>0,locateInMenu:"auto",children:Object(o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},title:"Respons\xe1vel",children:[Object(o.jsx)(be,{tamanho:"28",documentoId:this.state.detalhes.foto_usuario_responsavel,imgAlternativa:"assets/img/imagem_usuario_padrao.svg",titulo:"Respons\xe1vel"}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[Object(o.jsx)(de.a,{}),Object(o.jsx)("div",{children:this.state.detalhes.usuario_responsavel_nome}),Object(o.jsx)(de.a,{})]})})]})}),Object(o.jsx)(ue.Item,{location:"before",locateInMenu:"auto",children:Object(o.jsx)(he,{detalhes:this.state.detalhes})}),Object(o.jsx)(ue.Item,{location:"before",locateInMenu:"auto",children:Object(o.jsx)(_e,{detalhes:this.state.detalhes})}),Object(o.jsx)(ue.Item,{location:"after",visible:!this.state.detalhes.rascunho,children:Object(o.jsx)("div",{className:"small",children:Object(o.jsx)(me.a,{viewHtmlId:null!==(e=this.props.viewHtmlId)&&void 0!==e?e:null,detalhes:this.state.detalhes,autoUpdate:"true"})})}),Object(o.jsx)(ue.Item,{location:"after",visible:!this.state.detalhes.rascunho&&+this.state.detalhes.situacao!==window.CHAMADO_SITUACAO.ENCERRADO&&+this.state.detalhes.situacao!==window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE,children:Object(o.jsx)("div",{className:"small visible-lg",children:Object(o.jsx)(ve.a,{TipoGestaoTempo:this.state.tipoGestaoTempo,HorasEstimadas:this.state.horasEstimadas,DataPrazo:this.state.dataPrazo,CalendarioTrabalhoId:this.state.calendarioTrabalhoId,ExibirTituloDataPrazo:!0,TituloDataPrazo:"Previs\xe3o de Retorno"})})}),Object(o.jsx)(ue.Item,{location:"after",visible:!this.state.detalhes.rascunho,children:Object(o.jsxs)(fe.ButtonGroup,{selectionMode:"single",stylingMode:"text",selectedItemKeys:[this.state.botaoPressionado],keyExpr:"acao",style:{paddingLeft:"46px"},children:[Object(o.jsx)(fe.Item,{acao:this.state.btnApontamentoAcao,icon:this.state.btnApontamentoIcon,hint:this.state.btnApontamentoHint,text:this.state.btnApontamentoText,onClick:function(){"iniciarAtendimento"==t.state.btnApontamentoAcao?t.handleGerenciarApontamento(window.CHAMADO_APONTAMENTO_ACAO.INICIAR):"pausarAtendimento"==t.state.btnApontamentoAcao&&t.handleGerenciarApontamento(window.CHAMADO_APONTAMENTO_ACAO.PAUSAR)},visible:h.a.sessao.dados.tipo==window.USUARIO_TIPO.ANALISTA&&("S"==h.a.sessao.dados.tecnico||!0===h.a.sessao.dados.tecnico)&&this.state.detalhes.situacao!=window.CHAMADO_SITUACAO.ENCERRADO&&this.state.detalhes.situacao!=window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE&&("S"==this.state.detalhes.chamado_motivo_utiliza_apontamento_chamado||!0===this.state.detalhes.chamado_motivo_utiliza_apontamento_chamado)&&(+this.state.detalhes.usuario_responsavel_id>0&&this.state.detalhes.usuario_responsavel_id==h.a.sessao.dados.usuario_id||0==+this.state.detalhes.usuario_responsavel_id)}),Object(o.jsx)(fe.Item,{acao:"formularioAbertura",icon:"fas fa-clipboard-list",hint:"Formul\xe1rio",onClick:this.btnFormularioAberturaClick,visible:+this.state.detalhes.formulario_abertura_id>0,elementAttr:{class:"btn_formulario_abertura"}}),Object(o.jsx)(fe.Item,{acao:"mensagens",icon:"fas fa-comments",hint:"Mensagens",onClick:this.btnMensagensClick,text:this.state.mensagensCount>0?this.state.mensagensCount:null,elementAttr:{class:"btn_mensagens"}}),Object(o.jsx)(fe.Item,{acao:"referencias",icon:"fas fa-sitemap",hint:"Refer\xeancias",onClick:this.btnReferenciasClick,text:this.state.referenciasCount>0?this.state.referenciasCount:null,elementAttr:{class:"btn_referencias"}}),Object(o.jsx)(fe.Item,{acao:"avaliacao",icon:"fas fa-star-half-alt",hint:"Avalia\xe7\xe3o",onClick:this.btnFormularioAvaliacaoClick,visible:+this.state.detalhes.formulario_avaliacao_id>0&&+this.state.detalhes.situacao===window.CHAMADO_SITUACAO.ENCERRADO,elementAttr:{class:"btn_avaliacao"}})]})}),Object(o.jsx)(ue.Item,{location:"after",visible:!this.state.detalhes.rascunho,children:Object(o.jsx)(fe.ButtonGroup,{selectionMode:"single",stylingMode:"text",keyExpr:"acao",selectedItemKeys:[this.state.exibirMaisDetalhes?"exibirMaisDetalhes":null],disabled:this.state.bloquearExibirMaisDetalhes,children:Object(o.jsx)(fe.Item,{acao:"exibirMaisDetalhes",onClick:this.btnToogleExibirMaisDetalhesClick,hint:"mais informa\xe7\xf5es...",icon:"fa fa-users-cog",stylingMode:"text",elementAttr:{class:"btn_exibir_mais_detalhes"}})})}),Object(o.jsx)(ue.Item,{widget:"dxButton",location:"after",visible:!this.state.detalhes.rascunho,showText:"inMenu",locateInMenu:"auto",options:{hint:"Recarregar",text:"Recarregar",onClick:this.btnRecarregarClick,icon:"fas fa-sync-alt",stylingMode:"text",elementAttr:{class:"btn_recarregar"}}})]})}):null,Object(o.jsx)(de.b,{}),Object(o.jsx)("label",{className:"text-muted",children:"Assunto"}),Object(o.jsx)(J.a,{stylingMode:"filled",value:n,width:"100%",placeholder:"Insira aqui o assunto. Seja breve nas palavras.",onValueChanged:this.assuntoChange,readOnly:a})]})})})}}]),a}(p.a.Component);Oe.contextType=g;var ge=a(393);var we=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).props.init.images_upload_handler=o.handleImagesUpload.bind(Object(s.a)(o)),o.props.init.content_css="./"+h.a.url_css_bootstrap,o}return Object(r.a)(a,[{key:"handleImagesUpload",value:function(e,t,a){var o,n;(o=new XMLHttpRequest).withCredentials=!1,o.open("POST",window.WS_URI+"/imagem_tinymce/upload/"),o.setRequestHeader("X-Auth-Token",f.a.token),o.onload=function(){var e;200===o.status?(e=JSON.parse(o.responseText))&&"string"===typeof e.location?t(e.location):a("Invalid JSON: "+o.responseText):a("HTTP Error: "+o.status)},(n=new FormData).append("file",e.blob(),e.filename()),"undefined"!==typeof this.props.moduloId&&n.append("modulo_id",this.props.moduloId),o.send(n)}}]),a}(a(1154).a);we.defaultProps={moduloId:null,init:{menubar:!1,statusbar:!0,branding:!1,theme:"silver",menu:{},height:310,extended_valid_elements:"script[language|type]",invalid_elements:"script",language:"pt_BR",format:"text",paste_data_images:!0,browser_spellcheck:!0,contextmenu:!1,media_live_embeds:!0,media_poster:!1,media_dimensions:!1,media_alt_source:!1,resize:!0,min_height:310,plugins:["fullscreen media advlist autolink lists link image imagetools charmap print preview hr anchor pagebreak","searchreplace visualblocks visualchars code","insertdatetime nonbreaking table directionality","template paste textpattern"],toolbar:["undo redo | styleselect | bold italic | forecolor backcolor | fullscreen","alignleft aligncenter alignright alignjustify | bullist numlist | link image media "],image_advtab:!0,forced_root_block:""}};var xe=a(801),ye=a.n(xe);var Ae=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.handleEditorChange=o.handleEditorChange.bind(Object(s.a)(o)),o.elemKey=ye()(Math.random()+new Date+Math.random()+ye()(Math.random())),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){return{chamadoId:this.props.chamadoId,chamadoMensagemId:"undefined"!==typeof this.props.chamadoMensagemId?this.props.chamadoMensagemId:null,editavel:"undefined"!==typeof this.props.editavel&&this.props.editavel,mensagem:"undefined"!==typeof this.props.mensagem?this.props.mensagem:"",tipo:"undefined"!==typeof this.props.tipo?this.props.tipo:"",processando:!1}}},{key:"componentDidUpdate",value:function(e,t){e.mensagem!==this.props.mensagem&&this.setState(this.propsToObjState())}},{key:"handleEditorChange",value:function(e,t){var a=this;this.setState({mensagem:e},(function(){a.props.aoEditar&&a.props.aoEditar(e)}))}},{key:"componentDidMount",value:function(){var e=Y()("[mensagem_item_fusao="+this.elemKey+"]");e.css("cursor","pointer"),e.on("mouseover",(function(){Y()(this).css("text-decoration","underline")})).on("mouseleave",(function(e){e.target.style.removeProperty("text-decoration")})),e.off("click"),e.on("click",(function(e){var t=Y()(this).attr("id");m.a.loadReact(window.views.chamado.Detalhes.default,{chamadoId:t},(function(e,t){}),window.View.ABA.MULTIPLAS)}))}},{key:"render",value:function(){if(this.state.editavel)return Object(o.jsx)("div",{style:{marginBottom:"10px"},children:Object(o.jsx)(we,{value:this.state.mensagem,onEditorChange:this.handleEditorChange,moduloId:window.MODULOS.CHAMADO})});var e=null;e=window.is_html(this.state.mensagem)?this.state.mensagem:window.nl2br(this.state.mensagem);var t=this.elemKey;if(+this.state.tipo===window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_FUSAO_CHAMADOS){var a=e.substring(e.lastIndexOf("chamado(s)")+"chamado(s)".length+1,e.lastIndexOf("foi(ram)")-1).trim().split(",").map((function(e){return'<span mensagem_item_fusao="'+t+'" id="'+e.substring(1)+'">'+e+"</span>"})).join(", ");e="O(s) chamado(s) "+a+" foi(ram) fundido(s) com este chamado.<br/>"}if(+this.state.tipo===window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_ENCERRAMENTO){var n="Este chamado foi fundido com o chamado ";if(e.indexOf(n)>=0){var i=e.substring(n.length,e.length);e=n+('<span mensagem_item_fusao="'+t+'" id="'+i.substring(1)+'">'+i+"</span>")}}return Object(o.jsx)("div",{className:"mensagemChamado",dangerouslySetInnerHTML:{__html:e}})}}]),a}(p.a.Component),Se=function(e){return Object(o.jsx)("div",{style:{fontWeight:"bold"},children:e.nome})},Ce=a(607),Re=a.n(Ce);var Ie=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.dataEnvioClick=o.dataEnvioClick.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{dataEnvio:this.props.dataEnvio,dataEnvioFromNow:Re()(this.props.dataEnvio).fromNow(),extenso:null!==(e=this.props.extenso)&&void 0!==e&&e}}},{key:"componentDidUpdate",value:function(e,t){e.extenso!==this.props.extenso&&this.setState(this.propsToObjState())}},{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){e.setState(e.propsToObjState())}),3e4)}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"dataEnvioClick",value:function(){this.props.aoAlterarTipoExibicao&&this.props.aoAlterarTipoExibicao(!this.state.extenso)}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"text-muted small",title:this.state.dataEnvio.format_date_time(),children:Object(o.jsx)("span",{onClick:this.dataEnvioClick,style:{cursor:"pointer"},children:this.state.extenso?this.state.dataEnvio.format_date_time():this.state.dataEnvioFromNow})})}}]),a}(p.a.Component),Te=a(668);var ke=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={horasTrabalhadas:"00:00"===o.props.mascaraHorasTrabalhadas?o.props.horasTrabalhadas:window.format_time(o.props.horasTrabalhadas),mensagemId:o.props.mensagemId,permiteEdicao:o.props.permiteEdicao||!1,modoEdicao:!1},o.horasTrabalhadasInicial=o.state.horasTrabalhadas,o.horasTrabalhadasClick=o.horasTrabalhadasClick.bind(Object(s.a)(o)),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o.solicitarRefresh=o.solicitarRefresh.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"horasTrabalhadasClick",value:function(){this.setState({modoEdicao:!this.state.modoEdicao})}},{key:"aoAlterar",value:function(e){this.setState({horasTrabalhadas:e.value})}},{key:"solicitarRefresh",value:function(){this.props.aoSolicitarRefresh&&this.props.chamadoId&&this.props.aoSolicitarRefresh(this.props.chamadoId)}},{key:"render",value:function(){var e=this,t=null,a=null;return this.state.permiteEdicao&&(t=this.horasTrabalhadasClick,a={cursor:"pointer"}),Object(o.jsx)(p.a.Fragment,{children:this.state.modoEdicao&&this.state.permiteEdicao?Object(o.jsx)("div",{style:{maxWidth:"200px"},children:Object(o.jsxs)(W.TextBox,{mask:Object(Te.a)(this.props.mascaraHorasTrabalhadas),maskRules:{X:/[0-5]/},useMaskedValue:!0,onValueChanged:this.aoAlterar,value:this.state.horasTrabalhadas,stylingMode:"filled",children:[Object(o.jsx)(W.Button,{name:"salvar",location:"after",options:{icon:"far fa-save",type:"default",stylingMode:"text",onClick:function(){Object(v.g)(e.state.mensagemId,e.state.horasTrabalhadas,(function(t){e.setState({modoEdicao:!1},(function(){e.horasTrabalhadasInicial=e.state.horasTrabalhadas,e.solicitarRefresh()}))}),(function(t){e.setState({horasTrabalhadas:e.horasTrabalhadasInicial})}))}}}),Object(o.jsx)(W.Button,{name:"cancelar",location:"after",options:{icon:"fas fa-times",type:"normal",stylingMode:"text",onClick:function(){e.setState({modoEdicao:!1,horasTrabalhadas:e.horasTrabalhadasInicial})}}})]})}):Object(o.jsxs)("div",{className:"text-muted small",title:"Horas trabalhadas",children:[Object(o.jsx)("span",{className:"far fa-clock"}),Object(o.jsx)("span",{onClick:t,style:a,children:window.format_time(this.state.horasTrabalhadas)})]})})}}]),a}(p.a.Component);function Pe(e){var t="";switch(parseInt(e.tipo,10)){case 1:t="Abertura";break;case 3:t="Encerramento";break;case 4:t="Reabertura";break;case 5:t="Reclassifica\xe7\xe3o";break;case 6:t="Encerramento por Inatividade";break;case 8:t="Fus\xe3o";break;case 7:t=h.a.lang.observacao_interna_chamado.observacao_interna;break;default:t=""}return Object(o.jsx)("div",{children:Object(o.jsx)("span",{className:"label label-info",style:{},children:t})})}function De(e){return e.observacoes?Object(o.jsx)("div",{className:"text-muted small",style:{lineBreak:"anywhere"},dangerouslySetInnerHTML:{__html:e.observacoes}}):null}var Ee=a(491);function Me(e){if(!e.documentos||0===e.documentos.length)return null;var t=function(e){h.a.obter_token_publico((function(t){h.a.download(window.WS_URI+"documento/download/?documento_revisao_id="+e.documento_revisao_id+"&token_publico="+t)}))};return e.documentos.map((function(e){var a="application/pdf"===e.mime_type||"image/png"===e.mime_type||"image/bmp"===e.mime_type||"image/jpeg"===e.mime_type||"image/jpg"===e.mime_type||"image/gif"===e.mime_type||window.MIME_TYPE_OFFICE.indexOf(e.mime_type)>=0;return Object(o.jsxs)("div",{style:{display:"inline-flex"},children:[a?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(Ee.Button,{type:"normal",stylingMode:"outlined",text:window.FileShortName(e.revisao_nome),hint:e.revisao_nome,onClick:function(){return function(e){"application/pdf"===e.mime_type?m.a.load("central_documentos/visualizar_pdf",(function(t,a){a.show(e.documento_revisao_id)})):"image/png"===e.mime_type||"image/bmp"===e.mime_type||"image/jpeg"===e.mime_type||"image/jpg"===e.mime_type||"image/gif"===e.mime_type?m.a.load("central_documentos/visualizar_documento",(function(t,a){a.show(e.documento_revisao_id)})):window.MIME_TYPE_OFFICE.indexOf(e.mime_type)>=0&&h.a.obter_token_publico((function(t){var a=window.location.protocol+"//"+window.location.host+"/"+window.location.pathname,o=a.indexOf("index.html");o>0&&(a=a.substring(0,o)),a+="/webservice/index.php/documento/download/?documento_revisao_id="+e.documento_revisao_id+"&token_publico="+t;var n="https://docs.google.com/viewer?embedded=true&url="+encodeURIComponent(a);window.open(n,"_blank")}))}(e)}}),Object(o.jsx)(Ee.Button,{type:"normal",stylingMode:"outlined",icon:"fa fa-download",hint:"Download",onClick:function(){return t(e)}})]}):Object(o.jsx)(Ee.Button,{type:"normal",stylingMode:"outlined",text:window.FileShortName(e.revisao_nome),hint:e.revisao_nome,onClick:function(){return t(e)}}),Object(o.jsx)(de.a,{})]})}))}var Ne=a(612);var Fe=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e;return{valor:null!==(e=this.props.valor)&&void 0!==e?e:null}}},{key:"componentDidUpdate",value:function(e,t){e.valor!==this.props.valor&&this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){var t=this;this.setState({valor:e.value},(function(){t.props.aoAlterar&&t.props.aoAlterar(e)}))}},{key:"render",value:function(){var e=this.state.valor?this.state.valor.toString():null;return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)(j,{label:this.props.label,novaMensagem:!0}),Object(o.jsx)(J.a,{mask:Object(Te.a)(this.props.mascaraHorasTrabalhadas),maskRules:{X:/[0-5]/},useMaskedValue:!0,onValueChanged:this.aoAlterar,value:e,stylingMode:"filled"})]})}}]),a}(p.a.Component);Fe.defaultProps={label:"Horas Trabalhadas",valor:null};var Le=a(818);var Ue=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=Object(n.a)(Object(n.a)({},o.state),o.propsToObjState()),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){return{dataSource:Object(Le.a)(this.props.chamadoId)}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId!==this.props.chamadoId&&this.setState(this.propsToObjState())}}]),a}(y.default);Ue.defaultProps={chamadoId:null,aoAlterar:null,displayExpr:function(e){return e&&e.nome},children:[Object(o.jsx)(S.a,{caption:"Avalia\xe7\xe3o",width:"100%"})]};var Be=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.aoAlterar=o.aoAlterar.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:this.props.detalhes?null!==(t=this.props.detalhes.nota_avaliacao_id)&&void 0!==t?t:this.props.detalhes.avaliacao_padrao_id:null}}},{key:"componentDidUpdate",value:function(e,t){e.detalhes!==this.props.detalhes&&this.setState(this.propsToObjState())}},{key:"aoAlterar",value:function(e){if(!e)return!1;this.props.aoAlterar&&this.props.aoAlterar(e)}},{key:"render",value:function(){var e=this.state.selecionado?this.state.selecionado.toString():null;return Object(o.jsxs)("div",{className:"list-group-item",style:Object(n.a)(Object(n.a)({},this.props.style),{},{border:"0px"}),children:[Object(o.jsx)("label",{className:"small text-muted",children:this.props.label}),Object(o.jsx)(Ue,{chamadoId:this.state.detalhes.id,selecionado:e,aoAlterar:this.aoAlterar,stylingMode:"filled",readOnly:this.state.detalhes.nota_avaliacao_id})]})}}]),a}(p.a.Component);Be.defaultProps={label:"Referente ao atendimento realizado, voc\xea ficou"};var ze=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.formularioRef=p.a.createRef(),o.renderFormulario=o.renderFormulario.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{detalhes:null!==(e=this.props.detalhes)&&void 0!==e?e:null,selecionado:this.props.detalhes?this.props.detalhes.formulario_avaliacao_id:null,readOnly:null!==(t=this.props.readOnly)&&void 0!==t&&t}}},{key:"componentDidMount",value:function(){this.renderFormulario()}},{key:"componentDidUpdate",value:function(e,t){e.detalhes!==this.props.detalhes&&this.setState(this.propsToObjState())}},{key:"render",value:function(){return Object(o.jsx)("div",{ref:this.formularioRef})}},{key:"renderFormulario",value:function(){var e,t=this,a=null!==(e=this.props.main)&&void 0!==e?e:{};a.html=Y()('<div class="aba_personalizado"><div class="titulo_formulario">Campos Personalizados</div><div class="form-editor"><div class="form-grupos panel-body" style="padding: 0px;"></div><div class="form-grupo" template-grupo template-ref="" style="display: none;"><div><h3 class="text-primary lbl_grupo_nome"></h3></div></div><div class="form-grupo-campo" template-campo template-ref="" style="display: none;"><div class="div_campo form-group"><span class="lbl_obrigatorio text-danger">* </span><label class="lbl_nome">{Nome}</label><div class="div_input"></div></div></div></div></div>'),a.html_id="html_id",a.aba_personalizado=a.html,a.titulo_formulario=a.html.find(".titulo_formulario"),a.form_editor=a.html.find(".form-editor"),a.form_grupos=a.html.find(".form-grupos"),a.template_grupo=a.html.find("[template-grupo]"),a.template_campo=a.html.find("[template-campo]"),a.lbl_nome=a.html.find(".lbl_nome"),f.a.get("formulario_chamado_avaliacao/get_formulario/",{chamado_id:this.state.detalhes.id},(function(e){e&&(a.campos_personalizados=e,a.titulo_formulario.html(e.nome),a.campos_personalizados.registros&&Y.a.each(a.campos_personalizados.registros,(function(e,t){"campo_anexo"===e?t&&Y.a.each(t,(function(e,t){if(t){var o=t.split(";"),n=parseInt(o[0]),i=o[1];Y.a.each(a.campos_personalizados.grupos,(function(t,a){Y.a.each(a.elementos,(function(t,a){e===a.id_elemento&&(a.valor=n,a.documento_revisao={},a.documento_revisao.nome_arquivo=i,a.documento_revisao.mime_type=window.extensao_to_mimetype(i.substring(i.lastIndexOf(".")+1,i.length)))}))}))}})):"selecao_documento"===e?Y.a.each(t,(function(e,t){Y.a.each(a.campos_personalizados.grupos,(function(a,o){Y.a.each(o.elementos,(function(a,o){e===o.id_elemento&&(o.valor=t)}))}))})):"campo_tabela"===e&&Y.a.each(t,(function(e,t){if("string"===typeof t)try{t=JSON.parse(t.replace(/(\"{2})(\w.+?)\"{2}/gm,'"$2"').replace(/(\r\n|\n|\r)/gm," "))}catch(o){console.warn(t,t.replace(/(\"{2})(\w.+?)\"{2}/gm,'"$2"').replace(/(\r\n|\n|\r)/gm," "))}t&&Y.a.each(a.campos_personalizados.grupos,(function(a,o){Y.a.each(o.elementos,(function(a,o){e===o.id_elemento&&(o.tamanho_render=t.tamanho_render,o.valor=t.valor,"undefined"!==typeof o.valor&&Y.a.each(o.valor,(function(e,t){if(null!=t.revisao){var a=t.revisao.split(";"),o=parseInt(a[0]),n=a[1];t.valor=o,t.documento_revisao={},t.documento_revisao.nome_arquivo=n,t.documento_revisao.mime_type=window.extensao_to_mimetype(n.substring(n.lastIndexOf(".")+1,n.length))}})))}))}))}))})),window.require(["./assets/view/formulario/util"],(function(o){(new o).render_previsao({div_formulario:a,template_campo:a.template_campo,template_grupo:a.template_grupo,obj_formulario:a.campos_personalizados,disabled_all:t.state.readOnly,liberar_campos:!t.state.readOnly}),e.registros&&Y.a.each(e.registros,(function(t,o){"campo_geral"===t?Object.keys(e.registros.campo_geral).map((function(t,o){return a.aba_personalizado.find("[id_elemento="+t+"]").val(e.registros.campo_geral[t]),a.aba_personalizado.find("[id_elemento="+t+"]").change(),a.aba_personalizado.find("[id_elemento="+t+"]").blur(),t})):"campo_decimal"===t?Object.keys(e.registros.campo_decimal).map((function(t,o){return e.registros.campo_decimal[t]&&(a.aba_personalizado.find("[id_elemento="+t+"]").val(e.registros.campo_decimal[t].replace(".",",")),a.aba_personalizado.find("[id_elemento="+t+"]").change(),a.aba_personalizado.find("[id_elemento="+t+"]").blur()),t})):"lista_opcoes"===t?Object.keys(e.registros.lista_opcoes).map((function(t,o){var n=a.aba_personalizado.find("[id_elemento="+t+"]").find("option"),i=e.registros.lista_opcoes[t];null!=i&&(i=i.split(";"));var r=0;return n&&i&&Y.a.each(n,(function(e,t){Y.a.each(i,(function(e,a){t.value===a&&(t.selected=!0,Y()(t).change(),Y()(t).blur(),r=Y()(t).index(),Y()(t).parent().parent().find("[data-original-index='"+r+"']").addClass("selected"))}))})),t})):"radio"===t?Object.keys(e.registros.radio).map((function(t,o){var n=a.aba_personalizado.find("[id_elemento="+t+"]");return n.parent().find("input[value='"+e.registros.radio[t]+"']").prop("checked",!0),n.parent().find("input[value='"+e.registros.radio[t]+"']").change(),t})):"checkbox"===t?Object.keys(e.registros.checkbox).map((function(t,o){var n=e.registros.checkbox[t];null!=n&&(n=n.split(";"));var i=a.aba_personalizado.find("[id_elemento="+t+"]");return n&&Y.a.each(n,(function(e,t){i.parent().find("input[value='"+t+"']").prop("checked",!0)})),t})):"'caixa_verificacao'"===t?Y.a.each(e.registros.caixa_verificacao,(function(e,t){"S"===t&&a.aba_personalizado.find("[id_elemento="+e+"]").prop("checked",!0)})):"editor_texto"===t?setTimeout((function(){Object.keys(e.registros.editor_texto).map((function(t,o){return window.tinyMCE.get(a.aba_personalizado.find("[id_elemento="+t+"]").attr("id")).setContent(e.registros.editor_texto[t]),t}))}),500):"campo_integracao"===t&&Object.keys(e.registros.campo_integracao).map((function(t,o){return a.aba_personalizado.find("[id_elemento="+t+"]").find(".dx-dropdownbox").dxDropDownBox("instance").option("value",e.registros.campo_integracao[t]),t}))})),Y()(t.formularioRef.current).html(a.form_editor[0])})))}))}}]),a}(p.a.Component),Ve=a(669);var Ge=!1,He=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o,r,c,l,d,u,f;return Object(i.a)(this,a),(f=t.call(this,e)).state=Object(n.a)(Object(n.a)({mensagem:"undefined"!==typeof f.props.mensagem?f.props.mensagem:null,mensagemEdicao:"undefined"!==typeof f.props.mensagem?f.props.mensagem.mensagem:null,anexos:[]},f.propsToObjState()),{},{nova:"undefined"!==typeof f.props.nova&&f.props.nova,editavel:"undefined"!==typeof f.props.editavel&&f.props.editavel,exibirBotaoDownloadAnexos:null!==(o=f.props.exibirBotaoDownloadAnexos)&&void 0!==o&&o,situacao:null!==(r=f.props.situacao)&&void 0!==r?r:null,previsaoRetorno:null!==(c=f.props.previsaoRetorno)&&void 0!==c?c:null,horasTrabalhadas:null!==(l=f.props.horasTrabalhadas)&&void 0!==l?l:null,notificarEnvolvidos:null===(d=f.props.notificarEnvolvidos)||void 0===d||d,mascaraHorasTrabalhadas:null!==(u=f.props.mascaraHorasTrabalhadas)&&void 0!==u?u:"000:00"}),f.escreverMensagem=f.escreverMensagem.bind(Object(s.a)(f)),f.observacaoInterna=f.observacaoInterna.bind(Object(s.a)(f)),f.reclassificar=f.reclassificar.bind(Object(s.a)(f)),f.encerrar=f.encerrar.bind(Object(s.a)(f)),f.avaliar=f.avaliar.bind(Object(s.a)(f)),f.reabertura=f.reabertura.bind(Object(s.a)(f)),f.confirmar=f.confirmar.bind(Object(s.a)(f)),f.cancelar=f.cancelar.bind(Object(s.a)(f)),f.solicitarRefresh=f.solicitarRefresh.bind(Object(s.a)(f)),f.aoEditarMensagem=f.aoEditarMensagem.bind(Object(s.a)(f)),f.aoAlterarTipoExibicaoDataEnvio=f.aoAlterarTipoExibicaoDataEnvio.bind(Object(s.a)(f)),f.aoAlterarSituacao=f.aoAlterarSituacao.bind(Object(s.a)(f)),f.aoAlterarPrevisaoRetorno=f.aoAlterarPrevisaoRetorno.bind(Object(s.a)(f)),f.aoAlterarHorasTrabalhadas=f.aoAlterarHorasTrabalhadas.bind(Object(s.a)(f)),f.aoAlterarNotificarEnvolvidos=f.aoAlterarNotificarEnvolvidos.bind(Object(s.a)(f)),f.aoAlterarNotaAvaliacao=f.aoAlterarNotaAvaliacao.bind(Object(s.a)(f)),f.downloadTodosAnexos=f.downloadTodosAnexos.bind(Object(s.a)(f)),f.btnFusaoChamadosClick=f.btnFusaoChamadosClick.bind(Object(s.a)(f)),f.btnEncerrarInatividadeClick=f.btnEncerrarInatividadeClick.bind(Object(s.a)(f)),f.btnExcluirClick=f.btnExcluirClick.bind(Object(s.a)(f)),f.btnAnexarArquivoClick=f.btnAnexarArquivoClick.bind(Object(s.a)(f)),f.btnRemoverAnexo=f.btnRemoverAnexo.bind(Object(s.a)(f)),f.formularioAvaliacao={},f.formularioAbertura=p.a.createRef(),f.formularioAberturaMain={},f.emmitAoAlterarBotaoPressionado(),f}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,i=("undefined"===typeof this.state||"undefined"===typeof this.state.botaoPressionado)&&null!==(e=this.props.botaoPressionado)&&void 0!==e?e:null;i=this.state&&this.state.botaoPressionado?this.state.botaoPressionado:i;var r=!(!this.state||!this.state.editavel)&&this.state.editavel,s={};if(this.props.detalhes){var c=h.a.get_parametro_usuario("chamado_rascunho_"+this.props.detalhes.id);c&&("undefined"!==typeof c.mensagemEdicao&&(s.mensagemEdicao=c.mensagemEdicao),"undefined"!==typeof c.botaoPressionado&&"avaliar"!==i&&(s.botaoPressionado=this.props.detalhes&&this.props.detalhes.rascunho?"abertura":c.botaoPressionado),"undefined"!==typeof c.anexos&&(s.anexos=c.anexos||[]))}return Object(n.a)({detalhes:null!==(t=this.props.detalhes)&&void 0!==t?t:null,botaoPressionado:this.props.detalhes&&this.props.detalhes.rascunho?"abertura":i,editavel:!(!this.props.detalhes||!this.props.detalhes.rascunho)||r,dataEnvioExtenso:null!==(a=this.props.dataEnvioExtenso)&&void 0!==a&&a,chamadoMotivoId:this.props.detalhes?this.props.detalhes.chamado_motivo_id:null,notaAvaliacaoId:this.props.detalhes?null!==(o=this.props.detalhes.nota_avaliacao_id)&&void 0!==o?o:this.props.detalhes.avaliacao_padrao_id:null},s)}},{key:"componentDidUpdate",value:function(e,t){e.detalhes===this.props.detalhes&&e.dataEnvioExtenso===this.props.dataEnvioExtenso||(h.a.set_parametro_usuario("chamado_rascunho_"+this.state.detalhes.id,{mensagemEdicao:this.state.mensagemEdicao,botaoPressionado:this.state.botaoPressionado,anexos:this.state.anexos}),this.setState(this.propsToObjState()))}},{key:"componentWillUnmount",value:function(){this.state.nova&&h.a.set_parametro_usuario("chamado_rascunho_"+this.state.detalhes.id,{mensagemEdicao:this.state.mensagemEdicao,botaoPressionado:this.state.botaoPressionado,anexos:this.state.anexos})}},{key:"emmitAoAlterarBotaoPressionado",value:function(){"function"===typeof this.props.aoAlterarBotaoPressionado&&this.props.aoAlterarBotaoPressionado(this.state.botaoPressionado)}},{key:"handleTipoMensagem",value:function(e){this.context.handleSetBotaoPressionado(e),this.setState({botaoPressionado:e,editavel:!0}),this.emmitAoAlterarBotaoPressionado()}},{key:"escreverMensagem",value:function(){this.handleTipoMensagem("escreverMensagem")}},{key:"observacaoInterna",value:function(){this.handleTipoMensagem("observacaoInterna")}},{key:"reclassificar",value:function(){this.handleTipoMensagem("reclassificar")}},{key:"reabertura",value:function(){this.handleTipoMensagem("reabertura")}},{key:"encerrar",value:function(){this.handleTipoMensagem("encerrar")}},{key:"avaliar",value:function(){this.handleTipoMensagem("avaliar")}},{key:"confirmar",value:function(){var e,t=this;if(!Ge){Ge=!0;var a=function(e){Ge=!1,window.alert_saved("Mensagem salva com sucesso"),h.a.set_parametro_usuario("chamado_rascunho_"+t.state.detalhes.id,{mensagemEdicao:null,botaoPressionado:null,anexos:[]}),t.context.handleSetBotaoPressionado(null),t.context.handleSetReclassificacaoMemoria({}),t.setState({mensagemEdicao:null,botaoPressionado:null,editavel:!1,processando:!1,anexos:[]},(function(){t.props.aoSalvar&&t.props.aoSalvar(e)}))},o=function(e){Ge=!1,window.alert_fail("Falhou, tente novamente."),console.log(e),t.setState({editavel:!0,processando:!1})},i=null;i=this.state.horasTrabalhadas&&this.state.horasTrabalhadas.trim().replace(":","").length>0?this.state.horasTrabalhadas:this.state.mascaraHorasTrabalhadas;var r={chamado_id:this.state.detalhes.id,mensagem:this.state.mensagemEdicao,situacao:this.state.situacao?this.state.situacao:this.state.detalhes.situacao,data_previsao_retorno:this.state.previsaoRetorno?window.formatDateTime(this.state.previsaoRetorno,!0):null,documentos:this.state.anexos.map((function(e){return e.file})),enviar_documento:this.state.anexos.map((function(e){return e.email.toString()})).join(","),horas_trabalhadas:i,notificacao_mensagem_reclassificacao:this.state.notificarEnvolvidos,nota_avaliacao_id:null!==(e=this.state.notaAvaliacaoId)&&void 0!==e?e:null,rascunho:!1,tipo:null,assunto:this.context.assuntoChamadoAtual};if(+this.state.detalhes.apontamento_projeto_id>0&&"encerrar"===this.state.botaoPressionado&&1===+this.state.detalhes.status_apontamento){this.context.handlePausarApontamento(this.state.detalhes,(function(){f.a.post("chamado/encerrar_chamado",r,a,null,null,!0,null,null,null,o)}))}else if(r.horas_trabalhadas.trim().replace(" ","").replace(":","").length!==this.state.mascaraHorasTrabalhadas.replace(":","").length)Object(b.alert)("Formato inv\xe1lido para Horas Trabalhadas","Valida\xe7\xe3o");else{var s="mensagem/salvar";if("observacaoInterna"===this.state.botaoPressionado)s="mensagem/salvar_observacao_interna";else if(["encerrar","avaliar"].includes(this.state.botaoPressionado)&&"S"===this.state.detalhes.exibir_avaliacao&&+this.state.detalhes.solicitante_id===+h.a.sessao.usuario_id){if(this.formularioAvaliacao.campos_personalizados&&(!this.validar_campos_obrigatorios()||!this.validar_data_form()))return!1;s="chamado/salvar_avaliacao",r=Object(n.a)(Object(n.a)({},r),{},{campos_personalizados:JSON.stringify(this.formularioAvaliacao.campos_personalizados)}),this.formularioAvaliacao.campos_personalizados&&Y()(this.formularioAvaliacao.campos_personalizados.grupos).each((function(e,t){Y()(t.elementos).each((function(e,t){+t.tipo===window.ELEMENTO_TIPO.ANEXO&&t.anexo?r[t.elem_key]=t.anexo:+t.tipo===window.ELEMENTO_TIPO.TABELA&&t.valor&&Y()(t).each((function(e,t){t.valor&&Y()(t.valor).each((function(e,t){r[t.elem_key+"_linha_"+t.linha]=t.anexo}))}))}))}))}else if("encerrar"===this.state.botaoPressionado)s="chamado/encerrar_chamado";else if("reabertura"===this.state.botaoPressionado)s="chamado/reabrir_chamado";else if("abertura"===this.state.botaoPressionado){if(!this.formularioAbertura.current.validar())return Ge=!1,!1;s="mensagem/salvar",r=Object(n.a)(Object(n.a)(Object(n.a)({},r),this.formularioAbertura.current.getPostParams()),{},{tipo:window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_ABERTURA})}else if("reclassificar"===this.state.botaoPressionado){var c;s="chamado/salvar",r=Object(n.a)(Object(n.a)({},r),null!==(c=this.context.reclassificacaoMemoria)&&void 0!==c?c:{})}f.a.post(s,r,a,null,null,!0,null,null,null,o)}}}},{key:"cancelar",value:function(){var e=this;if(this.state.detalhes.rascunho){var t=function(t){window.alert_saved("Rascunho cancelado."),m.a.unload(e.props.viewHtmlId)},a=function(t){window.alert_fail("Falhou, tente novamente."),console.log(t),e.setState({editavel:!0,processando:!1})};window.alertaPopUp("Cancelar","Deseja cancelar? Este <b>rascunho</b> de chamado ser\xe1 <b>exclu\xeddo</b> permanentemente.","Sim, excluir este rascunho",(function(){f.a.post({route:"chamado/excluir",data:{chamado_id:e.state.detalhes.id},func_response:t,func_fail:a})}),"N\xe3o, voltar para edi\xe7\xe3o",(function(){}),null,"200px")}else this.context.handleSetBotaoPressionado(null),this.context.handleSetNovoAssuntoChamado(this.context.assuntoChamadoAnterior),this.setState({botaoPressionado:null,editavel:!1,anexos:[]}),this.solicitarRefresh();h.a.set_parametro_usuario("chamado_rascunho_"+this.state.detalhes.id,{mensagemEdicao:null,botaoPressionado:null,anexos:[]}),this.emmitAoAlterarBotaoPressionado()}},{key:"solicitarRefresh",value:function(e){this.props.aoSolicitarRefresh&&this.props.aoSolicitarRefresh(e)}},{key:"aoEditarMensagem",value:function(e){this.setState({mensagemEdicao:e})}},{key:"aoAlterarSituacao",value:function(e){this.setState({situacao:e})}},{key:"aoAlterarPrevisaoRetorno",value:function(e){this.setState({previsaoRetorno:e.value})}},{key:"aoAlterarHorasTrabalhadas",value:function(e){this.setState({horasTrabalhadas:e.value})}},{key:"aoAlterarNotificarEnvolvidos",value:function(e){this.setState({notificarEnvolvidos:e.value})}},{key:"aoAlterarNotaAvaliacao",value:function(e){this.setState({notaAvaliacaoId:e})}},{key:"form_get_elemento_by_id",value:function(e){var t={};return Y()(this.formularioAvaliacao.campos_personalizados.grupos).each((function(a,o){Array.isArray(o.elementos)&&Y()(o.elementos).each((function(a,o){o.id_elemento===e&&(t=o)}))})),t=window.spread({nome:""},t)}},{key:"validar_data_form",value:function(){var e=new Date,t=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),o=e.getFullYear()+"-"+a+"-"+t,n="";return this.formularioAvaliacao.form_editor.find('[type="date"]').each((function(e,t){var a=Y()(t);"undefined"==typeof(a.attr("disabled")||a.attr("readonly"))&&"none"!==Y()(t).css("display")&&""!==t.value&&null!=t.value&&("S"===a.attr("data_retroativa")&&(window.get_datepicker(a)<o?(a.tooltip({title:"Data Inv\xe1lida",placement:"auto"}),a.tooltip("show"),n+=this.form_get_elemento_by_id(Y()(t).attr("id_elemento")).nome+"<br />"):a.tooltip("destroy")),"S"===a.attr("data_retroativa_igual")&&(window.get_datepicker(a)<=o?(a.tooltip({title:"Data Inv\xe1lida",placement:"auto"}),a.tooltip("show"),n+=this.form_get_elemento_by_id(Y()(t).attr("id_elemento")).nome+"<br />"):a.tooltip("destroy")))})),""===n||(window.alert_modal('<i class="fa fa-exclamation-triangle pull-left" aria-hidden="true"></i> Data Inv\xe1lida !'," Data informada fora do per\xedodo v\xe1lido, informe corretamente para os campos abaixo: <br /><br /> "+n),!1)}},{key:"validar_campos_obrigatorios",value:function(){var e=this,t="";return this.formularioAvaliacao.form_editor.find("[required]").not(".selectpicker").each((function(a,o){var n=Y()(o);"text"===n.attr("type")&&"undefined"==typeof n.attr("maskmoney")?"undefined"==typeof n.attr("readonly")&&"none"!==Y()(o).css("display")||Y()(o).hasClass("input_consulta_integracao")?"undefined"!==typeof n.attr("maskmoney")?""!==o.value.trim()&&0!==n.maskMoney("unmasked")[0]||(t+=e.form_get_elemento_by_id(Y()(o).attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(n)):""===o.value.trim()&&(t+=e.form_get_elemento_by_id(Y()(o).attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(n)):n.tooltip("destroy"):"undefined"==typeof n.attr("disabled")&&"none"!==Y()(o).css("display")?"undefined"!==typeof n.attr("maskmoney")||"date"===n.attr("type")&&"undefined"==typeof n.attr("disabled")&&"undefined"==typeof n.attr("readonly")?""===o.value.trim()&&(t+=e.form_get_elemento_by_id(Y()(o).attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(n)):""===o.value.trim()&&"date"!==n.attr("type")&&(t+=e.form_get_elemento_by_id(Y()(o).attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(n)):n.tooltip("destroy")})),this.formularioAvaliacao.form_editor.find(".vld_lista_check").each((function(a,o){var n=Y()(o);if(!n[0].children[0].disabled&&"none"!==n[0].children[0].style.display){var i=n.find("input:checked"),r=n.parent().find(".lbl_nome");i&&0!==i.length?r.tooltip("destroy"):(t+=e.form_get_elemento_by_id(Y()(o).find("input:first").attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(r))}})),this.formularioAvaliacao.form_editor.find(".vld_lista_radio").each((function(a,o){var n=Y()(o);if(!n[0].children[0].disabled&&"none"!==n[0].children[0].style.display){var i=n.find("input:checked"),r=n.parent().find(".lbl_nome");i&&0!==i.length?r.tooltip("destroy"):(t+=e.form_get_elemento_by_id(Y()(o).find("input:first").attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(r))}})),this.formularioAvaliacao.form_editor.find("select.selectpicker[required]").each((function(a,o){var n=Y()(o);if(!n[0].disabled&&"none"!==n[0].style.display){var i=n.val(),r=n.closest(".div_campo").find(".lbl_nome");i&&0!==i.length?r.tooltip("destroy"):(t+=e.form_get_elemento_by_id(Y()(o).attr("id_elemento")).nome+"<br />",e.alerta_campo_obrigatorio(r))}})),""===t||(window.alert_modal('<i class="fa fa-exclamation-triangle pull-left" aria-hidden="true"></i> Campos Obrigat\xf3rios !'," Por gentileza, preencha os campos abaixo: <br /><br /> "+t),!1)}},{key:"alerta_campo_obrigatorio",value:function(e,t){e.tooltip({title:"Campo obrigatorio",placement:"undefined"!=typeof t?t:"auto"}),e.tooltip("show")}},{key:"renderGridAnexos",value:function(){return!(!this.state.anexos||0===this.state.anexos.length)&&Object(o.jsxs)(k.default,{dataSource:this.state.anexos,filterPanel:{visible:!1},filterRow:{visible:!1},headerFilter:{visible:!1},groupPanel:{visible:!1},export:{enabled:!1},allowColumnReordering:!1,columnChooser:{enabled:!1},editing:{mode:"cell",allowUpdating:!0},keyExpr:"id",showBorders:!1,showColumnLines:!1,columnFixing:{enable:!1},rowAlternationEnabled:!1,children:[Object(o.jsx)(X.Column,{dataField:"arquivo",allowEditing:!1}),Object(o.jsx)(X.Column,{dataField:"tamanho",allowEditing:!1,width:100}),Object(o.jsx)(X.Column,{dataField:"email",width:100}),Object(o.jsx)(X.Column,{type:"buttons",width:50,alignment:"right",children:Object(o.jsx)(X.Button,{hint:"Remover anexo",icon:"fa fa-times",onClick:this.btnRemoverAnexo})})]})}},{key:"btnRemoverAnexo",value:function(e){var t=this.state.anexos,a=[];t.forEach((function(t){e.row.data.file!==t.file&&a.push(t)})),this.setState({anexos:a})}},{key:"downloadTodosAnexos",value:function(){var e=this;h.a.obter_token_publico((function(t){h.a.download(window.WS_URI+"chamado/download/?chamado_id="+e.state.detalhes.id+"&token_publico="+t)}))}},{key:"btnFusaoChamadosClick",value:function(){var e=this;m.a.load("chamado/fusao_chamados",(function(t,a){a.onclose=function(){e.props.aoSalvar&&e.props.aoSalvar()},a.show(e.state.detalhes.id)}))}},{key:"btnEncerrarInatividadeClick",value:function(){var e=this;m.a.load("chamado/encerramento_chamado_inatividade",(function(t,a){a.onclose=function(){e.props.aoSalvar&&e.props.aoSalvar()},a.show(e.state.detalhes.id)}))}},{key:"btnExcluirClick",value:function(){var e=this;m.a.load("chamado/excluir_chamado",(function(t,a){a.onclose=function(){m.a.unload(e.props.viewHtmlId)},a.show(e.state.detalhes.id)}))}},{key:"btnAnexarArquivoClick",value:function(){var e=this,t=document.createElement("input");t.type="file",t.multiple="multiple",t.onchange=function(t){var a=Array.from(t.target.files),o=[];a.forEach((function(e){o.push({arquivo:e.name,tamanho:window.filesize(e.size),email:!1,mimeType:e.type,file:e,id:window.elem_key_random()})})),e.setState({anexos:[].concat(Object(ge.a)(e.state.anexos),o)})},t.click()}},{key:"aoAlterarTipoExibicaoDataEnvio",value:function(e){this.props.aoAlterarTipoExibicaoDataEnvio&&this.props.aoAlterarTipoExibicaoDataEnvio(e)}},{key:"render",value:function(){var e,t=this;if(!("undefined"!==typeof this.props.mensagem?this.props.mensagem.tipo:null)){var a=[window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE].includes(+this.props.chamadoSituacao),n=!1;if("S"===this.state.detalhes.somente_admin_encerra&&h.a.sessao.dados.admin)n=!0;else if("S"===this.state.detalhes.somente_solicitante_encerra){if(h.a.sessao.usuario_id===+this.state.detalhes.solicitante_id||h.a.sessao.dados.admin)n=!0;else if(h.a.sessao.dados.usuarios_substituidos.length>0){h.a.sessao.dados.usuarios_substituidos.filter((function(e){return"S"===e.substituir_modulo_chamados&&+e.usuario_substituido_id===+t.state.detalhes.solicitante_id})).length>0&&(n=!0)}}else"N"===this.state.detalhes.somente_admin_encerra&&"N"===this.state.detalhes.somente_solicitante_encerra&&(n=!0);if("encerrar"===this.state.botaoPressionado){var i=window.nl2br(this.state.detalhes.mensagem_padrao);"S"===this.state.detalhes.sugerir_mensagem_padrao_colaboradores&&+h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA&&(i=null),i&&!this.state.mensagemEdicao&&this.state.mensagemEdicao!==i&&this.setState({mensagemEdicao:i})}var r=[];if(h.a.PE.CardMensagemChamadoTopoBotoesAdicionais)try{var s=h.a.PE.CardMensagemChamadoTopoBotoesAdicionais(this.props.viewHtmlId,this.state,this.solicitarRefresh);Array.isArray(s)&&s.forEach((function(e){r.push(Object(o.jsx)(fe.Item,{text:e.titulo,type:"default",onClick:e.click,visible:!0},window.random_hash()))}))}catch(O){console.log(O)}return r.push(Object(o.jsx)(fe.Item,{acao:"escreverMensagem",icon:"fas fa-comment",text:"Escrever Mensagem",type:"escreverMensagem"===this.state.botaoPressionado?"default":"normal",onClick:this.escreverMensagem,visible:!a,elementAttr:{class:"btn_escrever_mensagem"}},"escreverMensagem"),Object(o.jsx)(fe.Item,{acao:"observacaoInterna",icon:"fas fa-sticky-note",text:"Observa\xe7\xe3o Interna",type:"observacaoInterna"===this.state.botaoPressionado?"default":"normal",onClick:this.observacaoInterna,visible:h.a.sessao.dados.tipo===window.USUARIO_TIPO.ANALISTA,elementAttr:{class:"btn_observacao_interna"}},"observacaoInterna"),Object(o.jsx)(fe.Item,{acao:"reclassificar",icon:"fas fa-tag",text:"Reclassificar",type:"reclassificar"===this.state.botaoPressionado?"default":"normal",onClick:this.reclassificar,visible:!a&&h.a.sessao.dados.tipo===window.USUARIO_TIPO.ANALISTA&&h.a.verifica_permissao(h.a.temp.empresa,"reclassificar_chamado"),elementAttr:{class:"btn_reclassificar"}},"reclassificar"),Object(o.jsx)(fe.Item,{acao:"encerrar",icon:"fas fa-check",text:"Encerrar",type:"encerrar"===this.state.botaoPressionado?"default":"normal",onClick:this.encerrar,visible:!a&&n,elementAttr:{class:"btn_encerrar"}},"encerrar"),Object(o.jsx)(fe.Item,{acao:"avaliar",icon:"fas fa-star-half-alt",text:"Avaliar",type:"avaliar"===this.state.botaoPressionado?"success":"normal",onClick:this.avaliar,visible:a&&"S"===this.state.detalhes.exibir_avaliacao&&0===+this.state.detalhes.nota_avaliacao_id&&0===+this.state.detalhes.formulario_chamado_avaliacao_id&&+h.a.sessao.dados.usuario_id===+this.state.detalhes.solicitante_id,elementAttr:{class:"btn_avaliar"}},"avaliar"),Object(o.jsx)(fe.Item,{acao:"reabertura",icon:"far fa-thumbs-down",text:"Reabrir chamado",type:"reabertura"===this.state.botaoPressionado?"danger":"normal",onClick:this.reabertura,visible:a,elementAttr:{class:"btn_reabertura"}},"reabertura")),Object(o.jsx)(p.a.Fragment,{children:Object(o.jsx)("div",{className:"panel ",children:Object(o.jsx)("div",{className:"panel-body ",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12 text-left",children:[this.state.nova?Object(o.jsxs)(pe.a,{visible:this.state.detalhes&&!this.state.detalhes.rascunho,stylingMode:"text",ref:this.toolBarTopoRef,children:[Object(o.jsx)(ue.Item,{location:"before",children:Object(o.jsx)(fe.ButtonGroup,{selectionMode:"single",stylingMode:"text",selectedItemKeys:[this.state.botaoPressionado],keyExpr:"acao",children:r})}),Object(o.jsx)(ue.Item,{locateInMenu:"always",widget:"dxButton",visible:!a&&h.a.verifica_permissao(h.a.temp.empresa,"chamado_fusao"),children:Object(o.jsx)(Ee.Button,{onClick:this.btnFusaoChamadosClick,text:"Fundir outros chamados neste chamado",icon:"fas fa-object-group",stylingMode:"text"})}),Object(o.jsx)(ue.Item,{locateInMenu:"always",widget:"dxButton",visible:!a&&n,children:Object(o.jsx)(Ee.Button,{onClick:this.btnEncerrarInatividadeClick,text:"Encerrar por Inatividade",icon:"fa fa-clock",stylingMode:"text"})}),Object(o.jsx)(ue.Item,{locateInMenu:"always",widget:"dxButton",visible:h.a.sessao.dados.admin,children:Object(o.jsx)(Ee.Button,{onClick:this.btnExcluirClick,text:"Excluir",icon:"fa fa-trash-alt",stylingMode:"text"})}),Object(o.jsx)(ue.Item,{location:"after",children:Object(o.jsx)(Ee.Button,{onClick:this.downloadTodosAnexos,hint:"Download de todos os anexos",icon:"fa fa-download",stylingMode:"text",visible:this.state.exibirBotaoDownloadAnexos})})]},"toolbar"):null,this.state.botaoPressionado?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(de.b,{}),Object(o.jsxs)("div",{children:["avaliar"!==this.state.botaoPressionado?Object(o.jsx)(Ae,{detalhes:this.state.detalhes,editavel:!0,chamadoId:this.state.detalhes.id,aoEditar:this.aoEditarMensagem,mensagem:this.state.mensagemEdicao}):null,a||h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA||["observacaoInterna","reabertura"].includes(this.state.botaoPressionado)?null:Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsxs)("div",{className:"row",children:[["escreverMensagem"].includes(this.state.botaoPressionado)?Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)(se,{detalhes:this.state.detalhes,style:{padding:"0px"},novaMensagem:!0,aoAlterar:this.aoAlterarSituacao,botaoPressionado:this.context.botaoPressionado,configuracoesChamado:this.props.configuracoesChamado})}):null,["escreverMensagem"].includes(this.state.botaoPressionado)?Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)(V,{style:{padding:"0px"},novaMensagem:!0,detalhes:this.state.detalhes,aoAlterar:this.aoAlterarPrevisaoRetorno})}):null,["escreverMensagem","reclassificar","encerrar"].includes(this.state.botaoPressionado)?Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)(Fe,{style:{padding:"0px"},aoAlterar:this.aoAlterarHorasTrabalhadas,mascaraHorasTrabalhadas:this.state.mascaraHorasTrabalhadas})}):null]}),Object(o.jsx)(de.b,{})]}),this.renderGridAnexos(),Object(o.jsx)(de.b,{}),a&&"reabertura"===this.state.botaoPressionado?Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-md-12",children:["O chamado ser\xe1 reaberto, antes de prosseguir, verifique se o assunto do chamado est\xe1 relacionado com o motivo da reabertura do mesmo, caso contr\xe1rio realize a abertura de um novo chamado.",Object(o.jsx)(de.b,{})]})}):null,!["encerrar","avaliar"].includes(this.state.botaoPressionado)||"S"!==this.state.detalhes.exibir_avaliacao||+h.a.sessao.dados.usuario_id!==+this.state.detalhes.solicitante_id&&+h.a.sessao.dados.usuario_id!==+this.state.detalhes.usuario_abertura_id?null:Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:+this.state.detalhes.formulario_avaliacao_id>0?Object(o.jsx)(ze,{detalhes:this.state.detalhes,main:this.formularioAvaliacao}):Object(o.jsx)(Be,{style:{padding:"0px"},detalhes:this.state.detalhes,aoAlterar:this.aoAlterarNotaAvaliacao})})}),Object(o.jsx)(de.b,{})]}),["abertura"].includes(this.state.botaoPressionado)?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(Ve.default,{ref:this.formularioAbertura,main:this.formularioAberturaMain,urlGet:"formulario_chamado_abertura/get_formulario",urlGetParams:{chamado_id:this.state.detalhes.id,motivo_id:this.state.chamadoMotivoId}})})}),Object(o.jsx)(de.b,{})]}):null,Object(o.jsxs)(pe.a,{children:[Object(o.jsxs)(ue.Item,{location:"before",children:[Object(o.jsx)(Ee.Button,{onClick:this.confirmar,text:"Confirmar",icon:"fas fa-check",stylingMode:"contained",type:"encerrar"===this.state.botaoPressionado?"success":"default"}),Object(o.jsx)(Ee.Button,{onClick:this.btnAnexarArquivoClick,hint:"Anexar arquivo",icon:"fas fa-paperclip",stylingMode:"text",visible:"avaliar"!==this.state.botaoPressionado})]}),a||this.state.detalhes.rascunho||h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA&&!0!==h.a.sessao.dados.admin||["encerrar","reabertura"].includes(this.state.botaoPressionado)||"S"!==this.state.detalhes.notificacao_mensagem_reclassificacao_opcional?null:Object(o.jsx)(ue.Item,{location:"before",children:Object(o.jsx)(Ne.CheckBox,{text:"Notificar envolvidos",value:this.state.notificarEnvolvidos,onValueChanged:this.aoAlterarNotificarEnvolvidos})}),Object(o.jsx)(ue.Item,{location:"after",children:Object(o.jsx)(Ee.Button,{onClick:this.cancelar,text:"Cancelar",stylingMode:"text"})})]})]})]}):null]})})})})})}var c=null,l="",d=!1,u=0,f=0;this.state.nova?(c=h.a.sessao.dados.foto_id,l=h.a.sessao.dados.nome):"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.nome_usuario&&(c=this.state.mensagem.foto_id,l=this.state.mensagem.nome_usuario,d=this.state.mensagem.usuario_supervisionado,u=+this.state.mensagem.usuario_tipo,f=+this.state.mensagem.tipo);var m=Object(o.jsx)(be,{tamanho:"32",documentoId:c,imgAlternativa:"assets/img/imagem_usuario_padrao.svg"}),v=parseInt(h.a.sessao.dados.usuario_id,10)===parseInt(this.state.mensagem.usuario_id,10),b=v?"text-right pull-right":"text-left",_=h.a.verifica_permissao(h.a.temp.empresa,"edicao_horas_trabalhadas"),j=h.a.sessao.dados.admin||_&&(v||d);return Object(o.jsx)("div",{className:"panel",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12 text-left",style:{display:"inline-flex",wordBreak:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:[v?null:Object(o.jsxs)(p.a.Fragment,{children:[m,Object(o.jsx)(de.a,{})]}),Object(o.jsxs)("div",{style:{width:"100%"},children:[Object(o.jsxs)("div",{className:b,children:[Object(o.jsx)(Se,{nome:l}),Object(o.jsx)(Ie,{dataEnvio:"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.data_envio?this.state.mensagem.data_envio:null,aoAlterarTipoExibicao:this.aoAlterarTipoExibicaoDataEnvio,extenso:this.state.dataEnvioExtenso}),u===window.USUARIO_TIPO.ANALISTA&&[window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_NORMAL,window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_ENCERRAMENTO,window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_RECLASSIFICACAO].includes(f)?Object(o.jsx)("div",{children:Object(o.jsx)(ke,{chamadoId:this.props.chamadoId,mensagemId:this.props.chamadoMensagemId,permiteEdicao:j,horasTrabalhadas:"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.horas_trabalhadas?this.state.mensagem.horas_trabalhadas:null,mascaraHorasTrabalhadas:this.props.mascaraHorasTrabalhadas,aoSolicitarRefresh:null!==(e=this.props.aoSolicitarRefresh)&&void 0!==e?e:null})}):null]}),"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.tipo?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(Pe,{tipo:this.state.mensagem.tipo}),v&&parseInt(this.state.mensagem.tipo,10)===window.TIPO_MENSAGEM_CHAMADO.MENSAGEM_TIPO_NORMAL?null:Object(o.jsx)(de.b,{})]}):null,Object(o.jsx)(Ae,{editavel:this.state.editavel,chamadoId:this.state.detalhes?this.state.detalhes.id:null,mensagem:"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.mensagem?this.state.mensagem.mensagem:"Sem mensagem",tipo:"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.tipo?this.state.mensagem.tipo:null},"mensagem"),"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.observacoes?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(de.b,{}),Object(o.jsx)(De,{observacoes:this.state.mensagem.observacoes},"observacoes")]}):null,"undefined"!==typeof this.state.mensagem&&this.state.mensagem&&"undefined"!==typeof this.state.mensagem.documentos&&Array.isArray(this.state.mensagem.documentos)&&this.state.mensagem.documentos.length>0?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(de.b,{}),Object(o.jsx)(Me,{documentos:this.state.mensagem.documentos},"documentos")]}):null]}),v?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(de.a,{}),m]}):null]})})})})}}]),a}(p.a.Component);He.contextType=g;var qe=a(856);a(542),a(1069);var Ke=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state=o.propsToObjState(),o.formularioAbertura=p.a.createRef(),o.formularioAberturaMain={},o.confirmarClick=o.confirmarClick.bind(Object(s.a)(o)),o.cancelarClick=o.cancelarClick.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"propsToObjState",value:function(){var e,t,a;return{chamadoId:null!==(e=this.props.chamadoId)&&void 0!==e?e:null,chamadoMotivoId:null!==(t=this.props.chamadoMotivoId)&&void 0!==t?t:null,readOnly:null!==(a=this.props.readOnly)&&void 0!==a&&a}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.chamadoMotivoId===this.props.chamadoMotivoId||this.setState(this.propsToObjState())}},{key:"confirmarClick",value:function(){if(!this.formularioAbertura.current.validar())return!1;var e=Object(n.a)(Object(n.a)({chamado_id:this.state.chamadoId},this.formularioAbertura.current.getPostParams()),this.formularioAbertura.current.getAnexosParams());f.a.post({route:"formulario_chamado_abertura/salvar",data:e,func_response:function(e){window.alert_saved("Formul\xe1rio salvo com sucesso.")},func_fail:function(e){window.alert_fail("Falhou, tente novamente.")},data_files:!0})}},{key:"cancelarClick",value:function(){this.formularioAbertura.current.renderFormulario()}},{key:"render",value:function(){return Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(Ve.default,{ref:this.formularioAbertura,main:this.formularioAberturaMain,urlGet:"formulario_chamado_abertura/get_formulario",urlGetParams:{chamado_id:this.state.chamadoId,motivo_id:this.state.chamadoMotivoId},readOnly:this.state.readOnly}),Object(o.jsxs)(pe.a,{visible:!this.state.readOnly,children:[Object(o.jsx)(ue.Item,{location:"before",children:Object(o.jsx)(Ee.Button,{onClick:this.confirmarClick,text:"Salvar",icon:"fas fa-check",stylingMode:"contained",type:"default"})}),Object(o.jsx)(ue.Item,{location:"after",children:Object(o.jsx)(Ee.Button,{onClick:this.cancelarClick,text:"Cancelar",stylingMode:"text"})})]})]})}}]),a}(p.a.Component);var We=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o,n,r,c,l,d,u,p,f,m,v,b,_,j,O,g,w,x,y;return Object(i.a)(this,a),(y=t.call(this,e)).state={novo:!1,chamadoId:"undefined"!=typeof e.chamadoId?e.chamadoId:0,cartaoId:null!==(o=e.cartaoId)&&void 0!==o?o:null,projetoAtividadeId:null!==(n=e.projetoAtividadeId)&&void 0!==n?n:null,projetoId:null!==(r=e.projetoId)&&void 0!==r?r:null,oportunidadeId:null!==(c=e.oportunidadeId)&&void 0!==c?c:null,solicitacaoAtividadeId:null!==(l=e.solicitacaoAtividadeId)&&void 0!==l?l:null,solicitacaoId:null!==(d=e.solicitacaoId)&&void 0!==d?d:null,pdcaId:null!==(u=e.pdcaId)&&void 0!==u?u:null,pdcaAtividadeId:null!==(p=e.pdcaAtividadeId)&&void 0!==p?p:null,assunto:null!==(f=e.assunto)&&void 0!==f?f:null,emails:null!==(m=e.emails)&&void 0!==m?m:null,entidadeId:null!==(v=e.entidadeId)&&void 0!==v?v:null,entidadeTipo:null!==(b=e.entidadeTipo)&&void 0!==b?b:null,situacao:null,entidadeNome:null,detalhes:null,mensagens:null,referencias:null,botaoPressionado:"mensagens",botaoPressionadoReclassificacao:!1,botaoPressionadoAvaliar:null!==(_=e.botaoPressionadoAvaliar)&&void 0!==_&&_,carregandoMensagem:!1,exibirBotaoDownloadAnexos:!1,exibirMaisDetalhes:null!==(j=e.exibirMaisDetalhes)&&void 0!==j?j:function(){var e=h.a.get_parametro_usuario("chamado_detalhes");return!(!e||"undefined"===typeof e.exibirMaisDetalhes||""===e.exibirMaisDetalhes)&&e.exibirMaisDetalhes}(),colaboradorPodeAlterarSolicitante:!1,dataEnvioExtenso:null!==(O=e.dataEnvioExtenso)&&void 0!==O?O:function(){var e=h.a.get_parametro_usuario("chamado_detalhes");return!(!e||"undefined"===typeof e.dataEnvioExtenso||""===e.dataEnvioExtenso)&&e.dataEnvioExtenso}(),referenciaTabela:null!==(g=e.referenciaTabela)&&void 0!==g?g:null,referenciaId:null!==(w=e.referenciaId)&&void 0!==w?w:null,mascaraHorasTrabalhadas:null!==(x=e.mascaraHorasTrabalhadas)&&void 0!==x?x:"000:00"},y.getInstanceMaisDetalhes=y.getInstanceMaisDetalhes.bind(Object(s.a)(y)),y.getInstanceMensagens=y.getInstanceMensagens.bind(Object(s.a)(y)),y.obterDetalhes=y.obterDetalhes.bind(Object(s.a)(y)),y.aoSalvarMensagem=y.aoSalvarMensagem.bind(Object(s.a)(y)),y.aoAlterarBotaoPressionadoCardNovaMensagem=y.aoAlterarBotaoPressionadoCardNovaMensagem.bind(Object(s.a)(y)),y.btnToogleExibirMaisDetalhesClick=y.btnToogleExibirMaisDetalhesClick.bind(Object(s.a)(y)),y.aoAlterarTipoExibicaoDataEnvio=y.aoAlterarTipoExibicaoDataEnvio.bind(Object(s.a)(y)),y}return Object(r.a)(a,[{key:"getInstanceMaisDetalhes",value:function(e){if(e){var t=e.instance.element();t.css("height","calc(100vh - "+(t.closest("[div-view]").find(".cardTopo").height()+50)+"px)")}}},{key:"getInstanceMensagens",value:function(e){if(e){var t=e.instance.element();t.css("height","calc(100vh - "+(t.closest("[div-view]").find(".cardTopo").height()+50)+"px)")}}},{key:"componentDidMount",value:function(){var e=this;f.a.get("chamado/get_configuracoes/",null,(function(t){e.configuracoes_chamado=t,0===e.state.chamadoId?e.novo():e.obterDetalhes()}))}},{key:"componentWillUnmount",value:function(){this.props.onClose&&this.props.onClose()}},{key:"novo",value:function(){var e={rascunho:!0,usuario_solicitante_id:h.a.sessao.dados.usuario_id,situacao:window.CHAMADO_SITUACAO.AGUARDANDO_ATENDIMENTO};if(this.state.cartaoId&&(e=Object(n.a)(Object(n.a)({},e),{},{tarefa_quadro_lista_cartao_id:this.state.cartaoId})),this.state.projetoAtividadeId&&(e=Object(n.a)(Object(n.a)({},e),{},{projeto_atividade_id:this.state.projetoAtividadeId})),this.state.projetoId&&(e=Object(n.a)(Object(n.a)({},e),{},{projeto_id:this.state.projetoId})),this.state.assunto&&(e=Object(n.a)(Object(n.a)({},e),{},{assunto:this.state.assunto})),this.state.oportunidadeId&&(e=Object(n.a)(Object(n.a)({},e),{},{oportunidade_id:this.state.oportunidadeId})),this.state.solicitacaoAtividadeId&&(e=Object(n.a)(Object(n.a)({},e),{},{solicitacao_atividade_id:this.state.solicitacaoAtividadeId})),this.state.solicitacaoId&&(e=Object(n.a)(Object(n.a)({},e),{},{solicitacao_id:this.state.solicitacaoId})),this.state.pdcaId&&(e=Object(n.a)(Object(n.a)({},e),{},{pdca_id:this.state.pdcaId})),this.state.pdcaAtividadeId&&(e=Object(n.a)(Object(n.a)({},e),{},{pdca_atividade_id:this.state.pdcaAtividadeId})),this.state.emails&&"S"===h.a.sessao.dados.parametro_chamado.sugerir_email&&(e=Object(n.a)(Object(n.a)({},e),{},{emails_adicionais:this.state.emails})),"S"===h.a.sessao.dados.parametro_chamado.sugerir_entidade_usuario_logado&&!this.state.oportunidadeId&&!this.state.solicitacaoAtividadeId&&!this.state.solicitacaoId)switch(+h.a.sessao.dados.tipo){case window.USUARIO_TIPO.CLIENTE:e=Object(n.a)(Object(n.a)({},e),{},{entidade_tipo:window.TIPO_ENTIDADE.CLIENTE,entidade_id:h.a.sessao.dados.cliente_id});break;case window.USUARIO_TIPO.ANALISTA:e=Object(n.a)(Object(n.a)({},e),{},{entidade_tipo:window.TIPO_ENTIDADE.EMPRESA,entidade_id:h.a.temp.empresa});break;case window.USUARIO_TIPO.FORNECEDOR:e=Object(n.a)(Object(n.a)({},e),{},{entidade_tipo:window.TIPO_ENTIDADE.FORNECEDOR,entidade_id:h.a.sessao.dados.fornecedor.fornecedor_id});break;case window.USUARIO_TIPO.PROSPECT:e=Object(n.a)(Object(n.a)({},e),{},{entidade_tipo:window.TIPO_ENTIDADE.ORGANIZACAO,entidade_id:h.a.sessao.dados.organizacao.organizacao_id})}this.state.entidadeId&&(e=Object(n.a)(Object(n.a)({},e),{},{entidade_id:this.state.entidadeId})),this.state.entidadeTipo&&(e=Object(n.a)(Object(n.a)({},e),{},{entidade_tipo:this.state.entidadeTipo})),this.state.referenciaTabela&&(e=Object(n.a)(Object(n.a)({},e),{},{referencia_tabela:this.state.referenciaTabela})),this.state.referenciaId&&(e=Object(n.a)(Object(n.a)({},e),{},{referencia_id:this.state.referenciaId})),Object(v.f)(e,this.obterDetalhes),this.setState({novo:!0,exibirMaisDetalhes:!0})}},{key:"verificaDocumentosEmMensagens",value:function(e){var t=!1;return e&&e.every((function(e){return!(e.documentos.length>0)||(t=!0,!1)})),t}},{key:"setStateResponse",value:function(e,t){e&&e.chamado&&(h.a.titulo_aba(this.props.html_id,"Chamado #"+e.chamado.id),this.setState(Object(n.a)({detalhes:e.chamado,chamadoId:e.chamado.id,entidadeId:e.chamado.entidade_id,entidadeNome:e.chamado.entidade_nome,assunto:e.chamado.assunto,situacao:e.chamado.situacao,mensagens:e.mensagens,carregandoMensagem:!1,exibirBotaoDownloadAnexos:this.verificaDocumentosEmMensagens(e.mensagens),exibirMaisDetalhes:this.state.exibirMaisDetalhes||e.chamado.rascunho,mascaraHorasTrabalhadas:e.configuracoes.mascara_horas_trabalhadas,colaboradorPodeAlterarSolicitante:"S"===e.chamado.chamado_motivo_altera_solicitante},t)))}},{key:"obterDetalhes",value:function(e,t){var a=this;if(e&&e.chamado&&!1===e.chamado.tem_permissao)window.alertaPopUp("Salvo com sucesso","As altera\xe7\xe3o foram salvas com sucesso. Por\xe9m, voc\xea n\xe3o possui mais permiss\xe3o no chamado.","Ok",(function(){})),Y()('[id="'+this.props.html_id+'"]').css({pointerEvents:"none",opacity:.5});else if(e&&e.chamado)this.setStateResponse(e,t);else{if(!this.state.chamadoId)return;this.setState({carregandoMensagem:!0},(function(){if(h.a.PE.Chamado_Detalhes_listar_mensagens_antes)try{h.a.PE.Chamado_Detalhes_listar_mensagens_antes(a.props.html_id,a.state,a.obterDetalhes)}catch(e){console.log(e)}f.a.get({route:"chamado/listar_detalhes_chamado/",data:{chamado_id:a.state.chamadoId},func_response:function(o){if(a.setStateResponse(o,t),h.a.PE.Chamado_Detalhes_listar_mensagens_depois)try{h.a.PE.Chamado_Detalhes_listar_mensagens_depois(a.props.html_id,a.state,a.obterDetalhes)}catch(e){console.log(e)}},func_fail:function(){a.setState({detalhes:null,carregandoMensagem:!1},(function(){m.a.unload(a.props.html_id)}))}})}))}}},{key:"aoSalvarMensagem",value:function(e){var t={botaoPressionadoReclassificacao:!1,botaoPressionadoAvaliar:!1};this.obterDetalhes(e,t),this.state.novo&&this.setState(Object(n.a)({novo:!1},t))}},{key:"aoAlterarBotaoPressionadoCardNovaMensagem",value:function(e){this.setState({botaoPressionadoReclassificacao:"reclassificar"===e})}},{key:"renderReferencias",value:function(){return Object(o.jsx)(qe.default,{tabela:"chamado",id:this.state.chamadoId,html_id:this.props.html_id})}},{key:"renderFormularioAvaliacao",value:function(){return Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)("div",{className:"panel",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsx)(ze,{detalhes:this.state.detalhes,readOnly:!0})})})})})}},{key:"renderFormularioAbertura",value:function(){return Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)("div",{className:"panel",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsx)(Ke,{chamadoId:this.state.detalhes.id,chamadoMotivoId:this.state.detalhes.chamado_motivo_id,readOnly:+h.a.sessao.dados.tipo!==window.USUARIO_TIPO.ANALISTA})})})})})}},{key:"renderMensagensLoading",value:function(){return Object(o.jsx)("div",{className:"panel",children:Object(o.jsx)("div",{className:"panel-body",children:Object(o.jsx)("div",{className:"",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12 text-left",children:[Object(o.jsx)("div",{className:"animationLoading",children:Object(o.jsxs)("div",{className:"animationLoadingTopo",children:[Object(o.jsx)("div",{className:"animationLoadingFoto"}),Object(o.jsx)(de.a,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"animationLoadingLineA"}),Object(o.jsx)(de.b,{}),Object(o.jsx)("div",{className:"animationLoadingLineB"}),Object(o.jsx)(de.b,{}),Object(o.jsx)("div",{className:"animationLoadingLineC"}),Object(o.jsx)(de.b,{}),Object(o.jsx)("div",{className:"animationLoadingLineD"}),Object(o.jsx)(de.b,{}),Object(o.jsx)("div",{className:"animationLoadingLineE"})]})]})}),Object(o.jsx)(de.b,{})]})})})})})}},{key:"renderMensagens",value:function(){var e=this;return"undefined"!=typeof this.state.mensagens&&Array.isArray(this.state.mensagens)?this.state.mensagens.map((function(t){return Object(o.jsx)(He,{editavel:!1,mensagem:t,aoSalvar:e.aoSalvarMensagem,chamadoId:e.state.chamadoId,chamadoMensagemId:t.id,aoAlterarTipoExibicaoDataEnvio:e.aoAlterarTipoExibicaoDataEnvio,dataEnvioExtenso:e.state.dataEnvioExtenso,notificarEnvolvidos:"S"===e.state.detalhes.valor_padrao_notificar_envolvolvidos,mascaraHorasTrabalhadas:e.state.mascaraHorasTrabalhadas,aoSolicitarRefresh:e.obterDetalhes,configuracoesChamado:e.configuracoes_chamado},t.id.toString())})):null}},{key:"btnToogleExibirMaisDetalhesClick",value:function(){var e=this,t=!this.state.exibirMaisDetalhes;return this.setState({exibirMaisDetalhes:t},(function(){h.a.set_parametro_usuario("chamado_detalhes",{exibirMaisDetalhes:e.state.exibirMaisDetalhes})})),t}},{key:"aoAlterarTipoExibicaoDataEnvio",value:function(e){this.setState({dataEnvioExtenso:e},(function(){h.a.set_parametro_usuario("chamado_detalhes",{dataEnvioExtenso:e})}))}},{key:"renderReclassificacao",value:function(){return this.state.detalhes?Object(o.jsx)(ce,{chamadoId:this.state.chamadoId,detalhes:this.state.detalhes,aoSolicitarRefresh:this.obterDetalhes,botaoPressionadoReclassificacao:this.state.botaoPressionadoReclassificacao,colaboradorPodeAlterarSolicitante:this.state.colaboradorPodeAlterarSolicitante,configuracoesChamado:this.configuracoes_chamado}):null}},{key:"render",value:function(){var e=this;if(!this.state.detalhes)return Object(o.jsx)("div",{children:"Carregando, aguarde..."});var t=this.state.botaoPressionadoReclassificacao||this.state.exibirMaisDetalhes,a=t?"col-md-3":"hidden",n=t?"col-md-9":"col-md-12";return Object(o.jsx)(w,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"row cardTopo",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(Oe,{viewHtmlId:this.props.html_id,chamadoId:this.state.chamadoId,detalhes:this.state.detalhes,mensagensCount:"undefined"!=typeof this.state.mensagens&&Array.isArray(this.state.mensagens)?this.state.mensagens.length:0,botaoPressionado:this.state.botaoPressionado,exibirMaisDetalhes:t,bloquearExibirMaisDetalhes:this.state.botaoPressionadoReclassificacao,btnToogleExibirMaisDetalhesClick:this.btnToogleExibirMaisDetalhesClick,btnMensagensClick:function(){return e.setState({botaoPressionado:"mensagens"})},btnFormularioAvaliacaoClick:function(){return e.setState({botaoPressionado:"avaliacao"})},btnFormularioAberturaClick:function(){return e.setState({botaoPressionado:"formularioAbertura"})},btnReferenciasClick:function(){return e.setState({botaoPressionado:"referencias"})},btnRecarregarClick:this.obterDetalhes,aoSolicitarRefresh:this.obterDetalhes},"cardTopo")})}),Object(o.jsxs)("div",{className:"row",children:[t?Object(o.jsx)("div",{className:a,children:Object(o.jsx)("div",{className:"text-content",children:this.renderReclassificacao()})}):null,Object(o.jsx)("div",{className:n,children:Object(o.jsx)("div",{className:"text-content",children:Object(o.jsxs)(p.a.Fragment,{children:["mensagens"===this.state.botaoPressionado?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("div",{className:"cardMensagem",children:Object(o.jsx)(He,{viewHtmlId:this.props.html_id,detalhes:this.state.detalhes,nova:!0,editavel:!0,aoSalvar:this.aoSalvarMensagem,chamadoId:this.state.chamadoId,chamadoSituacao:this.state.situacao,exibirBotaoDownloadAnexos:this.state.exibirBotaoDownloadAnexos,aoAlterarBotaoPressionado:this.aoAlterarBotaoPressionadoCardNovaMensagem,aoSolicitarRefresh:this.obterDetalhes,botaoPressionado:this.state.botaoPressionadoAvaliar?"avaliar":null,notificarEnvolvidos:"S"===this.state.detalhes.valor_padrao_notificar_envolvolvidos,mascaraHorasTrabalhadas:this.state.mascaraHorasTrabalhadas,configuracoesChamado:this.configuracoes_chamado},"cardMensagemEditavel")}),this.state.carregandoMensagem?this.renderMensagensLoading():null,this.renderMensagens()]}):null,"referencias"===this.state.botaoPressionado?this.renderReferencias():null,"avaliacao"===this.state.botaoPressionado?this.renderFormularioAvaliacao():null,"formularioAbertura"===this.state.botaoPressionado?this.renderFormularioAbertura():null]})})})]})]})})}}]),a}(p.a.Component);We.defaultProps={abaTitulo:"Chamado",cartaoId:null,viewCode:window.TELAS.NOVO_CHAMADO.codigo}},856:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ce}));var o=a(373),n=a(393),i=a(386),r=a(365),s=a(366),c=a(387),l=a(368),d=a(369),u=a(367),p=a(383),f=a.n(p),h=a(407),m=a(105),v=a(392),b=[{id:0,descricao:"Interno"},{id:1,descricao:"Externo"}],_=a(390),j=a(412),O=a(525),g=a(483),w=a.n(g),x=a(613),y=a.n(x),A=a(819),S=a.n(A),C=a(491),R=a(490),I=a.n(R),T=a(432),k=a(443);var P=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(i.a)(Object(i.a)({},o.state),o.propsToObjState()),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){var e,t;return{dataSource:Object(k.a)(window.CHAMADO_FILTRO.TODOS),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,dropDownContainer:null!==(t=this.props.dropDownContainer)&&void 0!==t?t:void 0}}},{key:"componentDidUpdate",value:function(e,t){e.chamadoId===this.props.chamadoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(T.default);P.defaultProps={placeholder:"Pesquisar Chamado",displayExpr:function(e){return e&&e.id+" "+e.assunto},visible:!0};var D=a(405),E=function(e){return[{dataField:"S"===e?"numero":"solicitacao_id",dataType:"number",caption:"#",width:100},{dataField:"processo_nome",caption:"Processo",minWidth:100},{dataField:"atividade_descricao",caption:"Atividade",minWidth:100},{dataField:"usuario_solicitacao_nome",caption:"Solicitante",cellTemplate:function(e,t){var a=t.data.usuario_solicitante_foto_id,o=a?window.WS_URI+"documento/midia/?&tamanho=20&documento_id="+a+"&token_midia="+m.a.sessao.token_midia:"assets/img/imagem_usuario_padrao.svg",n=t.data.usuario_solicitacao_nome;e.html('<div style="margin-top: 3px;"><img style="height: 20px; width: 20px" class="imagem_responsavel" src="'+o+'"><span style="margin-left: 5px;">'+n+"</span></div>")},width:100},{dataField:"usuario_responsavel_nome",dataType:"string",caption:"Respons\xe1vel",width:100},{dataField:"data",caption:"In\xedcio Atividade",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.data)return e.data.format_date_time()}},{dataField:"prazo_execucao",caption:"Prazo",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.prazo_execucao)return e.prazo_execucao.format_date_time()}},{dataField:"situacao",caption:"Situa\xe7\xe3o da Atividade",minWidth:120,lookup:{dataSource:[{id:"1",descricao:"Conclu\xedda"},{id:"5",descricao:"Retornada"},{id:"9",descricao:"Cancelada"},{id:"4",descricao:"N\xe3o entregue"},{id:"0",descricao:"Andamento"},{id:"3",descricao:"Atrasada"}],displayExpr:"descricao",valueExpr:"id"}}]},M=function(e){return{hint:"Visualizar Atividade",icon:"fa",cssClass:"icon_solicitacao",visible:function(e){return!0===m.a.sessao.dados.admin||!0===e.row.data.acesso_supervisor||!0===e.row.data.permissao_acesso},onClick:function(t){e&&e(),j.a.load("solicitacao/detalhes",(function(e,a){a.show(t.row.data.solicitacao_atividade_id,window.FORMULARIO.EDITAR)}),j.a.ABA.MULTIPLAS)}}},N=(M(),a(670)),F=function(e){return{hint:"Visualizar Cart\xe3o",icon:"fa fa-pencil-alt",onClick:function(t){e&&e(),j.a.load("tarefa/detalhes_cartao",(function(e,a){a.show(t.row.data.id)}),j.a.ABA.MULTIPLAS)}}},L=(F(),[{dataField:"nome",caption:"Cart\xe3o"},{dataField:"nome_lista",caption:"Lista"},{dataField:"nome_quadro",caption:"Quadro"},{dataField:"data_prazo",caption:"Prazo",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.data_prazo)return e.data_prazo.format_date_time()}},{dataField:"data_conclusao",caption:"Conclus\xe3o",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.data_conclusao)return e.data_conclusao.format_date_time()}}]),U=a(820),B=function(e){return{hint:"Detalhes do Documento",icon:"fa fa-pencil-alt",onClick:function(t){e&&e(),j.a.load("central_documentos/documento",(function(e,a){a.show(t.row.data.documento_id,window.FORMULARIO.EDITAR)}),j.a.ABA.MULTIPLAS)}}},z=(B(),[{dataField:"codigo",caption:"C\xf3digo",width:100},{dataField:"nome",caption:"Nome",minWidth:200},{dataField:"tag_documento",caption:"Tag",minWidth:100},{dataField:"assunto_descricao",caption:"Assunto",minWidth:100},{dataField:"tipo_documento_nome",caption:"Tipo",minWidth:100},{dataField:"versao",caption:"Vers\xe3o",minWidth:100},{dataField:"revisao_tamanho",caption:"Tamanho",minWidth:100,calculateCellValue:function(e){if(e.revisao_tamanho)return window.filesize(parseInt(e.revisao_tamanho,10)||0)}},{dataField:"revisao_data_envio",caption:"Modifica\xe7\xe3o",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.revisao_data_envio)return e.revisao_data_envio.format_date_time()}},{dataField:"data_vigencia",caption:"Vigente at\xe9",minWidth:100,dataType:"datetime",format:"dd/MM/yyyy HH:mm",calculateCellValue:function(e){if(e.data_vigencia)return e.data_vigencia.format_date_time()}}]),V=function(e){return{hint:"Visualizar Atividades PDCA",icon:"folder",onClick:function(t){var a={pdca_id:t.row.data.pdca_id,numero:t.row.data.pdca_numero,data_inicio:t.row.data.pdca_data_inicio,data_fim:t.row.data.pdca_data_fim,progresso:t.row.data.pdca_progresso,situacao:t.row.data.pdca_situacao,objetivo:t.row.data.pdca_objetivo};e&&e(),j.a.load("pdca/atividades",(function(e,t){t.show(a)}),j.a.ABA.SIM)}}},G=(V(),[{dataField:"pdca_numero",dataType:"number",caption:"#",width:100},{dataField:"pdca_objetivo",caption:"PDCA",calculateCellValue:function(e){var t=document.createElement("span");return t.innerHTML=e.pdca_objetivo,t.textContent||t.innerText}},{dataField:"que",caption:"Atividade - O Qu\xea?"}]),H=Object.freeze({concluida:1,cancelada:2,andamento:3,atrasada:4}),q=[{id:H.andamento,descricao:"Andamento"},{id:H.concluida,descricao:"Conclu\xedda"},{id:H.cancelada,descricao:"Cancelada"},{id:H.atrasada,descricao:"Atrasada"}],K=a(492),W=a(526),J=a(420);var Z=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return a}(_.Column);Z.defaultProps={dataField:"solicitacao_situacao",caption:"Situa\xe7\xe3o",width:100,cellRender:function(e){var t="label-default",a="n/a";switch(+e.value){case H.andamento:t="label-info",a="Andamento";break;case H.concluida:t="label-success",a="Conclu\xedda";break;case H.cancelada:t="label-danger",a="Cancelada";break;case H.atrasada:t="label-danger",a="Atrasada"}return Object(o.jsx)("span",{className:"label ".concat(t),children:a})},children:Object(o.jsx)(_.Lookup,{dataSource:q,displayExpr:"descricao",valueExpr:"id"})};var X=a(567),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"N";return[Object(o.jsx)(K.a,{dataField:"S"===e?"numero":"id"}),Object(o.jsx)(W.a,{dataField:"data_solicitacao",caption:"Data Solicita\xe7\xe3o"}),Object(o.jsx)(W.a,{dataField:"data_finalizacao",caption:"Data Finaliza\xe7\xe3o"}),Object(o.jsx)(J.a,{dataField:"descricao",caption:"Descri\xe7\xe3o"}),Object(o.jsx)(J.a,{dataField:"processo_nome",caption:"Processo"}),Object(o.jsx)(Z,{}),Object(o.jsx)(X.a,{dataField:"usuario_nome",dataFieldUsuarioId:"usuario_id",caption:"Solicitante"})]};var $=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(i.a)(Object(i.a)({},o.state),o.propsToObjState()),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){var e,t,a;return{dataSource:new D.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,o){v.a.get({route:"solicitacao/listar/",data:Object(i.a)({dx_grid:!0,id_solicitacao:a},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(i.a)(Object(i.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){v.a.get({route:"solicitacao/listar/",data:{solicitacao_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}}),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,children:Q(m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo),dropDownContainer:null!==(t=this.props.dropDownContainer)&&void 0!==t?t:void 0}}},{key:"componentDidUpdate",value:function(e,t){e.solicitacaoId===this.props.solicitacaoId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(T.default);$.defaultProps={placeholder:"Pesquisar Solicita\xe7\xe3o",displayExpr:function(e){return e&&("S"===m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?e.numero:e.id)+" "+e.processo_nome},visible:!0};var Y=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(i.a)(Object(i.a)({},o.state),o.propsToObjState()),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){var e,t,a;return{dataSource:(a=window.SOLICITACAO_FILTROS.TODAS,new D.default({paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[20,50,100],showInfo:!0},key:"solicitacao_atividade_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(e,o){v.a.get({route:"solicitacao/listar_todas/",data:Object(i.a)({dx_grid:!0,situacao:a},t),func_response:function(t){var a=window.createLoadExtra(t);e(Object(i.a)(Object(i.a)({},a),{},{data:t.data}))},func_fail:function(e){e.validation&&o(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))},byKey:function(e){return!!e&&new Promise((function(t,a){v.a.get({route:"solicitacao/listar_todas/",data:{dx_grid:!0,situacao:window.SOLICITACAO_FILTROS.TODAS,solicitacao_atividade_id:e},func_response:function(e){t(e.data)},func_fail:function(e){e.validation&&a(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,columns:E(m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo),dropDownContainer:null!==(t=this.props.dropDownContainer)&&void 0!==t?t:void 0}}},{key:"componentDidUpdate",value:function(e,t){e.solicitacaoAtividadeId===this.props.solicitacaoAtividadeId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(T.default);Y.defaultProps={placeholder:"Pesquisar Solicita\xe7\xe3o Atividade",displayExpr:function(e){return e&&("S"===m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?e.numero:e.solicitacao_id)+" "+e.atividade_descricao},visible:!0};var ee=a(821),te=a(63),ae=a.n(te);var oe=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).preencherAtividadeProjeto=function(e){var t=this;window.require(["react","react-dom","./assets/view/atividade_projeto/ListarAtividadeProjeto"],(function(a,o,n){var i;t.divComponenteAtividades&&o.unmountComponentAtNode(t.divComponenteAtividades),t.listarAtividadeProjeto=a.createElement(n,null,null),o.render(t.listarAtividadeProjeto,t.divComponenteAtividades),t.listarAtividadeProjeto.props.setParams({div:ae()(t.divComponenteAtividades),data:e,dropdown:!0,dropdown_disabled:!1,somente_leitura:!0,atividade_selecionada:null!==(i=t.state.selecionado)&&void 0!==i?i:null,ao_selecionar:function(e){t.setState({selecionado:e}),t.props.aoAlterar&&t.props.aoAlterar(t.state.selecionado)},parametro_usuario:"atividade_projeto_referencias"})}))},o.obterAtividadesProjeto=function(e){var t=this;v.a.get({route:"atividade_projeto/listar/",data:{projeto_id:null!==e&&void 0!==e?e:this.state.projetoId},func_response:function(e){e.atividades.push({atividade_simplificada:e.projeto.nome,id:"raiz",projeto_atividade_sintetica_pai_id:null,tipo_atividade:"P",marco:!1,horas_previstas:"000:00"}),t.preencherAtividadeProjeto(e)}})},o.state=Object(i.a)(Object(i.a)({},o.state),o.propsToObjState()),o.listarAtividadeProjeto=null,o.divComponenteAtividadesRef=f.a.createRef(),o.preencherAtividadeProjeto=o.preencherAtividadeProjeto.bind(Object(c.a)(o)),o.obterAtividadesProjeto=o.obterAtividadesProjeto.bind(Object(c.a)(o)),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){var e,t,a;return{selecionado:this.props.selecionado?[this.props.selecionado]:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,projetoId:null!==(t=this.props.projetoId)&&void 0!==t?t:null,dropDownContainer:null!==(a=this.props.dropDownContainer)&&void 0!==a?a:void 0}}},{key:"componentDidMount",value:function(){this.state.projetoId&&this.obterAtividadesProjeto()}},{key:"componentDidUpdate",value:function(e,t){e.projetoId===this.props.projetoId&&e.projetoAtividadeId===this.props.projetoAtividadeId&&e.selecionado===this.props.selecionado&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState()),e.projetoId!==this.props.projetoId&&this.obterAtividadesProjeto(this.props.projetoId)}},{key:"componentWillUnmount",value:function(){this.desmontarListarAtividadeProjeto()}},{key:"desmontarListarAtividadeProjeto",value:function(){var e=this;window.require(["react-dom"],(function(t){e.divComponenteAtividades&&t.unmountComponentAtNode(e.divComponenteAtividades)}))}},{key:"render",value:function(){return Object(o.jsx)("div",{ref:this.divComponenteAtividadesRef})}},{key:"divComponenteAtividades",get:function(){var e;return null!==(e=this.divComponenteAtividadesRef.current)&&void 0!==e?e:null}}]),a}(f.a.Component);oe.defaultProps={placeholder:"Pesquisar Atividade de Projeto",columns:N.c,visible:!0};var ne=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return a}(_.Column);ne.defaultProps={dataField:"referencia_nivel",caption:"N\xedvel",width:130,groupIndex:0,children:Object(o.jsx)(_.Lookup,{dataSource:b,displayExpr:"descricao",valueExpr:"id"})};var ie=a(889);var re=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return a}(_.Button);re.defaultProps={dataField:"solicitacao_id",text:"Visualizar Solicita\xe7\xe3o",icon:"fa",cssClass:"icon_solicitacao",onClick:function(e){var t=e.column.buttons.filter((function(e){return"SolicitacaoBotaoVisualizar"===e.btnNome}));if(0===t.length)return!1;var a=t[0];a.callbackBtns&&a.callbackBtns(),j.a.loadReact(window.views.solicitacao_processo.Listagem.default,{filtro_solicitacao_numero:"S"!==m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?e.row.data[a.dataField]:e.row.data[a.dataFieldNumero]},(function(e){}),j.a.ABA.SIM_E_RECARREGAR_SE_ESTIVER_ABERTA)},btnNome:"SolicitacaoBotaoVisualizar"};var se=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return a}(_.Button);se.defaultProps={dataField:"id",text:"Visualizar chamado",icon:"fa fa-comments",onClick:function(e){var t=e.column.buttons.filter((function(e){return"ChamadoBotaoVisualizar"===e.btnNome}));if(0===t.length)return!1;var a=t[0];a.callbackBtns&&a.callbackBtns(),j.a.loadReact(window.views.chamado.Detalhes.default,{chamadoId:e.row.data.id},(function(e,t){}),j.a.ABA.MULTIPLAS)},btnNome:"ChamadoBotaoVisualizar"};var ce=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(i.a)({relacionamentos:[],selectedItemKeys:[],salvando:!1,exibirSelecionarAtividadeProjeto:!1,exibirSelecionarAtividadeProjetoId:null},o.propsToObjState()),o.aoAlterarVisualizacaoTabela=o.aoAlterarVisualizacaoTabela.bind(Object(c.a)(o)),o.aoAlterarVisualizacaoId=o.aoAlterarVisualizacaoId.bind(Object(c.a)(o)),o.aoAlterarVinculoId=o.aoAlterarVinculoId.bind(Object(c.a)(o)),o.aoSelecionarChamado=o.aoSelecionarChamado.bind(Object(c.a)(o)),o.aoSelecionarSolicitacao=o.aoSelecionarSolicitacao.bind(Object(c.a)(o)),o.aoSelecionarSolicitacaoAtividade=o.aoSelecionarSolicitacaoAtividade.bind(Object(c.a)(o)),o.aoSelecionarProjeto=o.aoSelecionarProjeto.bind(Object(c.a)(o)),o.aoSelecionarProjetoAtividade=o.aoSelecionarProjetoAtividade.bind(Object(c.a)(o)),o.aoAlterarVinculoTabela=o.aoAlterarVinculoTabela.bind(Object(c.a)(o)),o.confirmarVinculo=o.confirmarVinculo.bind(Object(c.a)(o)),o.reiniciar=o.reiniciar.bind(Object(c.a)(o)),o.callbackBtns=o.callbackBtns.bind(Object(c.a)(o)),o.onClickRemoverReferencia=o.onClickRemoverReferencia.bind(Object(c.a)(o)),o.onClickCancelar=o.onClickCancelar.bind(Object(c.a)(o)),o.onClickExpandir=o.onClickExpandir.bind(Object(c.a)(o)),o.onClickRetrair=o.onClickRetrair.bind(Object(c.a)(o)),o.onClickRefresh=o.onClickRefresh.bind(Object(c.a)(o)),o.onClickNovoChamado=o.onClickNovoChamado.bind(Object(c.a)(o)),o.onClickNovaSolicitacao=o.onClickNovaSolicitacao.bind(Object(c.a)(o)),o.onClickNovoDocumento=o.onClickNovoDocumento.bind(Object(c.a)(o)),o.onClickNovoDocumentoMultiplo=o.onClickNovoDocumentoMultiplo.bind(Object(c.a)(o)),o.obterReferencias=o.obterReferencias.bind(Object(c.a)(o)),o.aoAlterarAcordeaoSelecionado=o.aoAlterarAcordeaoSelecionado.bind(Object(c.a)(o)),o.renderTitulo=o.renderTitulo.bind(Object(c.a)(o)),o.renderDataGrid=o.renderDataGrid.bind(Object(c.a)(o)),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,o,n,i,r,s;return{tabela:null!==(e=this.props.tabela)&&void 0!==e?e:null,id:null!==(t=this.props.id)&&void 0!==t?t:null,callbackBtns:null!==(a=this.props.callbackBtns)&&void 0!==a?a:null,documentoPastaId:null!==(o=this.props.documentoPastaId)&&void 0!==o?o:null,entidadeId:null!==(n=this.props.entidadeId)&&void 0!==n?n:null,entidadeTipo:null!==(i=this.props.entidadeTipo)&&void 0!==i?i:null,adicionais:null!==(r=this.props.adicionais)&&void 0!==r?r:null,dropDownContainer:null!==(s=this.props.dropDownContainer)&&void 0!==s?s:void 0}}},{key:"componentDidUpdate",value:function(e,t){e.tabela===this.props.tabela&&e.id===this.props.id||this.setState(this.propsToObjState())}},{key:"componentDidMount",value:function(){this.obterReferencias()}},{key:"obterReferencias",value:function(e){var t,a,o=this;this.state.tabela&&this.state.id>0&&(t=this.state.tabela,a=this.state.id,new Promise((function(e,o){v.a.get({route:"referencia/listar/",data:{tabela:t,id:a},func_response:function(t){e(t)}})}))).then((function(t){var a={};e&&(a={vincularId:null,referenciarTabela:null,salvando:!1}),o.setState(Object(i.a)({relacionamentos:t,selectedItemKeys:o.state.selectedItemKeys},a))}))}},{key:"aoAlterarVisualizacaoTabela",value:function(e){var t=this;this.setState({tabela:e.value},(function(){return t.obterReferencias()}))}},{key:"aoAlterarVisualizacaoId",value:function(e){var t=this;this.setState({id:e.value},(function(){return t.obterReferencias()}))}},{key:"aoAlterarVinculoTabela",value:function(e){this.setState({referenciarTabela:e.value})}},{key:"aoAlterarVinculoId",value:function(e){this.setState({vincularId:e.value})}},{key:"aoSelecionarChamado",value:function(e){var t=this;this.setState({vincularId:e},(function(){return t.confirmarVinculo()}))}},{key:"aoSelecionarSolicitacao",value:function(e){var t=this;this.setState({vincularId:e},(function(){return t.confirmarVinculo()}))}},{key:"aoSelecionarSolicitacaoAtividade",value:function(e){var t=this;this.setState({vincularId:e},(function(){return t.confirmarVinculo()}))}},{key:"aoSelecionarProjeto",value:function(e){this.setState({exibirSelecionarAtividadeProjeto:!0,exibirSelecionarAtividadeProjetoId:e})}},{key:"aoSelecionarProjetoAtividade",value:function(e){var t=this;this.setState({vincularId:e},(function(){return t.confirmarVinculo()}))}},{key:"confirmarVinculo",value:function(){var e,t,a,o=this;if(this.state.referenciarTabela&&""!==this.state.referenciarTabela&&this.state.vincularId&&""!==this.state.vincularId){this.setState({salvando:!0,exibirSelecionarAtividadeProjeto:!1}),e={tabela_a:this.state.tabela,id_a:this.state.id,tabela_b:this.state.referenciarTabela,id_b:this.state.vincularId},t=function(){o.obterReferencias(!0)},a=function(){o.reiniciar()},v.a.post({route:"referencia/salvar",data:e,func_response:function(e){window.alert_saved("Relacionamento salvo com sucesso"),t&&t(e)},func_fail:function(e){window.alert_fail("Falhou"),a&&a(e)}})}}},{key:"aoAlterarAcordeaoSelecionado",value:function(e){var t=Object(n.a)(this.state.selectedItemKeys);e.removedItems.forEach((function(e){var a=t.indexOf(e.tabela);a>=0&&t.splice(a,1)})),e.addedItems.length&&(t=[].concat(Object(n.a)(t),[e.addedItems[0].tabela])),this.setState({selectedItemKeys:t})}},{key:"renderTitulo",value:function(e){var t=this,n=Object(o.jsx)("div",{children:e.registros.map((function(e,a){return 10===a?Object(o.jsx)("button",{type:"button",className:"btn btn-link",children:"..."},e.referencia_id):a>10?null:Object(o.jsxs)("button",{type:"button",className:"btn btn-link",onClick:function(a){return t.abrirTituloLinkReferencia(e,a)},children:[t.labelTituloLinkReferencia(e)," "]},e.referencia_id)}))}),i=e.tabela,r=a.tabelas.filter((function(t){return t.id===e.tabela}));return r&&r.length>0&&(i=r[0].descricao),Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)("div",{className:"pull-right",style:{paddingRight:"25px"},children:Object(o.jsx)("span",{className:"badge",children:e.registros.length})}),Object(o.jsxs)("div",{style:{display:"flex",alignSelf:"center"},children:[Object(o.jsx)("div",{children:i}),Object(o.jsx)(O.a,{}),Object(o.jsx)("div",{children:n})]})]})}},{key:"renderDataGrid",value:function(e){switch(e.tabela){case"chamado":return this.renderDataGridChamado(e.registros);case"oportunidade":return this.renderDataGridOportunidade(e.registros);case"solicitacao":return this.renderDataGridSolicitacao(e.registros);case"solicitacao_atividade":return this.renderDataGridSolicitacaoAtividade(e.registros);case"projeto":return this.renderDataGridProjeto(e.registros);case"projeto_atividade":return this.renderDataGridProjetoAtividade(e.registros);case"documento":return this.renderDataGridDocumento(e.registros);case"agenda_evento":return this.renderDataGridAgendaEvento(e.registros);case"pdca":return this.renderDataGridPdca(e.registros);case"pdca_atividade":return this.renderDataGridPdcaAtividade(e.registros);case"tarefa_quadro_lista_cartao":return this.renderDataGridTarefaQuadroListaCartao(e.registros)}}},{key:"callbackBtns",value:function(){this.state.callbackBtns&&this.state.callbackBtns()}},{key:"onClickRemoverReferencia",value:function(e){var t=this,a=function(){t.obterReferencias()};window.DevExpress.ui.dialog.confirm("A refer\xeancia ser\xe1 removida. <b>Deseja continuar?</b>","Remover refer\xeancia").done((function(o){var n,i,r;o&&(n={tabela_a:t.state.tabela,id_a:t.state.id,tabela_b:e.row.data.referencia_tabela,id_b:e.row.data.referencia_id},i=a,v.a.post({route:"referencia/excluir",data:n,func_response:function(e){window.alert_saved("Relacionamento exclu\xeddo com sucesso"),i&&i(e)},func_fail:function(e){window.alert_fail("Falhou"),r&&r(e)}}))}))}},{key:"reiniciar",value:function(){this.setState({vincularId:null,referenciarTabela:null,salvando:!1})}},{key:"onClickCancelar",value:function(e){this.reiniciar()}},{key:"onClickRefresh",value:function(e){this.obterReferencias()}},{key:"onClickExpandir",value:function(e){this.setState({selectedItemKeys:this.state.relacionamentos.map((function(e){return e.tabela}))})}},{key:"onClickRetrair",value:function(e){this.setState({selectedItemKeys:[]})}},{key:"onClickNovoChamado",value:function(e){var t,a,o,n,r=this;this.callbackBtns();var s={};switch(this.state.tabela){case"pdca_atividade":s={pdcaAtividadeId:this.state.id,pdcaId:null!==(t=null===(a=this.state.adicionais)||void 0===a?void 0:a.pdca_id)&&void 0!==t?t:null,assunto:"PDCA #"+(null!==(o=null===(n=this.state.adicionais)||void 0===n?void 0:n.pdca_id)&&void 0!==o?o:"")+" | Atividade #"+this.state.id}}j.a.loadReact(window.views.chamado.Detalhes.default,Object(i.a)({referenciaTabela:this.state.tabela,referenciaId:this.state.id,entidadeId:this.state.entidadeId,entidadeTipo:this.state.entidadeTipo,onClose:function(){r.obterReferencias()}},s),(function(e,t){}),j.a.ABA.MULTIPLAS),this.reiniciar()}},{key:"onClickNovaSolicitacao",value:function(e){var t=this;this.callbackBtns(),j.a.load("solicitacao/nova",(function(e,a){a.onclose=function(){t.obterReferencias()},a.referencia_tabela=t.state.tabela,a.referencia_id=t.state.id,a.show()})),this.reiniciar()}},{key:"onClickNovoDocumento",value:function(e){var t=this;this.callbackBtns(),j.a.load("central_documentos/documento",(function(e,a){a.onclose=function(){t.obterReferencias()},a.referencia_tabela=t.state.tabela,a.referencia_id=t.state.id,a.show(null,window.FORMULARIO.NOVO,t.state.documentoPastaId,null,null,null,null,null,null)}),j.a.ABA.MULTIPLAS),this.reiniciar()}},{key:"onClickNovoDocumentoMultiplo",value:function(e){var t=this;this.callbackBtns(),j.a.load("upload/envio_multiplo",(function(e,a){a.onclose=function(){t.obterReferencias()},a.referencia_tabela=t.state.tabela,a.referencia_id=t.state.id,a.show(t.state.documentoPastaId)}),j.a.ABA.SIM),this.reiniciar()}},{key:"acessarChamado",value:function(e){j.a.loadReact(window.views.chamado.Detalhes.default,{chamadoId:e},(function(e,t){}),j.a.ABA.MULTIPLAS)}},{key:"acessarSolicitacao",value:function(e){j.a.loadReact(window.views.solicitacao_processo.Listagem.default,{filtro_solicitacao_numero:e},(function(e){}),j.a.ABA.SIM_E_RECARREGAR_SE_ESTIVER_ABERTA)}},{key:"acessarSolicitacaoAtividade",value:function(e){j.a.load("solicitacao/detalhes",(function(t,a){a.show(e,window.FORMULARIO.EDITAR)}),j.a.ABA.MULTIPLAS)}},{key:"acessarDocumento",value:function(e){j.a.load("central_documentos/documento",(function(t,a){a.show(e,window.FORMULARIO.EDITAR)}),j.a.ABA.MULTIPLAS)}},{key:"acessarPdca",value:function(e){var t={pdca_id:e.pdca_id,numero:e.pdca_numero,data_inicio:e.pdca_data_inicio,data_fim:e.pdca_data_fim,progresso:e.pdca_progresso,situacao:e.pdca_situacao,objetivo:e.pdca_objetivo};j.a.load("pdca/atividades",(function(e,a){a.show(t)}),j.a.ABA.SIM)}},{key:"acessarTarefaQuadroListaCartao",value:function(e){j.a.load("tarefa/detalhes_cartao",(function(t,a){a.show(e)}),j.a.ABA.MULTIPLAS)}},{key:"acessarProjetoAtividade",value:function(e,t){j.a.load("atividade_projeto/detalhes",(function(a,o){o.show(e,t,window.FORMULARIO.EDITAR)}),j.a.ABA.MULTIPLAS)}},{key:"acessarOportunidade",value:function(e,t){j.a.load("oportunidade/detalhes",(function(e,a){a.show(t,window.FORMULARIO.EDITAR)}),j.a.ABA.MULTIPLAS)}},{key:"abrirTituloLinkReferencia",value:function(e,t){switch(this.callbackBtns(),e.referencia_tabela){case"chamado":this.acessarChamado(e.id);break;case"solicitacao":this.acessarSolicitacao(e.id);break;case"solicitacao_atividade":this.acessarSolicitacaoAtividade(e.solicitacao_atividade_id);break;case"documento":this.acessarDocumento(e.documento_id);break;case"pdca_atividade":this.acessarPdca(e);break;case"tarefa_quadro_lista_cartao":this.acessarTarefaQuadroListaCartao(e.id);break;case"projeto_atividade":this.acessarProjetoAtividade(e.projeto_id,e.id);break;case"oportunidade":this.acessarOportunidade(e.funil_vendas_id,e.oportunidade_id)}}},{key:"labelTituloLinkReferencia",value:function(e){var t=function(e){return Object(o.jsx)("div",{className:"referencia_titulo_link",title:e,children:e})};switch(e.referencia_tabela){case"chamado":return t("#"+e.id+" "+e.assunto);case"solicitacao":return t("#"+("S"===m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?e.numero:e.id)+" "+e.processo_nome);case"solicitacao_atividade":return t("#"+("S"===m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo?e.numero:e.solicitacao_id)+" "+e.atividade_descricao);case"documento":return t(e.nome);case"pdca_atividade":return t("#"+e.pdca_numero+" "+e.que);case"tarefa_quadro_lista_cartao":return t(e.nome+" ("+e.nome_lista+" / "+e.nome_quadro+")");case"projeto_atividade":return t("#"+e.codigo+" "+e.atividade_simplificada);case"oportunidade":return t("#"+e.oportunidade_id+" ("+e.nome+" / "+e.funil+")");default:return""}}},{key:"renderDataGridChamado",value:function(e){var t=[Object(o.jsx)(ne,{})].concat(Object(n.a)(Object(ie.a)(this.props.html_id)),[Object(o.jsxs)(_.Column,{type:"buttons",fixed:!0,fixedPosition:"right",children:[Object(o.jsx)(se,{dataField:"chamado_id",callbackBtns:this.callbackBtns}),Object(o.jsx)(_.Button,{text:"Remover Refer\xeancia",icon:"trash",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}})]})]);return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,children:t}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridSolicitacao",value:function(e){var t=[Object(o.jsx)(ne,{})].concat(Object(n.a)(Q(window.App.sessao.dados.parametro_processo.numero_solicitacao_por_processo)),[Object(o.jsxs)(_.Column,{type:"buttons",fixed:!0,fixedPosition:"right",children:[Object(o.jsx)(re,{dataField:"id",dataFieldNumero:"numero",callbackBtns:this.callbackBtns}),Object(o.jsx)(_.Button,{text:"Remover Refer\xeancia",icon:"trash",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}})]})]);return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{width:"100%",dataSource:e,remoteOperations:!1,onRowPrepared:function(e){"data"===e.rowType&&setTimeout((function(){var t=e.component.getCellElement(e.rowIndex,"solicitacao_situacao");if(t){var a=t.text();if(a.trim().length){t.css("color","#FFF").css("text-align","center");var o="Andamento"===a?"#669999":"Conclu\xedda"===a?"#008A2E":"N\xe3o entregue"===a?"#E68A00":"Retornada"===a||"Cancelada"===a||"Atrasada"===a?"#B80000":"#000000DE";t.css("background",o)}}}))},children:t}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridSolicitacaoAtividade",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,columns:[this.colunaReferenciaNivel].concat(Object(n.a)(E(m.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo)),[{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[M(this.callbackBtns),{hint:"Remover Refer\xeancia",icon:"fas fa-times",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}}]}]),onRowPrepared:function(e){"data"===e.rowType&&setTimeout((function(){var t=e.component.getCellElement(e.rowIndex,"situacao");if(t){var a=t.text();if(a.trim().length){t.css("color","#FFF").css("text-align","center");var o="Andamento"===a?"#669999":"Conclu\xedda"===a?"#008A2E":"N\xe3o entregue"===a?"#E68A00":"Retornada"===a||"Cancelada"===a||"Atrasada"===a?"#B80000":"#000000DE";t.css("background",o)}}}))}}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridProjeto",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridProjetoAtividade",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,columns:[this.colunaReferenciaNivel].concat(Object(n.a)(N.c),[{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[Object(N.b)(this.callbackBtns),{hint:"Remover Refer\xeancia",icon:"fas fa-times",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}}]}]),onRowPrepared:function(e){"data"===e.rowType&&setTimeout((function(){var t=e.component.getCellElement(e.rowIndex,"status");if(t){var a=t.text();if(a.trim().length){var o="Cancelada"===a?"default":"Andamento"===a?"info":"Conclu\xeddo"===a?"success":"N\xe3o iniciado"===a?"warning":"danger";t.html('<span class="label label-'+o+'">'+a+"</span>")}}}))}}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridDocumento",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,columns:[this.colunaReferenciaNivel].concat(Object(n.a)(z),[{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[B(this.callbackBtns),{hint:"Remover Refer\xeancia",icon:"fas fa-times",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}}]}])}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridOportunidade",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,columns:[this.colunaReferenciaNivel].concat(Object(n.a)(U.b),[{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[Object(U.a)(this.callbackBtns),{hint:"Remover Refer\xeancia",icon:"fas fa-times",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}}]}])}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridAgendaEvento",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridPdcaAtividade",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,columns:[this.colunaReferenciaNivel].concat(Object(n.a)(G),[{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[V(this.callbackBtns),{hint:"Remover Refer\xeancia",icon:"fas fa-times",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}}]}])}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridPdca",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{}),Object(o.jsx)(O.b,{})]})}},{key:"renderDataGridTarefaQuadroListaCartao",value:function(e){return Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(h.default,{dataSource:e,remoteOperations:!1,columns:[this.colunaReferenciaNivel].concat(Object(n.a)(L),[{type:"buttons",fixed:!0,fixedPosition:"right",buttons:[F(this.callbackBtns),{hint:"Remover Refer\xeancia",icon:"fas fa-times",onClick:this.onClickRemoverReferencia,visible:function(e){return e.row.data.referencia_nivel&&"0"===e.row.data.referencia_nivel}}]}])}),Object(o.jsx)(O.b,{})]})}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"panel",children:Object(o.jsxs)("div",{className:"panel-body",children:[this.props.tabela||this.props.id?null:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-xs-12",children:[Object(o.jsx)("div",{children:"Visualizar refer\xeancias de:"}),Object(o.jsxs)("div",{style:{display:"flex",alignSelf:"center"},children:[Object(o.jsx)(y.a,{items:a.tabelas,displayExpr:"descricao",valueExpr:"id",value:this.state.tabela,onValueChanged:this.aoAlterarVisualizacaoTabela}),Object(o.jsx)(w.a,{value:this.state.id,onValueChanged:this.aoAlterarVisualizacaoId})]}),Object(o.jsx)(O.b,{})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-xs-12",children:Object(o.jsxs)(I.a,{children:[Object(o.jsx)(R.Item,{location:"before",children:Object(o.jsxs)("div",{style:{display:"flex",alignSelf:"center"},children:[Object(o.jsx)(y.a,{items:a.tabelas.filter((function(e){return e.selecaoVisivel})),displayExpr:"descricao",valueExpr:"id",value:this.state.referenciarTabela,onValueChanged:this.aoAlterarVinculoTabela,placeholder:"Adicionar refer\xeancia interna",disabled:this.state.salvando,width:250}),Object(o.jsx)(O.a,{}),"chamado"===this.state.referenciarTabela?Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(P,{aoAlterar:this.aoSelecionarChamado,readOnly:this.state.salvando,width:250,dropDownContainer:this.state.dropDownContainer,children:Object(ie.a)(this.props.html_id)}),Object(o.jsx)(C.Button,{type:"default",text:"Novo Chamado",disabled:this.state.salvando,onClick:this.onClickNovoChamado})]}):null,"solicitacao"===this.state.referenciarTabela?Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)($,{aoAlterar:this.aoSelecionarSolicitacao,readOnly:this.state.salvando,width:250,dropDownContainer:this.state.dropDownContainer}),Object(o.jsx)(C.Button,{type:"default",text:"Nova Solicita\xe7\xe3o",disabled:this.state.salvando,onClick:this.onClickNovaSolicitacao})]}):null,"solicitacao_atividade"===this.state.referenciarTabela?Object(o.jsx)(Y,{aoAlterar:this.aoSelecionarSolicitacaoAtividade,readOnly:this.state.salvando,width:250,dropDownContainer:this.state.dropDownContainer}):null,"projeto_atividade"===this.state.referenciarTabela?Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(ee.default,{aoAlterar:this.aoSelecionarProjeto,readOnly:this.state.salvando,width:250,dropDownContainer:this.state.dropDownContainer}),!0===this.state.exibirSelecionarAtividadeProjeto?Object(o.jsx)(oe,{projetoId:this.state.exibirSelecionarAtividadeProjetoId,aoAlterar:this.aoSelecionarProjetoAtividade,readOnly:this.state.salvando,width:250,dropDownContainer:this.state.dropDownContainer}):null]}):null,"documento"===this.state.referenciarTabela?Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(C.Button,{type:"default",text:"Novo Documento",disabled:this.state.salvando,onClick:this.onClickNovoDocumento}),Object(o.jsx)(C.Button,{stylingMode:"text",text:"Envio M\xfaltiplo",disabled:this.state.salvando,onClick:this.onClickNovoDocumentoMultiplo})]}):null,this.state.referenciarTabela?Object(o.jsxs)(f.a.Fragment,{children:[Object(o.jsx)(O.a,{}),Object(o.jsx)(C.Button,{text:"Cancelar",disabled:this.state.salvando,stylingMode:"text",onClick:this.onClickCancelar})]}):null]})}),Object(o.jsxs)(R.Item,{location:"after",children:[Object(o.jsx)(C.Button,{onClick:this.onClickExpandir,hint:"Expandir",icon:"fas fa-expand-alt",stylingMode:"text"}),Object(o.jsx)(C.Button,{onClick:this.onClickRetrair,hint:"Retrair",icon:"fas fa-compress-alt",stylingMode:"text"}),Object(o.jsx)(C.Button,{onClick:this.onClickRefresh,hint:"Recarregar",icon:"fas fa-sync-alt",stylingMode:"text"})]})]})})}),Object(o.jsx)(O.b,{}),Object(o.jsx)(S.a,{dataSource:this.state.relacionamentos,collapsible:!0,multiple:!0,itemTitleRender:this.renderTitulo,selectedItemKeys:this.state.selectedItemKeys,onSelectionChanged:this.aoAlterarAcordeaoSelecionado,itemRender:this.renderDataGrid,keyExpr:"tabela",noDataText:"N\xe3o existe nenhuma refer\xeancia com este registro."})]})})}}]),a}(f.a.Component);ce.tabelas=[{id:"tarefa_quadro_lista_cartao",descricao:"Cart\xe3o de Tarefa",selecaoVisivel:!1},{id:"chamado",descricao:"Chamado",selecaoVisivel:!0},{id:"documento",descricao:"Documento",selecaoVisivel:!0},{id:"solicitacao",descricao:"Solicita\xe7\xe3o de Processo",selecaoVisivel:!0},{id:"solicitacao_atividade",descricao:"Atividade de Processo",selecaoVisivel:!0},{id:"projeto_atividade",descricao:"Atividade de Projeto",selecaoVisivel:!0},{id:"pdca_atividade",descricao:"Atividade de PDCA",selecaoVisivel:!1},{id:"oportunidade",descricao:"Oportunidade",selecaoVisivel:!1}]},864:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var o=a(373),n=a(365),i=a(368),r=a(369),s=a(367),c=a(390);var l=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);l.defaultProps={dataField:"nome_fantasia",caption:"Nome Fantasia",width:150,cellRender:function(e){var t="",a="";switch(e.data.tipo){case"C":t="label-info",a="Cliente";break;case"O":t="label-primary",a="Organiza\xe7\xe3o";break;case"F":t="label-warning",a="Fornecedor";break;case"E":t="label-success",a="Empresa"}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"label lb_tipo ".concat(t),style:{margin:"5px"},title:a,children:e.data.tipo}),Object(o.jsx)("span",{"data-placement":"bottom",children:e.text})]})}};var d=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);d.defaultProps={dataField:"email",caption:"E-mail",width:150,cellRender:function(e){for(var t=window.string_to_array(e.text),a=0;a<t.length;a++){var n="mailto:"+t[a].toLowerCase(),i=t[a].toLowerCase();return Object(o.jsxs)("span",{"data-placement":"bottom",children:[Object(o.jsx)("a",{target:"_blank",href:n,children:i}),"; "]})}}};var u=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);u.defaultProps={dataField:"telefone",caption:"Telefone",width:120,cellRender:function(e){var t="tel:"+e.text;return Object(o.jsxs)("span",{"data-placement":"bottom",children:[Object(o.jsx)("a",{target:"_blank",href:t,children:e.text})," "]})}};var p=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);p.defaultProps={dataField:"razao_social",caption:"Raz\xe3o Social",width:150};var f=a(811);var h=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);h.defaultProps={dataField:"unidade",caption:"Unidade",width:100};var m=a(812);var v=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);v.defaultProps={dataField:"cidade",caption:"Cidade",width:100};var b=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);b.defaultProps={dataField:"bairro",caption:"Bairro",width:100};var _=function(e){Object(i.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(s.a)(e);if(t()){var n=Object(s.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(r.a)(this,a)}}(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(c.Column);_.defaultProps={dataField:"endereco",caption:"Endere\xe7o",width:150};var j=[Object(o.jsx)(f.a,{},"codigo"),Object(o.jsx)(h,{},"unidade"),Object(o.jsx)(l,{},"nomeFantasia"),Object(o.jsx)(p,{},"razaoSocial"),Object(o.jsx)(m.a,{},"cnpj"),Object(o.jsx)(d,{dataField:"email_principal",caption:"E-mail Principal"},"emailPrincipal"),Object(o.jsx)(u,{dataField:"telefone1",caption:"Telefone 1"},"telefone1"),Object(o.jsx)(u,{dataField:"telefone2",caption:"Telefone 1"},"telefone2"),Object(o.jsx)(u,{dataField:"telefone3",caption:"Telefone 1"},"telefone3"),Object(o.jsx)(u,{dataField:"telefone4",caption:"Telefone 1"},"telefone4"),Object(o.jsx)(v,{},"cidade"),Object(o.jsx)(b,{},"bairro"),Object(o.jsx)(_,{},"endereco")]},878:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var o=a(386),n=a(365),i=a(366),r=a(368),s=a(369),c=a(367),l=a(674),d=a(392),u=a(405),p=a(105);var f=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state=Object(o.a)(Object(o.a)({},i.state),i.propsToObjState()),i}return Object(i.a)(a,[{key:"propsToObjState",value:function(){var e,t,a,n,i;return{selecionado:this.props.selecionado?this.props.selecionado:null,readOnly:null!==(e=this.props.readOnly)&&void 0!==e?e:null,dataSource:(i=this.props.modulo,new u.default({paginate:!1,key:"grupo_usuarios_id",load:function(e){var t=window.loadOptionsToActionParams(e);return new Promise((function(a,n){d.a.get({route:"grupo_usuarios/listar/",data:Object(o.a)({listar_grupos_sistema:!1,nome:e.searchValue,usuario_id:window.cripto(p.a.sessao.usuario_id.toString()),modulo:i},t),func_response:function(e){a({data:e,key:"grupo_usuarios_id"})},func_fail:function(e){e.validation&&n(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}))}})),instanceSelecaoPadraoTagBox:null!==(t=this.props.instanceSelecaoGrupoUsuarios)&&void 0!==t?t:null,aoAlterar:null!==(a=this.props.aoAlterar)&&void 0!==a?a:null,elementAttr:null!==(n=this.props.elementAttr)&&void 0!==n?n:null}}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(e.selecionado)===JSON.stringify(this.props.selecionado)&&e.readOnly===this.props.readOnly||this.setState(this.propsToObjState())}}]),a}(l.a);f.defaultProps={placeholder:"Filtro por grupos de usu\xe1rios",displayExpr:"nome",valueExpr:"grupo_usuarios_id"}},879:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var o=a(373),n=a(1079),i=a.n(n),r=a(1080),s=a.n(r);function c(e){var t=e.idModulo,a=void 0===t?0:t,n=e.nomeModulo,i=void 0===n?"?":n,r=e.qtdAbertoHoje,c=void 0===r?0:r,l=e.qtdEmAtraso,d=void 0===l?0:l,u=e.qtdTotal,p=void 0===u?0:u,f=e.iconeUrl,h=void 0===f?"":f,m=e.btnAddClick,v=void 0===m?null:m,b=e.btnListClick,_=void 0===b?null:b,j=e.customButtons,O=void 0===j?[]:j,g=e.titleHoje,w=void 0===g?"":g,x=e.titleEmAtraso,y=void 0===x?"":x,A=e.titleTotal,S=void 0===A?"":A,C=e.isCentralPendencias,R=void 0!==C&&C,I=e.fnHandleCardClick,T=void 0===I?null:I;return Object(o.jsx)("div",{className:"".concat(s.a.container," col-md-4 col-sm-6 col-lg-3 templateCard"),style:{minWidth:R?170:""},children:Object(o.jsxs)("div",{className:s.a.card,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:s.a.topoTitulo,children:i}),v&&Object(o.jsx)("span",{className:s.a.button,onClick:function(){v&&"function"===typeof v&&v()},children:Object(o.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})}),_&&Object(o.jsx)("span",{className:s.a.button,onClick:function(){_&&"function"===typeof _&&_()},children:Object(o.jsx)("i",{className:"fa fa-external-link-alt","aria-hidden":"true"})}),O.length>0&&O.map((function(e,t){return("undefined"===typeof e.visible||!0===e.visible)&&Object(o.jsx)("span",{className:s.a.button,onClick:e.onClick,title:e.hint,children:Object(o.jsx)("i",{className:e.icon,"aria-hidden":"true"})},t)}))]}),Object(o.jsxs)("div",{onClick:R?function(){"function"===typeof T&&T(a,i)}:void 0,style:{cursor:R?"pointer":"default"},children:[Object(o.jsxs)("div",{className:s.a.cardCorpo,children:[Object(o.jsxs)("p",{title:w,children:[c," Hoje"]}),Object(o.jsxs)("p",{title:y,className:s.a.qtdEmAtraso,children:[d," Em Atraso"]})]}),Object(o.jsxs)("div",{className:s.a.cardRodape,children:[Object(o.jsx)("span",{className:s.a.iconeModulo,children:""!==h&&Object(o.jsx)("img",{src:h,width:"20",alt:""})}),Object(o.jsxs)("span",{className:s.a.totalSection,title:S,children:[Object(o.jsx)("span",{className:"text-muted",children:"Total"}),"\xa0\xa0",Object(o.jsx)("span",{className:s.a.totalIndicator,children:p})]})]})]})]})})}var l=a(105),d=a(569),u=a(412);function p(e){var t=e.data,a=e.supervisor_id,n=e.supervisor_nome,r=e.supervisionado_id,s=e.supervisionado_nome,p=e.onCloseModuleTab,f=e.isCentralPendencias,h=void 0!==f&&f,m=e.fnHandleCardClick,v=void 0===m?null:m,b=JSON.parse(t);return Object(o.jsxs)("div",{className:h?i.a.containerCentralPendencias:i.a.container,children:[l.a.verifica_permissao(l.a.temp.empresa,"agenda")?Object(o.jsx)(c,{idModulo:d.a.agenda,nomeModulo:"Agenda",qtdAbertoHoje:b.cardCockpitAgendaHoje,qtdEmAtraso:b.cardCockpitAgendaAtrasadas,qtdTotal:b.cardCockpitAgendaTotal,iconeUrl:"assets/img/icones_bp/calendar.svg",isCentralPendencias:h,fnHandleCardClick:v,btnAddClick:function(){window.View.load("agenda/agenda_evento",(function(e,t){var o=0,i="";null!=a&&null!=n?(o=a,i=n):null!=r&&null!=s?(o=r,i=s):(o=l.a.sessao.dados.usuario_id,i=l.a.sessao.dados.nome);var c={evento_id:null,usuario_id:o,usuario_nome:i,obj_dados_projeto:null};t.onclose=p,t.show(c)}))}}):"",l.a.verifica_permissao(l.a.temp.empresa,"gestao_tarefas")?Object(o.jsx)(c,{idModulo:d.a.tarefas,nomeModulo:"Tarefas",qtdAbertoHoje:b.cardCockpitCartoesHoje,qtdEmAtraso:b.cardCockpitCartoesAtrasados,qtdTotal:b.cardCockpitCartoesTotal,iconeUrl:"assets/img/icones_bp/tarefa.svg",isCentralPendencias:h,fnHandleCardClick:v,btnListClick:function(){window.View.load("tarefa/listar",(function(e,t){}),window.View.ABA.SIM)}}):"",l.a.verifica_permissao(l.a.temp.empresa,"gestao_chamados")?Object(o.jsx)(c,{idModulo:d.a.chamado,nomeModulo:"Chamados",qtdAbertoHoje:b.cardCockpitChamadosHoje,qtdEmAtraso:b.cardCockpitChamadosAtrasados,qtdTotal:b.cardCockpitChamadosTotal,iconeUrl:"assets/img/icones_bp/comunication.svg",isCentralPendencias:h,fnHandleCardClick:v,btnAddClick:function(){window.View.loadReact(window.views.chamado.Detalhes.default,{onCloseModuleTab:p},(function(e,t){}),window.View.ABA.MULTIPLAS)}}):"",l.a.verifica_permissao(l.a.temp.empresa,"gestao_documentos")?Object(o.jsx)(c,{idModulo:d.a.documento,nomeModulo:"Documentos",qtdAbertoHoje:b.cardCockpitDocumentosHoje,qtdEmAtraso:b.cardCockpitDocumentosAtrasados,qtdTotal:b.cardCockpitDocumentosTotal,iconeUrl:"assets/img/icones_bp/folder.svg",isCentralPendencias:h,fnHandleCardClick:v,btnListClick:function(){window.View.load("central_documentos/listar",(function(e,t){t.show(!0)}),window.View.ABA.SIM)}}):"",l.a.verifica_permissao(l.a.temp.empresa,"gestao_processos")?Object(o.jsx)(c,{idModulo:d.a.processo,nomeModulo:"Processos",qtdAbertoHoje:b.cardCockpitProcessosHoje,qtdEmAtraso:b.cardCockpitProcessosAtrasados,qtdTotal:b.cardCockpitProcessosTotal,iconeUrl:"assets/img/icones_bp/processos.svg",isCentralPendencias:h,fnHandleCardClick:v,btnAddClick:function(){window.View.load("solicitacao/nova",(function(e,t){t.onclose=p,t.show()}),window.View.ABA.NAO)}}):"",l.a.verifica_permissao(l.a.temp.empresa,"gestao_projetos")?Object(o.jsx)(c,{idModulo:d.a.projeto,nomeModulo:"Projetos",qtdAbertoHoje:b.cardCockpitProjetosHoje,qtdEmAtraso:b.cardCockpitProjetosAtrasados,qtdTotal:b.cardCockpitProjetosTotal,iconeUrl:"assets/img/icones_bp/icon_black_project.svg",isCentralPendencias:h,fnHandleCardClick:v,customButtons:[{icon:"fas fa-file-invoice-dollar",hint:"Apontamento de Despesa",onClick:function(){window.View.load("apontamento_despesas/detalhes",(function(e,t){t.show(window.FORMULARIO.NOVO,null)}),window.View.ABA.MULTIPLAS)},visible:l.a.verifica_permissao(l.a.temp.empresa,"apontamento_despesa")||l.a.verifica_permissao(l.a.temp.empresa,"admin_apontamento_despesa")},{icon:"far fa-clock",hint:"Apontamento de Atividade",onClick:function(){window.View.load("apontamento_projeto/detalhes",(function(e,t){t.show(null,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)},visible:l.a.verifica_permissao(l.a.temp.empresa,"apontamento_atividade")||l.a.verifica_permissao(l.a.temp.empresa,"admin_apontamento_atividade")}]}):"",l.a.verifica_permissao(l.a.temp.empresa,"pdca")?Object(o.jsx)(c,{idModulo:d.a.pdca,nomeModulo:"PDCA",qtdAbertoHoje:b.cardCockpitPDCAHoje,qtdEmAtraso:b.cardCockpitPDCAAtrasados,qtdTotal:b.cardCockpitPDCATotal,iconeUrl:"assets/img/icones_bp/list_alt.svg",isCentralPendencias:h,fnHandleCardClick:v,btnListClick:function(){window.View.loadReact(window.views.pdca.Listagem.default,{},(function(e){}),u.a.ABA.SIM)}}):"",l.a.verifica_permissao(l.a.temp.empresa,"gestao_relacionamento")?Object(o.jsx)(c,{idModulo:d.a.crm,nomeModulo:"CRM",qtdAbertoHoje:b.cardCockpitOportunidadesHoje,qtdEmAtraso:b.cardCockpitOportunidadesAtrasadas,qtdTotal:b.cardCockpitOportunidadesTotal,iconeUrl:"assets/img/icones_bp/people.svg",titleHoje:"Agendas e Oportunidades abertas para hoje",titleEmAtraso:h?"Oportunidades e Eventos CRM abertos":"Oportunidades e Eventos CRM atrasados (n\xe3o considera estagnado)",titleTotal:h?"Total de Oportunidades e Eventos CRM abertos":"Total de Oportunidades abertas",isCentralPendencias:h,fnHandleCardClick:v,btnListClick:function(){window.View.load("oportunidade/listar",(function(e,t){t.show()}),window.View.ABA.SIM)}}):""]})}},880:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(393),i=a(434),r=a.n(i),s=a(435),c=a(365),l=a(366),d=a(387),u=a(368),p=a(369),f=a(367),h=a(383),m=a.n(h),v=a(392),b=a(407),_=a(390),j=a(840),O=a(444),g=a(454);var w=function(e){Object(u.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(f.a)(e);if(t()){var n=Object(f.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(p.a)(this,a)}}(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).getDatasourceUsuarios=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("usuario/listar_usuarios_grupos/",{listar_bloqueados:!0,listar_grupos:!0,limite:null},null,null,null,null,null,null,null,!0);case 2:t=e.sent,this.setState({datasourceUsuarios:t});case 4:case"end":return e.stop()}}),e,this)}))),o.onToolbarPreparing=o.onToolbarPreparing.bind(Object(d.a)(o)),o.dataGrid=null,o.state={datasourceUsuarios:[]},o.getDatasourceUsuarios(),o}return Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.props.onClose&&this.props.onClose()}},{key:"onToolbarPreparing",value:function(e){var t=this;this.dataGrid=e.component;var a=[{widget:"dxButton",options:{icon:"plus",hint:"Adicionar Cubo",text:"Adicionar",onClick:function(){e.component.addRow()}},location:"after",name:"BtnNovoRegistro",locateInMenu:"auto"},{widget:"dxButton",options:{icon:"refresh",hint:"Recarregar",text:"Recarregar",onClick:function(){e.component.refresh()}},showText:"inMenu",location:"after",name:"BtnRefresh",locateInMenu:"auto"},{location:"after",name:"BtnConfiguracoes",locateInMenu:"auto"}];e.toolbarOptions.items=window.add_botao_dx_toolbar(a,e.toolbarOptions.items);for(var o=0;o<e.toolbarOptions.items.length;o++){var n=e.toolbarOptions.items[o];"saveButton"===n.name&&(n.options.onClick=function(a){for(var o=e.component.getController("data")._items,n=[],i=0;i<o.length;i++){var r=o[i];r.removed||n.push(r.data)}Object(j.d)(t.props.cubo_id,n,(function(t){e.component.saveEditData()}))})}}},{key:"render",value:function(){var e,t=this,a=[].concat(Object(n.a)((e=this.state.datasourceUsuarios,[Object(o.jsx)(_.Column,{lookup:{dataSource:{store:{type:"array",data:e,key:"id_usuario_grupo"},pageSize:10,paginate:!0},displayExpr:"nome",valueExpr:"id_usuario_grupo"},dataField:"integrante_id",caption:"Integrante"},"integrante_id"),Object(o.jsx)(_.Column,{lookup:{dataSource:window.CUBO_TIPO_PERMISSAO_LOOKUP,displayExpr:"descricao",valueExpr:"id"},dataField:"tipo_permissao"},"tipo_permissao")])),[Object(o.jsxs)(_.Column,{type:"buttons",width:110,children:[Object(o.jsx)(O.a,{visible:function(e){return!e.row.removed&&!e.row.data.padrao},onClick:function(e){t.dataGrid.deleteRow(e.row.rowIndex)}}),Object(o.jsx)(g.a,{visible:function(e){return e.row.removed},onClick:function(e){t.dataGrid.undeleteRow(e.row.rowIndex),e.event.preventDefault()}})]},"buttons")]);return Object(o.jsx)(m.a.Fragment,{children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)(b.default,{style:{height:"calc(100vh - 46px)"},stateStoring:Object(b.stateStoring)("DataGridCubo"),onToolbarPreparing:this.onToolbarPreparing,dataSource:Object(j.a)(this.props.cubo_id),editing:{mode:"batch",allowUpdating:!0,allowAdding:!1,allowDeleting:!0},children:a})})})})}}]),a}(m.a.Component);w.defaultProps={abaTitulo:"Equipe Cubo"};t.default=w},881:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var o=a(373),n=a(386),i=a(393),r=a(365),s=a(366),c=a(387),l=a(368),d=a(369),u=a(367),p=a(383),f=a.n(p),h=a(392),m=a(105),v=a(678),b=a.n(v),_=a(452),j=a(63),O=a.n(j),g=a(405),w=a(843),x=a.n(w),y=a(569);var A=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state=Object(n.a)({displayExpression:null,valueExpression:null},o.propsToObjState()),o}return Object(s.a)(a,[{key:"propsToObjState",value:function(){return{lista:this.props.lista}}},{key:"componentDidMount",value:function(){switch(this.props.idModulo){case y.a.documento:this.setState({displayExpression:"nome",valueExpression:"id"});break;case y.a.processo:this.setState({displayExpression:"nome",valueExpression:"processo_id"});break;case y.a.tarefas:case y.a.projeto:case y.a.crm:this.setState({displayExpression:"nome",valueExpression:"id"});break;case y.a.pdca:this.setState({displayExpression:"nome",valueExpression:"pdca_id"})}}},{key:"handleItemDeleting",value:function(e){var t=this,a=O.a.Deferred();Object(_.confirm)("Deseja remover este item dos favoritos? <br /><br /> <strong>"+e.itemData.nome+"</strong>","Aten\xe7\xe3o").done((function(o){a.resolve(!o),o&&(t.props.idModulo===window.MODULOS.DOCUMENTO?window.favoritar_item(e.itemData.tipo,e.itemData.id,!1):t.props.idModulo===window.MODULOS.PROCESSO?window.favoritar_item("solicitacoes",e.itemData.processo_id,!1):t.props.idModulo===window.MODULOS.TAREFAS?window.favoritar_item("tarefa_quadros",e.itemData.id,!1):t.props.idModulo===window.MODULOS.PROJETO?window.favoritar_item("projetos",e.itemData.id,!1):t.props.idModulo===window.MODULOS.RELACIONAMENTO?window.favoritar_item("funis_vendas",e.itemData.id,!1):t.props.idModulo===window.MODULOS.PDCA&&window.favoritar_item("pdcas",e.itemData.pdca_id,!1))})).fail(a.reject),e.cancel=a.promise()}},{key:"handleItemClick",value:function(e){if(this.props.idModulo===window.MODULOS.DOCUMENTO)"pasta"===e.itemData.tipo?window.View.load("central_documentos/listar",(function(t,a){a.show(!0,e.itemData.id)}),window.View.ABA.SIM_E_RECARREGAR_SE_ESTIVER_ABERTA):"documento"===e.itemData.tipo&&(e.itemData.id?"S"===e.itemData.ativa?(window.alert_info("Por favor, aguarde o download do documento"),m.a.obter_token_publico((function(t){m.a.download(window.WS_URI+"documento/download/?documento_revisao_id="+e.itemData.documento_revisao_id+"&token_publico="+t)}))):window.View.load("central_documentos/documento",(function(t,a){a.show(e.itemData.id,window.FORMULARIO.EDITAR)}),window.View.ABA.MULTIPLAS):Object(_.alert)("Nenhuma vers\xe3o do documento dispon\xedvel para download","Aviso"));else if(this.props.idModulo===window.MODULOS.PROCESSO){var t=function(t){window.alert_info("Por favor, aguarde a abertura de uma nova solicita\xe7\xe3o"),h.a.post("solicitacao/nova/",{versao_processo_id:e.itemData.versao_processo_id,versao_processo_atividade_id:e.itemData.versao_processo_atividade_id,data_referencia:t||null},(function(e){window.View.load("solicitacao/detalhes",(function(t,a){a.show(e,window.FORMULARIO.NOVO)}),window.View.ABA.MULTIPLAS)}))};"S"===e.itemData.dias_corridos_data_referencia?window.View.load("solicitacao/data_referencia",(function(e,a){a.onselect=function(e){t(e)},a.show()})):t()}else this.props.idModulo===window.MODULOS.TAREFAS?window.View.load("tarefa/detalhes",(function(t,a){a.show(e.itemData)}),window.View.ABA.MULTIPLAS):this.props.idModulo===window.MODULOS.PROJETO?window.View.load("atividade_projeto/listar",(function(t,a){a.show(e.itemData.id,e.itemData.projeto_template,e.itemData.cliente_nome)}),window.View.ABA.MULTIPLAS):this.props.idModulo===window.MODULOS.RELACIONAMENTO?window.View.load("oportunidade/listar",(function(t,a){a.show(e.itemData.id)}),window.View.ABA.MULTIPLAS):this.props.idModulo===window.MODULOS.PDCA&&window.View.load("pdca/atividades",(function(t,a){a.show(e.itemData)}),window.View.ABA.MULTIPLAS)}},{key:"handleItemTemplate",value:function(e){var t="";return this.props.idModulo===window.MODULOS.DOCUMENTO&&("pasta"===e.tipo?t='<i class="fas fa-folder"></i>':"documento"===e.tipo&&(t='<i class="fas fa-file"></i>')),O()('<div title="'+e.nome+'">'+t+" <span>"+e.nome+"</span></div>")}},{key:"render",value:function(){return Object(o.jsx)("div",{className:x.a.cardContainer,children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[""!==this.props.iconeUrl&&Object(o.jsx)("img",{src:this.props.iconeUrl,className:x.a.iconeModulo,alt:this.props.nomeModulo}),Object(o.jsx)("span",{className:x.a.topoTitulo,children:this.props.nomeModulo})]}),Object(o.jsx)("div",{children:Object(o.jsx)(b.a,{dataSource:new g.default({store:this.state.lista,paginate:!0,pageSize:10,valueExpr:this.state.valueExpression,displayExpr:this.state.displayExpression}),allowItemDeleting:!0,itemDeleteMode:"static",onItemDeleting:this.handleItemDeleting.bind(this),onItemClick:this.handleItemClick.bind(this),itemTemplate:this.handleItemTemplate.bind(this)})})]})})}}]),a}(f.a.Component);A.defaultProps={iconeUrl:"",nomeModulo:"?",idModulo:null,lista:[]};var S=a(542),C=a.n(S),R=a(844),I=a(1084),T=a.n(I);var k=function(e){Object(l.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(u.a)(e);if(t()){var n=Object(u.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(d.a)(this,a)}}(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).state={allowRender:!1,listouProcessos:!1,listouDocumentos:!1,listouTarefaQuadros:!1,listouProjetos:!1,listouFunisVendas:!1,listouPDCAS:!1,listaFavoritos:{documentos:[],processos:[],tarefaQuadros:[],projetos:[],funisVendas:[],pdcas:[]}},o.listarFavoritos=o.listarFavoritos.bind(Object(c.a)(o)),o}return Object(s.a)(a,[{key:"listarFavoritosDocumentos",value:function(e){m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_documentos")?h.a.get("documento/get_favoritos/",null,(function(t){var a,o,r=[];t&&(t.documentos&&(a=t.documentos),t.pastas&&(o=t.pastas),o&&a?r=[].concat(Object(i.a)(a),Object(i.a)(o)):o?r=o:a&&(r=a)),e.setState((function(e){return{listaFavoritos:Object(n.a)(Object(n.a)({},e.listaFavoritos),{},{documentos:r}),listouDocumentos:!0}}))})):this.setState({listouDocumentos:!0})}},{key:"listarFavoritosProcessos",value:function(e){m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_processos")?h.a.get("solicitacao/listar_disponiveis/",{lista_apenas_favoritas:!0},(function(t){var a=[];t&&(a=t),e.setState((function(e){return{listaFavoritos:Object(n.a)(Object(n.a)({},e.listaFavoritos),{},{processos:a}),listouProcessos:!0}}))})):this.setState({listouProcessos:!0})}},{key:"listarFavoritosTarefaQuadros",value:function(e){m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_tarefas")?h.a.get("tarefa_quadro/listar_favoritos/",null,(function(t){var a=[];t&&(a=t),e.setState((function(e){return{listaFavoritos:Object(n.a)(Object(n.a)({},e.listaFavoritos),{},{tarefaQuadros:a}),listouTarefaQuadros:!0}}))})):this.setState({listouTarefaQuadros:!0})}},{key:"listarFavoritosProjetos",value:function(e){m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_projetos")?h.a.get("projeto/listar_favoritos/",null,(function(t){var a=[];t&&(a=t),e.setState((function(e){return{listaFavoritos:Object(n.a)(Object(n.a)({},e.listaFavoritos),{},{projetos:a}),listouProjetos:!0}}))})):this.setState({listouProjetos:!0})}},{key:"listarFavoritosFunisVendas",value:function(e){m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_relacionamento")?h.a.get("funil_vendas/listar_favoritos/",null,(function(t){var a=[];t&&(a=t),e.setState((function(e){return{listaFavoritos:Object(n.a)(Object(n.a)({},e.listaFavoritos),{},{funisVendas:a}),listouFunisVendas:!0}}))})):this.setState({listouFunisVendas:!0})}},{key:"listarFavoritosPDCAS",value:function(e){m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"pdca")?h.a.get("pdca/listar_favoritos/",null,(function(t){var a=[];t&&(a=t),e.setState((function(e){return{listaFavoritos:Object(n.a)(Object(n.a)({},e.listaFavoritos),{},{pdcas:a}),listouPDCAS:!0}}))})):this.setState({listouPDCAS:!0})}},{key:"listarFavoritos",value:function(){var e=this;this.setState({listouDocumentos:!1,listouProcessos:!1,listouTarefaQuadros:!1,listouProjetos:!1,listouFunisVendas:!1,listouPDCAS:!1,allowRender:!1},(function(){e.listarFavoritosDocumentos(e),e.listarFavoritosProcessos(e),e.listarFavoritosTarefaQuadros(e),e.listarFavoritosProjetos(e),e.listarFavoritosFunisVendas(e),e.listarFavoritosPDCAS(e)}))}},{key:"componentDidMount",value:function(){this.listarFavoritos()}},{key:"componentDidUpdate",value:function(e,t){this.state.listouDocumentos&&this.state.listouProcessos&&this.state.listouTarefaQuadros&&this.state.listouProjetos&&this.state.listouFunisVendas&&this.state.listouPDCAS&&!t.allowRender&&this.setState({allowRender:!0})}},{key:"render",value:function(){return this.state.allowRender&&Object(o.jsxs)(C.a,{useNative:!0,style:{height:"calc(100vh - 45px)"},children:[Object(o.jsx)("div",{className:"panel-heading text-primary",children:Object(o.jsxs)("strong",{className:"dropdown home-title",children:[Object(o.jsx)("i",{className:"fa fa-star text-primary","aria-hidden":"true"}),"\xa0",Object(o.jsx)("span",{className:"txt_timeline",children:"Favoritos"}),Object(o.jsx)("button",{className:"btn btn-default btn_refresh_favoritos btn-title",onClick:this.listarFavoritos,children:Object(o.jsx)("span",{className:"fas fa-sync-alt text-primary"})})]})}),Object(o.jsxs)("div",{className:T.a.container,children:[m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_documentos")&&Object(o.jsx)(A,{iconeUrl:"assets/img/icones_bp/folder.svg",nomeModulo:"Documentos",idModulo:y.a.documento,lista:this.state.listaFavoritos.documentos}),m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_processos")&&Object(o.jsx)(A,{iconeUrl:"assets/img/icones_bp/processos.svg",nomeModulo:"Processos",idModulo:y.a.processo,lista:this.state.listaFavoritos.processos}),m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_tarefas")&&Object(o.jsx)(A,{iconeUrl:"assets/img/icones_bp/tarefa.svg",nomeModulo:"Tarefas",idModulo:y.a.tarefas,lista:this.state.listaFavoritos.tarefaQuadros}),m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_projetos")&&Object(o.jsx)(A,{iconeUrl:"assets/img/icones_bp/icon_black_project.svg",nomeModulo:"Projetos",idModulo:y.a.projeto,lista:this.state.listaFavoritos.projetos}),m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"gestao_relacionamento")&&Object(o.jsx)(A,{iconeUrl:"assets/img/icones_bp/people.svg",nomeModulo:"CRM",idModulo:y.a.crm,lista:this.state.listaFavoritos.funisVendas}),m.a.verifica_permissao(m.a.sessao.dados.empresa_filial_id,"pdca")&&Object(o.jsx)(A,{iconeUrl:"assets/img/icones_bp/list_alt.svg",nomeModulo:"PDCA",idModulo:y.a.pdca,lista:this.state.listaFavoritos.pdcas})]})]})||Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"panel-heading text-primary",style:{marginBottom:10},children:Object(o.jsxs)("strong",{className:"dropdown home-title",children:[Object(o.jsx)("i",{className:"fa fa-star text-primary","aria-hidden":"true"}),"\xa0",Object(o.jsx)("span",{className:"txt_timeline",children:"Favoritos"}),Object(o.jsx)("button",{className:"btn btn-default btn_refresh_favoritos btn-title",onClick:this.listarFavoritos,children:Object(o.jsx)("span",{className:"fas fa-sync-alt text-primary"})})]})}),Object(o.jsxs)("div",{className:T.a.loadingIndicator,children:[Object(o.jsx)(R.LoadIndicator,{visible:!0,height:40,width:40}),Object(o.jsx)("p",{children:"Por favor, aguarde"})]})]})}}]),a}(f.a.Component)},882:function(e,t,a){"use strict";a.r(t);var o=a(373),n=a(386),i=a(365),r=a(366),s=a(387),c=a(368),l=a(369),d=a(367),u=a(383),p=a.n(u),f=a(678),h=a.n(f),m=a(843),v=a.n(m),b=a(612),_=a(525),j=a(392),O=a(1085);a(1139);var g=function(e){Object(c.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(d.a)(e);if(t()){var n=Object(d.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(l.a)(this,a)}}(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).state={lista:null,edicao:!1,salvando:!1,edicaoId:null,edicaoDescricao:"",edicaoConcluido:!1,opcoes:Object(n.a)({exibirConcluidos:!1},window.App.get_parametro_usuario("notas_opcoes"))},o.listRef=p.a.createRef(),o.textDescricaoRef=p.a.createRef(),o.obterLista=o.obterLista.bind(Object(s.a)(o)),o.renderItemLista=o.renderItemLista.bind(Object(s.a)(o)),o.handleExibirOcultarConcluidosClick=o.handleExibirOcultarConcluidosClick.bind(Object(s.a)(o)),o.handleRefreshClick=o.handleRefreshClick.bind(Object(s.a)(o)),o.handleNovoClick=o.handleNovoClick.bind(Object(s.a)(o)),o.handleItemClick=o.handleItemClick.bind(Object(s.a)(o)),o.handleCancelarClick=o.handleCancelarClick.bind(Object(s.a)(o)),o.handleSalvarClick=o.handleSalvarClick.bind(Object(s.a)(o)),o.handleExcluirClick=o.handleExcluirClick.bind(Object(s.a)(o)),o.handleDescricaoChanged=o.handleDescricaoChanged.bind(Object(s.a)(o)),o.handleDescricaoKeyDown=o.handleDescricaoKeyDown.bind(Object(s.a)(o)),o.handleConcluidoChanged=o.handleConcluidoChanged.bind(Object(s.a)(o)),o}return Object(r.a)(a,[{key:"obterLista",value:function(){var e=this;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j.a.get({route:"nota/listar/",data:{exibir_concluidos:t},func_response:function(t){e(t)},func_fail:function(e){e.validation&&console.log(new Error(e.validation.messages.map((function(e){return e.message})).join("<br/>")))}})}((function(t){return e.setState({lista:t})}),this.state.opcoes.exibirConcluidos)}},{key:"componentDidMount",value:function(){this.obterLista()}},{key:"componentDidUpdate",value:function(e,t){this.textDescricao&&this.textDescricao.focus()}},{key:"handleRefreshClick",value:function(e){this.obterLista()}},{key:"handleItemClick",value:function(e){this.setState({edicao:!0,salvando:!1,edicaoId:e.itemData.id,edicaoDescricao:e.itemData.descricao,edicaoConcluido:"S"===e.itemData.concluido})}},{key:"handleExibirOcultarConcluidosClick",value:function(e){var t=this,a=Object(n.a)(Object(n.a)({},this.state.opcoes),window.App.get_parametro_usuario("notas_opcoes"));a.exibirConcluidos=!this.state.opcoes.exibirConcluidos,this.setState({opcoes:a},(function(){return t.obterLista()})),window.App.set_parametro_usuario("notas_opcoes",a)}},{key:"handleNovoClick",value:function(e){this.setState({edicao:!0,salvando:!1,edicaoId:null,edicaoDescricao:"",edicaoConcluido:!1})}},{key:"handleSalvarClick",value:function(e){var t,a,o=this;this.setState({salvando:!0}),t={nota_id:this.state.edicaoId,descricao:this.state.edicaoDescricao,concluido:this.state.edicaoConcluido},a=function(e){return o.cancelarEstadoEdicao()},j.a.post("nota/salvar",t,(function(e){a&&a(e)}))}},{key:"handleExcluirClick",value:function(e){var t,a,o=this;t=this.state.edicaoId,a=function(e){return o.cancelarEstadoEdicao()},j.a.post("nota/excluir",{nota_id:t},(function(e){a&&a(e)}))}},{key:"handleCancelarClick",value:function(e){this.cancelarEstadoEdicao()}},{key:"cancelarEstadoEdicao",value:function(){var e=this;this.setState({edicao:!1,salvando:!1,edicaoId:null,edicaoDescricao:"",edicaoConcluido:!1},(function(){e.obterLista()}))}},{key:"handleDescricaoChanged",value:function(e){this.setState({edicaoDescricao:e.target.value})}},{key:"handleDescricaoKeyDown",value:function(e){13!==e.keyCode||e.shiftKey||this.handleSalvarClick(null)}},{key:"handleConcluidoChanged",value:function(e){this.setState({edicaoConcluido:e.value})}},{key:"renderItemLista",value:function(e){var t=this,a="S"===e.concluido?{textDecoration:"line-through"}:{};return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(b.CheckBox,{value:"S"===e.concluido,defaultValue:!1,onValueChanged:function(a){a.event&&a.event.stopPropagation();var o=t.state.lista.slice();o.forEach((function(a,n){var i,r,s;+e.id===+a.id&&(o[n].concluido="S"===a.concluido?"N":"S",i=e.id,r=o[n].concluido,s=function(a){var i=o;i.forEach((function(r,s){+e.id===+r.id&&o[n].concluido!==(!0===a.concluido?"S":"N")&&(i[s].concluido=r.concluido?"S":"N",t.setState({lista:i}))}))},j.a.post("nota/concluir",{nota_id:i,concluido:r},(function(e){s&&s(e)})))})),t.setState({lista:o})}}),Object(o.jsx)(_.a,{}),Object(o.jsx)("div",{style:Object(n.a)(Object(n.a)({},a),{},{display:"flex"}),children:e.descricao})]})}},{key:"render",value:function(){var e=Object(o.jsxs)("div",{className:"text-muted",style:{padding:"10px",textAlign:"center",minHeight:"140px"},children:[Object(o.jsx)(_.b,{}),Object(o.jsx)("h5",{children:"Ainda n\xe3o h\xe1 notas"}),Object(o.jsx)("p",{children:"Suas notas ser\xe3o exibidas aqui"}),Object(o.jsx)(O.Button,{stylingMode:"text",onClick:this.handleNovoClick,children:"Criar uma nota..."})]}),t=Object(o.jsxs)("div",{children:[Object(o.jsx)("textarea",{ref:this.textDescricaoRef,className:"form-control",rows:4,value:this.state.edicaoDescricao,onChange:this.handleDescricaoChanged,onKeyDown:this.handleDescricaoKeyDown,maxLength:500,readOnly:this.state.salvando}),Object(o.jsx)(_.b,{}),Object(o.jsx)(b.CheckBox,{value:this.state.edicaoConcluido,defaultValue:!1,onValueChanged:this.handleConcluidoChanged,text:"Conclu\xeddo",readOnly:this.state.salvando}),Object(o.jsx)(_.b,{})]}),a=Object(o.jsx)(O.ScrollView,{useNative:!0,style:{height:"calc(100vh - 95px)"},children:Object(o.jsx)(h.a,{ref:this.listRef,dataSource:this.state.lista,displayExpr:"descricao",valueExpr:"id",onItemClick:this.handleItemClick,noDataText:"",itemRender:this.renderItemLista})}),n=Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"animationLoading",style:{padding:"10px",minHeight:"140px"},children:[Object(o.jsxs)("div",{className:"animationLoadingInline",children:[Object(o.jsx)("div",{className:"animationLoadingCheckA"}),Object(o.jsx)(_.a,{}),Object(o.jsx)("div",{className:"animationLoadingTaskA"})]}),Object(o.jsxs)("div",{className:"animationLoadingInline",children:[Object(o.jsx)("div",{className:"animationLoadingCheckA"}),Object(o.jsx)(_.a,{}),Object(o.jsx)("div",{className:"animationLoadingTaskA"})]}),Object(o.jsxs)("div",{className:"animationLoadingInline",children:[Object(o.jsx)("div",{className:"animationLoadingCheckA"}),Object(o.jsx)(_.a,{}),Object(o.jsx)("div",{className:"animationLoadingTaskA"})]}),Object(o.jsxs)("div",{className:"animationLoadingInline",children:[Object(o.jsx)("div",{className:"animationLoadingCheckA"}),Object(o.jsx)(_.a,{}),Object(o.jsx)("div",{className:"animationLoadingTaskA"})]})]}),Object(o.jsx)(_.b,{})]}),i=Object(o.jsx)(p.a.Fragment,{});i=this.state.edicao?t:this.state.lista?this.state.lista.length>0?a:e:n;var r=this.state.lista?this.state.lista.filter((function(e){return"N"===e.concluido})).length:0;return Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("div",{className:"panel-heading text-primary",children:Object(o.jsxs)("strong",{className:"dropdown home-title",children:[Object(o.jsx)("i",{className:"fas fa-sticky-note text-primary","aria-hidden":"true"}),"\xa0 Notas ",r>0?Object(o.jsx)("span",{className:"badge",children:r}):"",this.state.edicao?Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("button",{className:"btn btn-sm btn-default btn-title",title:"Salvar",onClick:this.handleSalvarClick,children:Object(o.jsx)("span",{className:"fa fa-save text-primary"})}),Object(o.jsx)("button",{className:"btn btn-sm btn-default btn-title",title:"Cancelar",onClick:this.handleCancelarClick,children:Object(o.jsx)("span",{className:"fa fa-undo text-primary"})}),+this.state.edicaoId>0?Object(o.jsx)("button",{className:"btn btn-sm btn-default btn-title",title:"Excluir",onClick:this.handleExcluirClick,children:Object(o.jsx)("span",{className:"far fa-trash-alt text-primary"})}):null]}):Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)("button",{className:"btn btn-sm btn-default btn-title",title:"Adicionar",onClick:this.handleNovoClick,children:Object(o.jsx)("span",{className:"fa fa-plus text-primary"})}),Object(o.jsx)("button",{className:"btn btn-default btn-title",title:"Recarregar",onClick:this.handleRefreshClick,children:Object(o.jsx)("span",{className:"fas fa-sync-alt text-primary"})}),Object(o.jsx)("button",{className:"btn btn-sm btn-default btn-title",title:"Exibir/esconder conclu\xeddos",onClick:this.handleExibirOcultarConcluidosClick,children:Object(o.jsx)("span",{className:"fas fa-tasks text-primary"})})]})]})}),Object(o.jsx)("div",{className:v.a.cardContainer,style:{padding:"2px"},children:i})]})}},{key:"list",get:function(){return this.listRef.current?this.listRef.current.instance:null}},{key:"textDescricao",get:function(){return this.textDescricaoRef.current?this.textDescricaoRef.current:null}}]),a}(p.a.Component);g.defaultProps={abaTitulo:"Notas"};t.default=g},889:function(e,t,a){"use strict";a.d(t,"a",(function(){return w})),a.d(t,"b",(function(){return x}));var o=a(373),n=a(390),i=a(492),r=a(526),s=a(420),c=a(567),l=a(365),d=a(368),u=a(369),p=a(367);var f=function(e){Object(d.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(p.a)(e);if(t()){var n=Object(p.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(u.a)(this,a)}}(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(n.Column);f.defaultProps={dataField:"situacao",caption:"Situa\xe7\xe3o",width:100,children:Object(o.jsx)(n.Lookup,{dataSource:window.CHAMADO_SITUACAO_LOOKUP,displayExpr:"descricao",valueExpr:"id"})};var h=a(823),m=a(817),v=a(816),b=a(63),_=a.n(b),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return+e.data.situacao!==window.CHAMADO_SITUACAO.ENCERRADO&&+e.data.situacao!==window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE&&e.data.data_previsao_retorno?Object(o.jsx)(m.a,{TipoGestaoTempo:e.data.tipo_gestao_tempo,HorasEstimadas:e.data.horas_previsao_retorno,DataPrazo:e.data.data_previsao_retorno,CalendarioTrabalhoId:e.data.calendario_trabalho_id_param,ExibirTituloDataPrazo:t,TituloDataPrazo:"Previs\xe3o de Retorno"}):""},O=function(e){var t=parseFloat(e.data.percentual_encerramento_inatividade),a=e.data.tempo_encerramento_inatividade;return![window.CHAMADO_SITUACAO.AGUARDANDO_ATENDIMENTO,window.CHAMADO_SITUACAO.AGUARDANDO_RESPONSAVEL,window.CHAMADO_SITUACAO.ENCERRADO,window.CHAMADO_SITUACAO.ENCERRADO_INATIVIDADE,window.CHAMADO_SITUACAO.AGUARDANDO_FORNECEDOR].includes(+e.data.situacao)&&a?Object(o.jsxs)("div",{className:"small",children:[Object(o.jsx)("div",{style:{display:"flex",flexFlow:"row-reverse"},children:Object(o.jsx)("div",{style:{fontWeight:"bold",paddingLeft:"10px",paddingRight:"0px"},children:Object(o.jsx)("div",{className:"text text-default text-warning",style:{font:"inherit",width:"100%"},children:a})})}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"progress div_progress bar_progresso",style:{marginBottom:"0px",height:"12px"},children:Object(o.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-warning bar_progresso",style:{width:t+"%"}})})})]}):""},g=function(e,t){return Object(o.jsx)(v.a,{viewHtmlId:t,detalhes:e.data,autoUpdate:!0})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return[Object(o.jsx)(i.a,{},"id"),Object(o.jsx)(r.a,{dataField:"data_abertura",caption:"Data Abertura"},"data_abertura"),Object(o.jsx)(r.a,{dataField:"data_encerramento",caption:"Data Encerramento"},"data_encerramento"),Object(o.jsx)(s.a,{dataField:"prioridade_nome",caption:"Prioridade"},"prioridade_nome"),Object(o.jsx)(s.a,{dataField:"assunto",caption:"Assunto"},"assunto"),Object(o.jsx)(f,{},"situacao"),Object(o.jsx)(c.a,{caption:"Solicitante",dataField:"usuario_solicitante_nome",dataFieldUsuarioId:"solicitante_id"},"usuario_solicitante_nome"),Object(o.jsx)(c.a,{caption:"Respons\xe1vel",dataField:"usuario_responsavel_nome",dataFieldUsuarioId:"usuario_responsavel_id"},"usuario_responsavel_nome"),Object(o.jsx)(h.a,{},"entidadeTipo"),Object(o.jsx)(s.a,{dataField:"codigo_entidade",caption:"C\xf3digo Entidade"},"codigo_entidade"),Object(o.jsx)(s.a,{dataField:"entidade_nome",caption:"Entidade"},"entidade_nome"),Object(o.jsx)(r.a,{dataField:"data_previsao_retorno",caption:"Previs\xe3o retorno",cellRender:j},"data_previsao_retorno"),Object(o.jsx)(s.a,{dataField:"motivo",caption:"Motivo"},"motivo"),Object(o.jsx)(s.a,{dataField:"classificacao_nome",caption:"Classifica\xe7\xe3o",visible:!1},"classificacao_nome"),Object(o.jsx)(s.a,{dataField:"grupo_motivo_nome",caption:"Grupo de Motivo"},"grupo_motivo_nome"),Object(o.jsx)(n.Column,{dataField:"percentual_encerramento_inatividade",dataType:"number",caption:"% para encerramento por inatividade",cellRender:O,allowGrouping:!1,allowFiltering:!1,width:150},"percentual_encerramento_inatividade"),Object(o.jsx)(n.Column,{dataField:"sla",dataType:"number",caption:"SLA",cellRender:function(t){return g(t,e)},allowGrouping:!1,allowFiltering:!1,width:150},"sla"),Object(o.jsx)(s.a,{dataField:"nota_avaliacao_nome",caption:"Nota de Avalia\xe7\xe3o",visible:!1},"nota_avaliacao_nome")]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return[Object(o.jsx)(i.a,{},"chamado_id"),Object(o.jsx)(s.a,{dataField:"entidade_nome",caption:"Entidade",cellTemplate:function(e,t){var a=t.data.tipo,o=t.data.entidade_nome,n="C"===a?"info":"F"===a?"warning":"O"===a?"primary":"danger";_()(e).html('<span class="label label-'+n+'">'+a+"</span>&nbsp;"+o)}},"entidade_nome"),Object(o.jsx)(r.a,{dataField:"data_abertura",caption:"Data Abertura"},"data_abertura"),Object(o.jsx)(r.a,{dataField:"data_previsao_retorno",caption:"Previs\xe3o retorno",cellRender:j,width:180},"data_previsao_retorno"),Object(o.jsx)(s.a,{dataField:"assunto",caption:"Assunto"},"assunto"),Object(o.jsx)(s.a,{dataField:"motivo",caption:"Motivo",cellTemplate:function(e,t){var a=window.Colors(t.data.motivo_cor);_()(e).html('<span class="label" style="background: '+a.hex+"; color: "+a.nome_hex+';">'+t.data.motivo+"</span>")}},"motivo"),Object(o.jsx)(c.a,{caption:"Solicitante",dataField:"usuario_solicitante_nome",dataFieldUsuarioId:"solicitante_id",width:200},"usuario_solicitante_nome"),Object(o.jsx)(c.a,{caption:"Respons\xe1vel",dataField:"usuario_responsavel_nome",dataFieldUsuarioId:"usuario_responsavel_id",width:200},"usuario_responsavel_nome"),Object(o.jsx)(s.a,{dataField:"prioridade_nome",caption:"Prioridade",width:180},"prioridade_nome"),Object(o.jsx)(f,{width:200},"chamado_situacao"),Object(o.jsx)(r.a,{dataField:"data_encerramento",caption:"Data Encerramento"},"data_encerramento"),Object(o.jsx)(n.Column,{dataField:"sla",dataType:"number",caption:"SLA Tempo Atendimento",cellRender:function(t){return g(t,e)},allowGrouping:!1,allowFiltering:!1,allowSorting:!1,width:180},"sla_tempo_atendimento"),Object(o.jsx)(n.Column,{dataField:"sla_tempo_reacao",caption:"SLA Tempo Rea\xe7\xe3o",allowHeaderFiltering:!1,allowGrouping:!1,width:150,calculateCellValue:function(e){return window.format_time(e.sla_tempo_reacao)}},"sla_tempo_reacao"),Object(o.jsx)(n.Column,{dataField:"sla_tempo_resolucao",caption:"SLA Tempo Resolu\xe7\xe3o",allowHeaderFiltering:!1,allowGrouping:!1,width:150,calculateCellValue:function(e){return window.format_time(e.sla_tempo_resolucao)}},"sla_tempo_resolucao"),Object(o.jsx)(n.Column,{dataField:"sla_tempo_total",caption:"SLA Total",allowHeaderFiltering:!1,allowGrouping:!1,width:150,calculateCellValue:function(e){return window.format_time(e.sla_tempo_total)}},"sla_tempo_total"),Object(o.jsx)(n.Column,{dataField:"sla_tempo_solicitante",caption:"SLA Tempo Solicitante",allowHeaderFiltering:!1,allowGrouping:!1,width:150,calculateCellValue:function(e){return window.format_time(e.sla_tempo_solicitante)}},"sla_tempo_solicitante"),Object(o.jsx)(n.Column,{dataField:"sla_tempo_encerrado",caption:"SLA Tempo Encerrado",allowHeaderFiltering:!1,allowGrouping:!1,width:150,calculateCellValue:function(e){return window.format_time(e.sla_tempo_encerrado)}},"sla_tempo_encerrado"),Object(o.jsx)(s.a,{dataField:"classificacao_nome",caption:"Classifica\xe7\xe3o",visible:!1},"classificacao_nome"),Object(o.jsx)(s.a,{caption:"Grupo Motivo",dataField:"grupo_motivo_nome",width:180},"grupo_motivo_nome"),Object(o.jsx)(h.a,{width:100},"entidade_tipo"),Object(o.jsx)(s.a,{dataField:"codigo_entidade",caption:"C\xf3digo Entidade"},"codigo_entidade"),Object(o.jsx)(s.a,{caption:"Nome Projeto",dataField:"projeto_nome",width:100},"projeto_nome"),Object(o.jsx)(s.a,{caption:"Atividade Projeto",dataField:"projeto_atividade_descricao",width:100},"projeto_atividade_descricao"),Object(o.jsx)(n.Column,{dataField:"percentual_encerramento_inatividade",dataType:"number",caption:"Percentual Encerramento Inatividade",cellRender:O,allowGrouping:!1,allowFiltering:!1,width:150},"percentual_encerramento_inatividade"),Object(o.jsx)(s.a,{dataField:"nota_avaliacao_nome",caption:"Nota de Avalia\xe7\xe3o",visible:!1},"nota_avaliacao_nome"),Object(o.jsx)(r.a,{dataField:"ultima_mensagem_data_envio",caption:"Ultima A\xe7\xe3o",visible:!1},"ultima_mensagem_data_envio")]}},895:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var o=a(386),n=a(373),i=a(365),r=a(368),s=a(369),c=a(367),l=a(390),d=a(366),u=a(387),p=a(383),f=a.n(p),h=a(63),m=a.n(h),v=a(105),b=a(412),_=a(392),j=a(491),O=a(490),g=a.n(O);a(1077);var w=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(e){var o,n,r,s,c,l,d,p,f,h,m,v,b,_,j,O,g,w,x,y,A,S,C,R,I,T,k;return Object(i.a)(this,a),(k=t.call(this,e)).state={documentoRevisaoID:null!==(o=e.documentoRevisaoID)&&void 0!==o?o:null,documentoRevisaoIDBackup:null!==(n=null!==(r=e.documentoRevisaoIDBackup)&&void 0!==r?r:e.documentoRevisaoID)&&void 0!==n?n:null,documentoRevisaoMimeType:null!==(s=e.documentoRevisaoMimeType)&&void 0!==s?s:null,documentoRevisaoMimeTypeBackup:null!==(c=null!==(l=e.documentoRevisaoMimeTypeBackup)&&void 0!==l?l:e.documentoRevisaoMimeType)&&void 0!==c?c:null,arquivoNome:null!==(d=e.arquivoNome)&&void 0!==d?d:"",arquivoNomeBackup:null!==(p=null!==(f=e.arquivoNomeBackup)&&void 0!==f?f:e.arquivoNome)&&void 0!==p?p:"",arquivoTamanho:null!==(h=e.arquivoTamanho)&&void 0!==h?h:0,arquivoTamanhoBackup:null!==(m=null!==(v=e.arquivoTamanhoBackup)&&void 0!==v?v:e.arquivoTamanho)&&void 0!==m?m:0,arquivoSelecionado:null!==(b=e.arquivoSelecionado)&&void 0!==b?b:null,arquivoPrevisao:null!==(_=e.arquivoPrevisao)&&void 0!==_?_:null,desabilitado:null===(j=e.desabilitado)||void 0===j||j,exibirPrevisao:null===(O=e.exibirPrevisao)||void 0===O||O,obrigatorio:null!==(g=e.obrigatorio)&&void 0!==g&&g,clicksignAtivo:null!==(w=e.clicksignAtivo)&&void 0!==w&&w,certsignAtivo:null!==(x=e.certsignAtivo)&&void 0!==x&&x,d4signAtivo:null!==(y=e.d4signAtivo)&&void 0!==y&&y,elemKey:null!==(A=e.elemKey)&&void 0!==A?A:null,solicitacaoID:null!==(S=e.solicitacaoID)&&void 0!==S?S:null,solicitacaoNumero:null!==(C=e.solicitacaoNumero)&&void 0!==C?C:null,linhaTabela:null!==(R=e.linhaTabela)&&void 0!==R?R:null,objCampoTabela:null!==(I=e.objCampoTabela)&&void 0!==I?I:null,placeholder:null!==(T=e.placeholder)&&void 0!==T?T:"Arraste um arquivo aqui ou clique no bot\xe3o para pesquisar"},k.handleLimparClick=k.handleLimparClick.bind(Object(u.a)(k)),k.handleSelecionarClick=k.handleSelecionarClick.bind(Object(u.a)(k)),k.handleDesfazerClick=k.handleDesfazerClick.bind(Object(u.a)(k)),k.handleVisualizarClick=k.handleVisualizarClick.bind(Object(u.a)(k)),k.handleDownloadClick=k.handleDownloadClick.bind(Object(u.a)(k)),k.handleClicksignSignatariosClick=k.handleClicksignSignatariosClick.bind(Object(u.a)(k)),k.handleCertsignSignatariosClick=k.handleCertsignSignatariosClick.bind(Object(u.a)(k)),k.handleD4SignSignatariosClick=k.handleD4SignSignatariosClick.bind(Object(u.a)(k)),k.handleInputDrop=k.handleInputDrop.bind(Object(u.a)(k)),k}return Object(d.a)(a,[{key:"handleLimparClick",value:function(e){var t=this;this.state.desabilitado||this.setState({documentoRevisaoID:null,arquivoSelecionado:null,arquivoNome:"",arquivoTamanho:0},(function(){t.props.handleAlterado&&t.props.handleAlterado(t.state)}))}},{key:"handleSelecionarClick",value:function(e){var t=this;if(!this.state.desabilitado){var a=document.createElement("input");a.type="file",a.onchange=function(e){var a=e.target.files[0],n={arquivoPrevisao:null};"undefined"!=typeof a&&a&&(n.documentoPastaID=null,n.arquivoSelecionado=a,n.arquivoNome=a.name,n.arquivoTamanho=a.size,n.documentoRevisaoMimeType=a.type),t.setState(Object(o.a)({},n),(function(){t.props.handleAlterado&&t.props.handleAlterado(t.state)}))},this.setState({}),m()(document).ready((function(){a.click()}))}}},{key:"handleDesfazerClick",value:function(e){this.setState({arquivoSelecionado:null,arquivoPrevisao:null,documentoRevisaoID:this.state.documentoRevisaoIDBackup,documentoRevisaoMimeType:this.state.documentoRevisaoMimeTypeBackup,arquivoNome:this.state.arquivoNomeBackup,arquivoTamanho:this.state.arquivoTamanhoBackup})}},{key:"handleVisualizarClick",value:function(e){var t=this;["application/pdf"].includes(this.state.documentoRevisaoMimeType)?b.a.load("central_documentos/visualizar_pdf",(function(e,a){a.show(t.state.documentoRevisaoID)})):["image/png","image/bmp","image/jpeg","image/jpg","image/gif"].includes(this.state.documentoRevisaoMimeType)&&b.a.load("central_documentos/visualizar_documento",(function(e,a){a.show(t.state.documentoRevisaoID)}))}},{key:"handleDownloadClick",value:function(e){var t=this;v.a.obter_token_publico((function(e){t.state.documentoRevisaoID>0&&v.a.download(window.WS_URI+"documento/download/?documento_revisao_id="+t.state.documentoRevisaoID+"&solicitacao=true&token_publico="+e)}),this.state.documentoRevisaoID)}},{key:"handleClicksignSignatariosClick",value:function(e){var t=this;this.state.documentoRevisaoID>0?b.a.load("clicksign/detalhes",(function(e,a){a.show(t.state.documentoRevisaoID)}),b.a.ABA.SIM):b.a.load("clicksign/configurar_signatarios",(function(e,a){a.show(null,!1,t.state.elemKey,t.state.linhaTabela,t.state.solicitacaoID)}),b.a.ABA.SIM)}},{key:"handleCertsignSignatariosClick",value:function(e){var t=this;this.state.documentoRevisaoID>0?b.a.load("certsign/detalhes",(function(e,a){a.show(t.state.documentoRevisaoID)}),b.a.ABA.SIM):b.a.load("certsign/configurar_signatarios",(function(e,a){a.show(null,!1,t.state.elemKey,t.state.linhaTabela,t.state.solicitacaoID)}),b.a.ABA.SIM)}},{key:"handleD4SignSignatariosClick",value:function(e){var t=this;_.a.get("processo/get_parametros/",null,(function(e){var a=e.processo_padrao_mensagem_d4sign,o=t.state.solicitacaoID;"S"===v.a.sessao.dados.parametro_processo.numero_solicitacao_por_processo&&(o=t.state.solicitacaoNumero),t.state.documentoRevisaoID>0?b.a.load("d4sign/detalhes",(function(e,n){n.show(t.state.documentoRevisaoID,null,a,o)}),b.a.ABA.SIM):b.a.load("d4sign/configurar_signatarios",(function(e,n){n.show(null,!1,t.state.elemKey,t.state.linhaTabela,o,a)}),b.a.ABA.MULTIPLAS)}))}},{key:"handleInputDragStart",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleInputDragOver",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleInputDragLeave",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleInputDrop",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var a=!1,n=!1;if(e.dataTransfer&&e.dataTransfer.items&&(e.dataTransfer.items.length>1&&(n=!0),m()(e.dataTransfer.items).each((function(e,t){t.webkitGetAsEntry().isDirectory&&(a=!0)}))),a)window.alert_modal("Aviso","<strong>Ocorreu uma falha na opera\xe7\xe3o!</strong> <br /><br /> <strong>N\xe3o</strong> \xe9 poss\xedvel realizar o <strong>upload de pastas</strong> atrav\xe9s deste campo. Por favor, selecione apenas um arquivo e tente novamente."),this.setState({});else if(n)window.alert_modal("Aviso","<strong>Ocorreu uma falha na opera\xe7\xe3o!</strong> <br /><br /> <strong>N\xe3o</strong> \xe9 poss\xedvel realizar o <strong>upload de v\xe1rios arquivos</strong> atrav\xe9s deste campo. Por favor, selecione apenas um arquivo e tente novamente."),this.setState({});else if(e&&e.dataTransfer&&e.dataTransfer.files){if(this.state.desabilitado)return;var i={arquivoPrevisao:null},r=e.dataTransfer.files[0];"undefined"!=typeof r&&r&&(i.documentoPastaID=null,i.arquivoSelecionado=r,i.arquivoNome=r.name,i.arquivoTamanho=r.size),this.setState(Object(o.a)({},i),(function(){t.props.handleAlterado&&t.props.handleAlterado(t.state)}))}}},{key:"render",value:function(){var e=this,t=null,a=null,i=null,r=null,s=null,c=null,l=null,d=null,u=null,p=null;if(!this.state.desabilitado&&this.state.documentoRevisaoIDBackup>0&&(this.state.arquivoSelecionado||!this.state.documentoRevisaoID)&&(p=Object(n.jsx)(O.Item,{locateInMenu:"always",location:"after",widget:"dxButton",children:Object(n.jsx)(j.Button,{onClick:this.handleDesfazerClick,text:"Desfazer",icon:"fa fa-undo",stylingMode:"text",disabled:this.state.desabilitado})})),null!=this.state.arquivoSelecionado||this.state.documentoRevisaoID>0){if("undefined"!=typeof this.state.arquivoTamanho&&(a=Object(n.jsx)(O.Item,{location:"after",children:Object(n.jsx)(j.Button,{text:window.filesize(parseInt(this.state.arquivoTamanho,10)||0),stylingMode:"text",disabled:!0})})),this.state.desabilitado||(i=Object(n.jsx)(O.Item,{locateInMenu:"always",location:"after",widget:"dxButton",children:Object(n.jsx)(j.Button,{onClick:this.handleLimparClick,text:"Limpar",icon:"fa fa-trash-alt",stylingMode:"text"})})),this.state.clicksignAtivo){var f=window.extensao_valida(this.state.arquivoNome,window.extensoes_validas_assinatura);s=Object(n.jsx)(O.Item,{locateInMenu:"always",location:"after",widget:"dxButton",children:Object(n.jsx)(j.Button,{onClick:f?this.handleClicksignSignatariosClick:null,text:"Assinaturas (Clicksign)",icon:"fa fa-edit",stylingMode:"text",disabled:!f})})}if(this.state.certsignAtivo){var h=window.extensao_valida(this.state.arquivoNome,window.extensoes_validas_assinatura);c=Object(n.jsx)(O.Item,{locateInMenu:"always",location:"after",widget:"dxButton",children:Object(n.jsx)(j.Button,{onClick:h?this.handleCertsignSignatariosClick:null,text:"Assinaturas (Certsign)",icon:"fa fa-edit",stylingMode:"text",disabled:!h})})}if(this.state.d4signAtivo){var m=window.extensao_valida(this.state.arquivoNome,window.extensoes_validas_assinatura);l=Object(n.jsx)(O.Item,{locateInMenu:"always",location:"after",widget:"dxButton",children:Object(n.jsx)(j.Button,{onClick:m?this.handleD4SignSignatariosClick:null,text:"Assinaturas (D4Sign)",icon:"fa fa-edit",stylingMode:"text",disabled:!m})})}if(this.state.exibirPrevisao){var b=this.state.arquivoPrevisao;if(this.state.arquivoSelecionado){if(null==b){var _=new FileReader;_.onload=function(t){for(var a=!1,o=[".jpg",".jpeg",".bmp",".gif",".png"],n=0;n<o.length;n++){var i=o[n];if(e.state.arquivoNome.substr(e.state.arquivoNome.length-i.length,i.length).toLowerCase()===i.toLowerCase()){a=!0;break}}e.setState({arquivoPrevisao:!!a&&t.target.result})},_.readAsDataURL(this.state.arquivoSelecionado)}}else if(this.state.documentoRevisaoID>0){if(null==b)if(["image/png","image/bmp","image/jpeg","image/jpg","image/gif"].includes(this.state.documentoRevisaoMimeType))b=window.WS_URI+"/documento/midia/?documento_revisao_id="+this.state.documentoRevisaoID+"&tipo=v&tamanho=200&token_midia="+v.a.sessao.token_midia+"&anticache="+(new Date).getTime()}b&&(t=Object(n.jsx)("div",{style:{"border-left":"1px solid #ccc","border-right":"1px solid #ccc","border-bottom":"1px solid #ccc"},children:Object(n.jsx)("img",{src:b,style:{"max-height":"200px","max-width":"100%"},alt:"Imagem"})}))}}else r=Object(n.jsx)(j.Button,{onClick:this.handleSelecionarClick,hint:"Selecionar",icon:"fa fa-upload",stylingMode:"text",disabled:this.state.desabilitado});!this.state.arquivoSelecionado&&this.state.documentoRevisaoID>0&&(["application/pdf","image/png","image/bmp","image/jpeg","image/jpg","image/gif"].includes(this.state.documentoRevisaoMimeType)&&(d=Object(n.jsx)(j.Button,{onClick:this.handleVisualizarClick,hint:"Visualizar",icon:"fa fa-window-maximize",stylingMode:"text"})),u=Object(n.jsx)(O.Item,{locateInMenu:"always",location:"after",widget:"dxButton",children:Object(n.jsx)(j.Button,{onClick:this.handleDownloadClick,text:"Download",icon:"fa fa-download",stylingMode:"text"})}));var w={onDragStart:this.handleInputDragStart,onDrag:this.handleInputDragStart,onDragOver:this.handleInputDragOver,onDragEnter:this.handleInputDragOver,onDragLeave:this.handleInputDragLeave,onDragEnd:this.handleInputDragLeave,onDrop:this.handleInputDrop};return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({},w),{},{style:{display:"flex",justifyContent:"space-around"},children:[Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)("div",{className:"input-group",style:{border:0,backgroundColor:"transparent",width:"100%"},children:Object(n.jsx)("input",{type:"text",className:"form-control",value:this.state.arquivoNome,readOnly:!0,placeholder:this.state.placeholder,style:{paddingLeft:"3px",paddingRight:"3px",boxShadow:"none",border:0,backgroundColor:"transparent",width:"100%"},onClick:null!=this.state.arquivoSelecionado||this.state.documentoRevisaoID>0?null:this.handleSelecionarClick,required:this.state.obrigatorio})})}),Object(n.jsxs)(g.a,{style:{border:0,backgroundColor:"transparent"},children:[a,Object(n.jsxs)(O.Item,{location:"after",children:[r,d]}),p,u,s,c,l,null,i]}),t]}))}}]),a}(f.a.Component);w.defaultProps={};var x=function(e){Object(r.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,o=Object(c.a)(e);if(t()){var n=Object(c.a)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Object(s.a)(this,a)}}(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(l.Column);x.defaultProps={dataField:"documento_id",caption:"Documento",width:150,cellRender:function(e){var t,a,i,r,s,c,l,d="object"===typeof e.data.documento_id?e.data.documento_id:{desabilitado:null!==(t=e.data.desabilitado)&&void 0!==t&&t,documentoRevisaoID:null!==(a=e.data.documento_revisao_id)&&void 0!==a?a:null,documentoRevisaoMimeType:null!==(i=e.data.mime_type)&&void 0!==i?i:null,arquivoNome:null!==(r=e.data.nome_arquivo)&&void 0!==r?r:null,arquivoTamanho:null!==(s=e.data.tamanho)&&void 0!==s?s:null,placeholder:null!==(c=e.column.placeholder)&&void 0!==c?c:null,exibirPrevisao:null!==(l=e.column.exibirPrevisao)&&void 0!==l?l:null};return d.handleAlterado=function(t){e.component.cellValue(e.rowIndex,"documento_id",t)},Object(n.jsx)(w,Object(o.a)({},d))},allowEditing:!1}}}]);